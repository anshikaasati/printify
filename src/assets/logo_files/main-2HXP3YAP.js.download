import{a as $m,c as Gm,d as jm,e as zm}from"./chunk-F3HI6THJ.js";import{$b as Tm,Ba as dm,Bb as Zs,Cc as Bm,Db as Qs,Ec as Hm,Fb as Sm,Fc as $e,Gc as vu,Hc as uo,Ka as pm,L as om,M as im,Ma as fm,O as Ks,Ob as it,Pb as ym,T as Te,U as sm,Ub as Em,Va as bu,W as Tu,Wa as mm,X as $,Xa as Iu,Y as Js,Z as am,_ as cm,_a as hm,a as rm,bc as bm,dc as Im,ec as vm,fc as xm,gc as Cm,ha as Si,hc as Rm,ia as um,ic as ea,jc as Am,kc as wm,lc as Nm,na as lm,nc as Oe,oc as km,pc as Hn,rc as Mm,sc as Om,tc as co,ub as Xs,uc as Dm,vc as Lm,wc as Pm,x as Vs,xc as Fm,yb as gm,yc as Um,za as ao,zb as _m,zc as ta}from"./chunk-TFXFKW3J.js";import{a as p,b as T,c as so,e as mT,g as F}from"./chunk-6DTZ7UCQ.js";var Wm=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Js({type:t,selectors:[["pfh-app-loader"]],standalone:!0,features:[Xs],decls:10,vars:0,consts:[[1,"loader-container"],[1,"loader"],["src","/pfh/assets/logo-full.svg","alt","Printify Logo","width","135","height","39","title","Printify - Drop Shipping Print on Demand for Ecommerce"],[1,"loading-dots"],[1,"loading-wrapper"]],template:function(o,i){o&1&&(bu(0,"div",0)(1,"div",1),Iu(2,"img",2)(3,"br")(4,"br"),bu(5,"div",3)(6,"div",4),Iu(7,"div")(8,"div")(9,"div"),mm()()()())},styles:['@charset "UTF-8";.loader-container[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;z-index:40;background-color:#fff}.loader-container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.loader-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:122px}.loader-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:135px}.loading-dots[_ngcontent-%COMP%]   .loading-wrapper[_ngcontent-%COMP%]{margin:auto;height:18px;text-align:center}.loading-dots[_ngcontent-%COMP%]   .loading-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:18px;height:18px;background-color:#c2c2c2;border-radius:100%;display:inline-block;animation:_ngcontent-%COMP%_loading-dots 1.4s infinite ease-in-out both}.loading-dots[_ngcontent-%COMP%]   .loading-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s;margin-right:6px}.loading-dots[_ngcontent-%COMP%]   .loading-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s;margin-right:6px}@keyframes _ngcontent-%COMP%_loading-dots{0%{opacity:0}to{opacity:1}0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}'],changeDetection:0});let e=t;return e})();var Ym=(()=>{let t=class t{constructor(){this.window=$(Hn),this.document=$(it),this.environment=$(co),this.isBrowser=$(Oe)}setup(){this.isBrowser&&(this.insertGtmIframe(),this.runInitScript())}insertGtmIframe(){let r=this.document.createElement("noscript"),o=this.document.createElement("iframe");o.src=`https://www.googletagmanager.com/ns.html?id=${this.environment.gtmId}`,o.style.display="none",o.style.visibility="hidden",o.height="0",o.width="0",r.appendChild(o),this.document.body.insertBefore(r,this.document.body.firstChild)}runInitScript(){!this.window||!this.document||function(r,o,i,s,a){r[s]=r[s]||[],r[s].push({"gtm.start":new Date().getTime(),event:"gtm.js"});let c=o.getElementsByTagName(i)[0],u=o.createElement(i),d=s!="dataLayer"?"&l="+s:"";u.async=!0,u.src=u.src="https://www.googletagmanager.com/gtm.js?id="+a+d,c.parentNode.insertBefore(u,c)}(this.window,this.document,"script","dataLayer",this.environment.gtmId)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var qm=(()=>{let t=class t{constructor(){this.storage=$(uo),this.isBrowser=$(Oe),this.document=$(it)}setup(){if(!this.isBrowser)return;let r=this.document.createElement("script");r.defer=!0,r.async=!0,r.src="https://static.ada.support/embed2.js",r.setAttribute("data-handle","printify"),r.setAttribute("id","__ada");let o=this.storage.getNonPrimitive("session",{},$e.Local);window.adaSettings={align:"left",adaReadyCallback:()=>{o.user_id&&window.adaEmbed.setSensitiveMetaFields({user_id:o.user_id})}},o.user_id&&(window.adaSettings.zdChatterAuthCallback=i=>{let s=`https://printify.com/api/v1/users/${o.user_id}/zendesk/classic-web-widget-token`;fetch(s,{method:"POST",headers:{Authorization:`Bearer ${o.access_token}`}}).then(a=>{a.json().then(({zendesk_classic_jwt:c})=>{c&&i(c)})})}),this.document.head.appendChild(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Vm=(()=>{let t=class t{constructor(){this.isBrowser=$(Oe),this.document=$(it)}setup(){if(!this.isBrowser)return;let r=this.document.createElement("script");r.src="https://consent-eu.cookiefirst.com/sites/printify.com-f151c743-52ec-46af-acc5-9a6f57dd1e91/consent.js",this.document.head.appendChild(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function hT(e,t){e&1&&hm(0)}var Km=(()=>{let t=class t{constructor(){this.userPrivacyService=$(Vm),this.chatbotService=$(qm),this.analyticsService=$(Hm),this.gtmService=$(Ym),this.fullstoryService=$($m),this.featureTogglesService=$(Gm),this.isRebrand$=this.featureTogglesService.isFeatureEnabled$("martech_homepage_rebrand_hero_variations"),this.uiComponent$=this.isRebrand$.pipe(im(r=>F(this,null,function*(){if(r){let{UiComponent:i}=yield import("./chunk-EJ2LDGM4.js");return i}let{OldUiComponent:o}=yield import("./chunk-34MIWGGR.js");return o})),om(Wm))}ngOnInit(){this.userPrivacyService.setup(),this.analyticsService.setup(),this.chatbotService.setup(),this.featureTogglesService.setup(),this.gtmService.setup(),this.fullstoryService.setup()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Js({type:t,selectors:[["pfh-app-root"]],standalone:!0,features:[Xs],decls:2,vars:3,consts:[[4,"ngComponentOutlet"]],template:function(o,i){o&1&&(pm(0,hT,1,0,"ng-container",0),gm(1,"async")),o&2&&fm("ngComponentOutlet",_m(1,1,i.uiComponent$))},dependencies:[Tm,Em],encapsulation:2,changeDetection:0});let e=t;return e})();var _u={};mT(_u,{BrowserClient:()=>Ro,SDK_VERSION:()=>Ge,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Dt,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>xe,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Rr,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>ke,Scope:()=>Ke,SentryErrorHandler:()=>eT,TraceClass:()=>Dk,TraceDirective:()=>Mk,TraceMethod:()=>Lk,TraceModule:()=>Ok,TraceService:()=>gu,WINDOW:()=>w,addBreadcrumb:()=>It,addEventProcessor:()=>kl,addIntegration:()=>Pl,addTracingExtensions:()=>_l,breadcrumbsIntegration:()=>Ho,browserApiErrorsIntegration:()=>hc,browserProfilingIntegration:()=>JE,browserTracingIntegration:()=>tm,captureConsoleIntegration:()=>zl,captureEvent:()=>Yt,captureException:()=>xn,captureFeedback:()=>Ki,captureMessage:()=>Yn,captureSession:()=>vo,captureUserFeedback:()=>z_,chromeStackLineParser:()=>Kd,close:()=>wl,contextLinesIntegration:()=>eS,continueTrace:()=>bl,createErrorHandler:()=>em,createTransport:()=>qi,createUserFeedbackEnvelope:()=>za,debugIntegration:()=>Wl,dedupeIntegration:()=>Lr,defaultRequestInstrumentationOptions:()=>gi,defaultStackLineParsers:()=>Xd,defaultStackParser:()=>fc,endSession:()=>Vn,eventFromException:()=>$a,eventFromMessage:()=>Ga,exceptionFromError:()=>Co,extraErrorDataIntegration:()=>Yl,feedbackAsyncIntegration:()=>AE,feedbackIntegration:()=>Yf,feedbackSyncIntegration:()=>Yf,flush:()=>Al,forceLoad:()=>G_,functionToStringIntegration:()=>Or,geckoStackLineParser:()=>Jd,getActiveSpan:()=>ae,getClient:()=>A,getCurrentHub:()=>od,getCurrentScope:()=>U,getDefaultIntegrations:()=>ZE,getFeedback:()=>hE,getGlobalScope:()=>Cr,getIsolationScope:()=>re,getReplay:()=>Py,getRootSpan:()=>Q,getSpanDescendants:()=>bn,getSpanStatusFromHttpCode:()=>va,globalHandlersIntegration:()=>$o,httpClientIntegration:()=>K_,httpContextIntegration:()=>Go,inboundFiltersIntegration:()=>Dr,init:()=>Ik,instrumentOutgoingRequests:()=>fu,isInitialized:()=>Nl,lastEventId:()=>zi,lazyLoadIntegration:()=>zo,linkedErrorsIntegration:()=>jo,makeBrowserOfflineTransport:()=>DE,makeFetchTransport:()=>Uo,makeMultiplexedTransport:()=>Hl,metrics:()=>wE,moduleMetadataIntegration:()=>jl,onLoad:()=>j_,opera10StackLineParser:()=>L_,opera11StackLineParser:()=>P_,parameterize:()=>Gl,registerSpanErrorInstrumentation:()=>kr,replayCanvasIntegration:()=>Jy,replayIntegration:()=>Jc,reportingObserverIntegration:()=>q_,rewriteFramesIntegration:()=>ql,sendFeedback:()=>Hf,sessionTimingIntegration:()=>Vl,setContext:()=>Mr,setCurrentClient:()=>Oa,setExtra:()=>Hi,setExtras:()=>Bi,setHttpStatus:()=>Ar,setMeasurement:()=>El,setTag:()=>Gi,setTags:()=>$i,setUser:()=>ji,showReportDialog:()=>gs,spanToBaggageHeader:()=>yl,spanToJSON:()=>B,spanToTraceHeader:()=>Nr,startBrowserTracingNavigationSpan:()=>Ws,startBrowserTracingPageLoadSpan:()=>Vf,startInactiveSpan:()=>dt,startNewTrace:()=>Il,startSession:()=>qn,startSpan:()=>Tl,startSpanManual:()=>Fi,thirdPartyErrorFilterIntegration:()=>Jl,winjsStackLineParser:()=>D_,withActiveSpan:()=>bo,withIsolationScope:()=>Ta,withScope:()=>Le,zodErrorsIntegration:()=>Kl});var Jm=Object.prototype.toString;function st(e){switch(Jm.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _t(e,Error)}}function lo(e,t){return Jm.call(e)===`[object ${t}]`}function na(e){return lo(e,"ErrorEvent")}function ra(e){return lo(e,"DOMError")}function xu(e){return lo(e,"DOMException")}function at(e){return lo(e,"String")}function po(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function _r(e){return e===null||po(e)||typeof e!="object"&&typeof e!="function"}function gt(e){return lo(e,"Object")}function Sr(e){return typeof Event<"u"&&_t(e,Event)}function Cu(e){return typeof Element<"u"&&_t(e,Element)}function Ru(e){return lo(e,"RegExp")}function At(e){return!!(e&&e.then&&typeof e.then=="function")}function Au(e){return gt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _t(e,t){try{return e instanceof t}catch{return!1}}function yi(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function ct(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ei(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function yr(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{yi(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Xm(e,t,n=!1){return at(e)?Ru(t)?t.test(e):at(t)?n?e===t:e.includes(t):!1:!1}function nn(e,t=[],n=!1){return t.some(r=>Xm(e,r,n))}function Nu(e,t,n=250,r,o,i,s){if(!i.exception||!i.exception.values||!s||!_t(s.originalException,Error))return;let a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=gT(wu(e,t,o,s.originalException,r,i.exception.values,a,0),n))}function wu(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(_t(r[o],Error)){Zm(s,a);let u=e(t,r[o]),d=c.length;Qm(u,o,d,a),c=wu(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(_t(u,Error)){Zm(s,a);let l=e(t,u),f=c.length;Qm(l,`errors[${d}]`,f,a),c=wu(e,t,n,u,o,[l,...c],l,f)}}),c}function Zm(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=T(p(p({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function Qm(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=T(p({},e.mechanism),{type:"chained",source:t,exception_id:n,parent_id:r})}function gT(e,t){return e.map(n=>(n.value&&(n.value=ct(n.value,t)),n))}var Ge="8.15.0";var k=globalThis;function $n(e,t,n){let r=n||k,o=r.__SENTRY__=r.__SENTRY__||{},i=o[Ge]=o[Ge]||{};return i[e]||(i[e]=t())}var fo=k,_T=80;function Ti(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||_T;for(;n&&i++<r&&(u=ST(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function ST(e,t){let n=e,r=[];if(!n||!n.tagName)return"";if(fo.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o&&o.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&at(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function bi(){try{return fo.document.location.href}catch{return""}}function ku(e){return fo.document&&fo.document.querySelector?fo.document.querySelector(e):null}function Mu(e){if(!fo.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var wt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var yT="Sentry Logger ",Er=["debug","info","warn","error","log","assert","trace"],mo={};function Nt(e){if(!("console"in k))return e();let t=k.console,n={},r=Object.keys(mo);r.forEach(o=>{let i=mo[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function ET(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return wt?Er.forEach(n=>{t[n]=(...r)=>{e&&Nt(()=>{k.console[n](`${yT}[${n}]:`,...r)})}}):Er.forEach(n=>{t[n]=()=>{}}),t}var _=ET();var TT=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function bT(e){return e==="http"||e==="https"}function ut(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function oa(e){let t=TT.exec(e);if(!t){Nt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i="",s="",a=""]=t.slice(1),c="",u=a,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return eh({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function eh(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function IT(e){if(!wt)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(_.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?bT(r)?t&&isNaN(parseInt(t,10))?(_.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(_.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Ii(e){let t=typeof e=="string"?oa(e):eh(e);if(!(!t||!IT(t)))return t}var je=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};function St(e,t,n){if(!(t in e))return;let r=e[t],o=n(r);typeof o=="function"&&ia(o,r),e[t]=o}function Ne(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{wt&&_.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ia(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Ne(e,"__sentry_original__",t)}catch{}}function Tr(e){return e.__sentry_original__}function Du(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function sa(e){if(st(e))return p({message:e.message,name:e.name,stack:e.stack},nh(e));if(Sr(e)){let t=p({type:e.type,target:th(e.target),currentTarget:th(e.currentTarget)},nh(e));return typeof CustomEvent<"u"&&_t(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function th(e){try{return Cu(e)?Ti(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function nh(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Lu(e,t=40){let n=Object.keys(sa(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return ct(r,t);for(let o=n.length;o>0;o--){let i=n.slice(0,o).join(", ");if(!(i.length>t))return o===n.length?i:ct(i,t)}return""}function se(e){return Ou(e,new Map)}function Ou(e,t){if(vT(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let o of Object.keys(e))typeof e[o]<"u"&&(r[o]=Ou(e[o],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(o=>{r.push(Ou(o,t))}),r}return e}function vT(e){if(!gt(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var yt="?",rh=/\(error: (.*)\)/,oh=/captureMessage|captureException/;function ca(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let i=[],s=n.split(`
`);for(let a=r;a<s.length;a++){let c=s[a];if(c.length>1024)continue;let u=rh.test(c)?c.replace(rh,"$1"):c;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){i.push(l);break}}if(i.length>=50+o)break}}return ih(i.slice(o))}}function Fu(e){return Array.isArray(e)?ca(...e):e}function ih(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(aa(t).function||"")&&t.pop(),t.reverse(),oh.test(aa(t).function||"")&&(t.pop(),oh.test(aa(t).function||"")&&t.pop()),t.slice(0,50).map(n=>T(p({},n),{filename:n.filename||aa(t).filename,function:n.function||yt}))}function aa(e){return e[e.length-1]||{}}var Pu="<anonymous>";function kt(e){try{return!e||typeof e!="function"?Pu:e.name||Pu}catch{return Pu}}function ho(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var ua={},sh={};function Gn(e,t){ua[e]=ua[e]||[],ua[e].push(t)}function jn(e,t){sh[e]||(t(),sh[e]=!0)}function rn(e,t){let n=e&&ua[e];if(n)for(let r of n)try{r(t)}catch(o){wt&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${kt(r)}
Error:`,o)}}function vi(e){let t="console";Gn(t,e),jn(t,xT)}function xT(){"console"in k&&Er.forEach(function(e){e in k.console&&St(k.console,e,function(t){return mo[e]=t,function(...n){rn("console",{args:n,level:e});let o=mo[e];o&&o.apply(k.console,n)}})})}var la=k;function da(){if(!("fetch"in la))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Uu(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function xi(){if(typeof EdgeRuntime=="string")return!0;if(!da())return!1;if(Uu(la.fetch))return!0;let e=!1,t=la.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Uu(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){wt&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Bu(){return"ReportingObserver"in la}var ah=1e3;function on(){return Date.now()/ah}function CT(){let{performance:e}=k;if(!e||!e.now)return on;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/ah}var Z=CT(),Ci,sn=(()=>{let{performance:e}=k;if(!e||!e.now){Ci="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?(Ci="timeOrigin",e.timeOrigin):(Ci="navigationStart",s):(Ci="dateNow",r)})();function br(e){let t="fetch";Gn(t,e),jn(t,RT)}function RT(){xi()&&St(k,"fetch",function(e){return function(...t){let{method:n,url:r}=AT(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Z()*1e3};rn("fetch",p({},o));let i=new Error().stack;return e.apply(k,t).then(s=>{let a=T(p({},o),{endTimestamp:Z()*1e3,response:s});return rn("fetch",a),s},s=>{let a=T(p({},o),{endTimestamp:Z()*1e3,error:s});throw rn("fetch",a),st(s)&&s.stack===void 0&&(s.stack=i,Ne(s,"framesToPop",1)),s})}})}function Hu(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ch(e){return typeof e=="string"?e:e?Hu(e,"url")?e.url:e.toString?e.toString():"":""}function AT(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:ch(n),method:Hu(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:ch(t),method:Hu(t,"method")?String(t.method).toUpperCase():"GET"}}var pa=null;function Ri(e){let t="error";Gn(t,e),jn(t,wT)}function wT(){pa=k.onerror,k.onerror=function(e,t,n,r,o){return rn("error",{column:r,error:o,line:n,msg:e,url:t}),pa&&!pa.__SENTRY_LOADER__?pa.apply(this,arguments):!1},k.onerror.__SENTRY_INSTRUMENTED__=!0}var fa=null;function Ai(e){let t="unhandledrejection";Gn(t,e),jn(t,NT)}function NT(){fa=k.onunhandledrejection,k.onunhandledrejection=function(e){return rn("unhandledrejection",e),fa&&!fa.__SENTRY_LOADER__?fa.apply(this,arguments):!0},k.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function $u(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Gu(){return"npm"}function uh(){return!$u()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ju(){return typeof window<"u"&&(!uh()||kT())}function kT(){return k.process!==void 0&&k.process.type==="renderer"}function lh(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let i=0;i<t.length;i++)if(t[i]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let i=0;i<t.length;i++)if(t[i]===o){t.splice(i,1);break}}return[n,r]}function V(){let e=k,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function dh(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function jt(e){let{message:t,event_id:n}=e;if(t)return t;let r=dh(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function go(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Et(e,t){let n=dh(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism=p(p(p({},r),o),t),t&&"data"in t){let i=p(p({},o&&o.data),t.data);n.mechanism.data=i}}function zu(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(s=>Ei(s,0));let i=Math.min(r-1,o);t.context_line=Ei(e[i],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(s=>Ei(s,0))}function ma(e){if(e&&e.__sentry_captured__)return!0;try{Ne(e,"__sentry_captured__",!0)}catch{}return!1}function wi(e){return Array.isArray(e)?e:[e]}function Tt(e,t=100,n=1/0){try{return Wu("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function ha(e,t=3,n=100*1024){let r=Tt(e,t);return LT(r)>n?ha(e,t-1,n):r}function Wu(e,t,n=1/0,r=1/0,o=lh()){let[i,s]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;let a=MT(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return Wu("",m,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=sa(t);for(let m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(l>=r){d[m]="[MaxProperties ~]";break}let g=f[m];d[m]=Wu(m,g,c-1,r,o),l++}return s(t),d}function MT(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(yi(t))return"[VueViewModel]";if(Au(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${kt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=OT(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function OT(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function DT(e){return~-encodeURI(e).split(/%..|./).length}function LT(e){return DT(JSON.stringify(e))}function PT(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var FT=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function UT(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=FT.exec(t);return n?n.slice(1):[]}function Yu(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=PT(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function ph(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function qu(e,t){e=Yu(e).slice(1),t=Yu(t).slice(1);let n=ph(e.split("/")),r=ph(t.split("/")),o=Math.min(n.length,r.length),i=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}let s=[];for(let a=i;a<n.length;a++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function Vu(e,t){let n=UT(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var Sn;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(Sn||(Sn={}));function Mt(e){return new zt(t=>{t(e)})}function zn(e){return new zt((t,n)=>{n(e)})}var zt=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Sn.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}__init(){this._resolve=t=>{this._setResult(Sn.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Sn.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Sn.PENDING){if(At(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Sn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Sn.RESOLVED&&n[1](this._value),this._state===Sn.REJECTED&&n[2](this._value),n[0]=!0)})}}};function Ku(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function o(s){if(!n())return zn(new je("Not adding Promise because buffer limit was reached."));let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new zt((a,c)=>{let u=t.length;if(!u)return a(!0);let d=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(l=>{Mt(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:o,drain:i}}function an(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Ni(e){return e.split(/[?#]/,1)[0]}var fh=["fatal","error","warning","log","info","debug"];function ki(e){return e==="warn"?"warning":fh.includes(e)?e:"log"}var _o="baggage",Ju="sentry-",hh=/^sentry-/,gh=8192;function Mi(e){let t=_h(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(hh)){let s=o.slice(Ju.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Ir(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Ju}${r}`]=o),n),{});return BT(t)}function _h(e){if(!(!e||!at(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=mh(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):mh(e)}function mh(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function BT(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>gh?(wt&&_.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Sh=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function yh(e){if(!e)return;let t=e.match(Sh);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Oi(e,t){let n=yh(e),r=Mi(t),{traceId:o,parentSpanId:i,parentSampled:s}=n||{};return n?{traceId:o||V(),parentSpanId:i||V().substring(16),spanId:V().substring(16),sampled:s,dsc:r||{}}:{traceId:o||V(),spanId:V().substring(16)}}function vr(e=V(),t=V().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ve(e,t=[]){return[e,t]}function Xu(e,t){let[n,r]=e;return[n,[...r,t]]}function bt(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function _a(e,t){return bt(e,(n,r)=>t.includes(r))}function ga(e){return k.__SENTRY__&&k.__SENTRY__.encodePolyfill?k.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function HT(e){return k.__SENTRY__&&k.__SENTRY__.decodePolyfill?k.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e)}function So(e){let[t,n]=e,r=JSON.stringify(t);function o(i){typeof r=="string"?r=typeof i=="string"?r+i:[ga(r),i]:r.push(typeof i=="string"?ga(i):i)}for(let i of n){let[s,a]=i;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Tt(a))}o(c)}}return typeof r=="string"?r:$T(r)}function $T(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function Zu(e){let t=typeof e=="string"?ga(e):e;function n(s){let a=t.subarray(0,s);return t=t.subarray(s+1),a}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(HT(n(s)))}let o=r(),i=[];for(;t.length;){let s=r(),a=typeof s.length=="number"?s.length:void 0;i.push([s,a?n(a):r()])}return[o,i]}function Qu(e){return[{type:"span"},e]}function el(e){let t=typeof e.data=="string"?ga(e.data):e.data;return[se({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}var GT={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Sa(e){return GT[e]}function ya(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function tl(e,t,n,r){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return p(p(p({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:ut(r)}),o&&{trace:se(p({},o))})}function nl(e,t,n){let r=[{type:"client_report"},{timestamp:n||on(),discarded_events:e}];return Ve(t?{dsn:t}:{},[r])}function Ea(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Eh(e,t){return e[t]||e.all||0}function rl(e,t,n=Date.now()){return Eh(e,t)>n}function ol(e,{statusCode:t,headers:n},r=Date.now()){let o=p({},e),i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let m of u.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[m]=r+f):o[m]=r+f}else s?o.all=r+Ea(s,r):t===429&&(o.all=r+60*1e3);return o}function il(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function yn(){return{traceId:V(),spanId:V().substring(16)}}var O=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ot(){return Di(k),k}function Di(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ge,t[Ge]=t[Ge]||{}}function Th(e){let t=Z(),n={sid:V(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>jT(n)};return e&&En(n,e),n}function En(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Z(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:V()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function bh(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),En(e,n)}function jT(e){return se({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var sl="_sentrySpan";function cn(e,t){t?Ne(e,sl,t):delete e[sl]}function xr(e){return e[sl]}var zT=100,al=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=yn()}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=p({},this._tags),t._extra=p({},this._extra),t._contexts=p({},this._contexts),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=p({},this._sdkProcessingMetadata),t._propagationContext=p({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,cn(t,xr(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&En(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=p(p({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=T(p({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=p(p({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=T(p({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,[r,o]=n instanceof Ke?[n.getScopeData(),n.getRequestSession()]:gt(n)?[t,t.requestSession]:[],{tags:i,extra:s,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags=p(p({},this._tags),i),this._extra=p(p({},this._extra),s),this._contexts=p(p({},this._contexts),c),a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,cn(this,void 0),this._attachments=[],this._propagationContext=yn(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:zT;if(r<=0)return this;let o=p({timestamp:on()},t),i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:xr(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=p(p({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:V();if(!this._client)return _.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,T(p({originalException:t,syntheticException:o},n),{event_id:r}),this),r}captureMessage(t,n,r){let o=r&&r.event_id?r.event_id:V();if(!this._client)return _.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,T(p({originalException:t,syntheticException:i},r),{event_id:o}),this),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:V();return this._client?(this._client.captureEvent(t,T(p({},n),{event_id:r}),this),r):(_.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},Ke=al;function Ih(){return $n("defaultCurrentScope",()=>new Ke)}function vh(){return $n("defaultIsolationScope",()=>new Ke)}var cl=class{constructor(t,n){let r;t?r=t:r=new Ke;let o;n?o=n:o=new Ke,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return At(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function yo(){let e=Ot(),t=Di(e);return t.stack=t.stack||new cl(Ih(),vh())}function WT(e){return yo().withScope(e)}function YT(e,t){let n=yo();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function xh(e){return yo().withScope(()=>e(yo().getIsolationScope()))}function Ch(){return{withIsolationScope:xh,withScope:WT,withSetScope:YT,withSetIsolationScope:(e,t)=>xh(t),getCurrentScope:()=>yo().getScope(),getIsolationScope:()=>yo().getIsolationScope()}}function Tn(e){let t=Di(e);return t.acs?t.acs:Ch()}function U(){let e=Ot();return Tn(e).getCurrentScope()}function re(){let e=Ot();return Tn(e).getIsolationScope()}function Cr(){return $n("globalScope",()=>new Ke)}function Le(...e){let t=Ot(),n=Tn(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function Ta(...e){let t=Ot(),n=Tn(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function A(){return U().getClient()}var ul="_sentryMetrics";function Li(e){let t=e[ul];if(!t)return;let n={};for(let[,[r,o]]of t)(n[r]||(n[r]=[])).push(se(o));return n}function Rh(e,t,n,r,o,i,s){let c=e[ul]||(e[ul]=new Map),u=`${t}:${n}@${o}`,d=c.get(s);if(d){let[,l]=d;c.set(s,[u,{min:Math.min(l.min,r),max:Math.max(l.max,r),count:l.count+=1,sum:l.sum+=r,tags:l.tags}])}else c.set(s,[u,{min:r,max:r,count:1,sum:r,tags:i}])}var ke="sentry.source",Rr="sentry.sample_rate",Dt="sentry.op",xe="sentry.origin",Eo="sentry.idle_span_finish_reason",ba="sentry.measurement_unit",Ia="sentry.measurement_value",ll="sentry.profile_id",dl="sentry.exclusive_time";function va(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Ar(e,t){e.setAttribute("http.response.status_code",t);let n=va(t);n.message!=="unknown_error"&&e.setStatus(n)}var xa=0,fl=1;function wh(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a}=B(e);return se({parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a})}function ml(e){let{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=B(e);return se({parent_span_id:r,span_id:t,trace_id:n})}function Nr(e){let{traceId:t,spanId:n}=e.spanContext(),r=Lt(e);return vr(t,n,r)}function Wt(e){return typeof e=="number"?Ah(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ah(e.getTime()):Z()}function Ah(e){return e>9999999999?e/1e3:e}function B(e){if(JT(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(KT(e)){let{attributes:r,startTime:o,name:i,endTime:s,parentSpanId:a,status:c}=e;return se({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:Wt(o),timestamp:Wt(s)||void 0,status:Ca(c),op:r[Dt],origin:r[xe],_metrics_summary:Li(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function KT(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function JT(e){return typeof e.getSpanJSON=="function"}function Lt(e){let{traceFlags:t}=e.spanContext();return t===fl}function Ca(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var wr="_sentryChildSpans",pl="_sentryRootSpan";function Ra(e,t){let n=e[pl]||e;Ne(t,pl,n),e[wr]?e[wr].add(t):Ne(e,wr,new Set([t]))}function Nh(e,t){e[wr]&&e[wr].delete(t)}function bn(e){let t=new Set;function n(r){if(!t.has(r)&&Lt(r)){t.add(r);let o=r[wr]?Array.from(r[wr]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function Q(e){return e[pl]||e}function ae(){let e=Ot(),t=Tn(e);return t.getActiveSpan?t.getActiveSpan():xr(U())}function kh(e,t,n,r,o,i){let s=ae();s&&Rh(s,e,t,n,r,o,i)}var Mh=!1;function kr(){Mh||(Mh=!0,Ri(hl),Ai(hl))}function hl(){let e=ae(),t=e&&Q(e);if(t){let n="internal_error";O&&_.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:2,message:n})}}hl.tag="sentry_tracingErrorCallback";var Oh="_sentryScope",Dh="_sentryIsolationScope";function Lh(e,t,n){e&&(Ne(e,Dh,n),Ne(e,Oh,t))}function gl(e){return{scope:e[Oh],isolationScope:e[Dh]}}function _l(){kr()}function lt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||XT();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function XT(){let e=A();return e&&e.getOptions()}var Je=class{constructor(t={}){this._traceId=t.traceId||V(),this._spanId=t.spanId||V().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:xa}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}};function Pi(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return ZT(r,t,n)}function ZT(e,t,n){return At(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}var vn="production";var Ph="_frozenDsc";function Sl(e,t){Ne(e,Ph,t)}function Wn(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o=se({environment:n.environment||vn,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",o),o}function ze(e){let t=A();if(!t)return{};let n=Wn(B(e).trace_id||"",t),r=Q(e),o=r[Ph];if(o)return o;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&Mi(s);if(a)return a;let c=B(r),u=c.data||{},d=u[Rr];d!=null&&(n.sample_rate=`${d}`);let l=u[ke],f=c.description;return l!=="url"&&f&&(n.transaction=f),n.sampled=String(Lt(r)),t.emit("createDsc",n,r),n}function yl(e){let t=ze(e);return Ir(t)}function Fh(e){if(!O)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=B(e),{spanId:o}=e.spanContext(),i=Lt(e),s=Q(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=B(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}_.log(`${c}
  ${u.join(`
  `)}`)}function Uh(e){if(!O)return;let{description:t="< unknown name >",op:n="< unknown op >"}=B(e),{spanId:r}=e.spanContext(),i=Q(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;_.log(s)}function Aa(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){O&&_.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Bh(e,t){if(!lt(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;let r=Aa(n);return r===void 0?(O&&_.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(O&&_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(O&&_.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function QT(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Hh(e,t,n,r){let o=ya(n),i=p(p({sent_at:new Date().toISOString()},o&&{sdk:o}),!!r&&t&&{dsn:ut(t)}),s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ve(i,[s])}function $h(e,t,n,r){let o=ya(n),i=e.type&&e.type!=="replay_event"?e.type:"event";QT(e,n&&n.sdk);let s=tl(e,o,r,t);return delete e.sdkProcessingMetadata,Ve(s,[[{type:i},e]])}function Gh(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=ze(e[0]),o=t&&t.getDsn(),i=t&&t.getOptions().tunnel,s=p(p({sent_at:new Date().toISOString()},n(r)&&{trace:r}),!!i&&o&&{dsn:ut(o)}),a=t&&t.getOptions().beforeSendSpan,c=a?d=>a(B(d)):d=>B(d),u=[];for(let d of e){let l=c(d);l&&u.push(Qu(l))}return Ve(s,u)}function El(e,t,n){let r=ae(),o=r&&Q(r);o&&o.addEvent(e,{[Ia]:t,[ba]:n})}function wa(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[ba],i=r[Ia];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var jh=1e3,To=class{constructor(t={}){this._traceId=t.traceId||V(),this._spanId=t.spanId||V().substring(16),this._startTime=t.startTimestamp||Z(),this._attributes={},this.setAttributes(p({[xe]:"manual",[Dt]:t.op},t.attributes)),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?fl:xa}}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}updateStartTime(t){this._startTime=Wt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=Wt(t),Uh(this),this._onSpanEnded())}getSpanJSON(){return se({data:this._attributes,description:this._name,op:this._attributes[Dt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ca(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[xe],_metrics_summary:Li(this),profile_id:this._attributes[ll],exclusive_time:this._attributes[dl],measurements:wa(this._events),is_segment:this._isStandaloneSpan&&Q(this)===this||void 0,segment_id:this._isStandaloneSpan?Q(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){O&&_.log("[Tracing] Adding an event to span:",t);let o=zh(n)?n:r||Z(),i=zh(n)?{}:n||{},s={name:t,time:Wt(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=A();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Q(this)))return;if(this._isStandaloneSpan){this._sampled?tb(Gh([this],t)):(O&&_.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(gl(this).scope||U()).captureEvent(r)}_convertSpanToTransaction(){if(!Wh(B(this)))return;this._name||(O&&_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=gl(this),o=(t||U()).getClient()||A();if(this._sampled!==!0){O&&_.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),o&&o.recordDroppedEvent("sample_rate","transaction");return}let s=bn(this).filter(l=>l!==this&&!eb(l)).map(l=>B(l)).filter(Wh),a=this._attributes[ke],c=p({contexts:{trace:wh(this)},spans:s.length>jh?s.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,jh):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:p({capturedSpanScope:t,capturedSpanIsolationScope:n},se({dynamicSamplingContext:ze(this)})),_metrics_summary:Li(this)},a&&{transaction_info:{source:a}}),u=wa(this._events);return u&&Object.keys(u).length&&(O&&_.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}};function zh(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Wh(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function eb(e){return e instanceof To&&e.isStandaloneSpan()}function tb(e){let t=A();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}let r=t.getTransport();r&&r.send(e).then(null,o=>{O&&_.error("Error while sending span:",o)})}var qh="__SENTRY_SUPPRESS_TRACING__";function Tl(e,t){let n=Na();if(n.startSpan)return n.startSpan(e,t);let r=xl(e),{forceTransaction:o,parentSpan:i}=e;return Le(e.scope,()=>Vh(i)(()=>{let a=U(),c=Cl(a),d=e.onlyIfParent&&!c?new Je:vl({parentSpan:c,spanArguments:r,forceTransaction:o,scope:a});return cn(a,d),Pi(()=>t(d),()=>{let{status:l}=B(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:2,message:"internal_error"})},()=>d.end())}))}function Fi(e,t){let n=Na();if(n.startSpanManual)return n.startSpanManual(e,t);let r=xl(e),{forceTransaction:o,parentSpan:i}=e;return Le(e.scope,()=>Vh(i)(()=>{let a=U(),c=Cl(a),d=e.onlyIfParent&&!c?new Je:vl({parentSpan:c,spanArguments:r,forceTransaction:o,scope:a});cn(a,d);function l(){d.end()}return Pi(()=>t(d,l),()=>{let{status:f}=B(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:2,message:"internal_error"})})}))}function dt(e){let t=Na();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=xl(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>Le(e.scope,s):o?s=>bo(o,s):s=>s())(()=>{let s=U(),a=Cl(s);return e.onlyIfParent&&!a?new Je:vl({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}var bl=({sentryTrace:e,baggage:t},n)=>Le(r=>{let o=Oi(e,t);return r.setPropagationContext(o),n()});function bo(e,t){let n=Na();return n.withActiveSpan?n.withActiveSpan(e,t):Le(r=>(cn(r,e||void 0),t(r)))}function Il(e){return Le(t=>(t.setPropagationContext(yn()),O&&_.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),bo(null,e)))}function vl({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!lt())return new Je;let o=re(),i;if(e&&!n)i=nb(e,r,t),Ra(e,i);else if(e){let s=ze(e),{traceId:a,spanId:c}=e.spanContext(),u=Lt(e);i=Yh(p({traceId:a,parentSpanId:c},t),r,u),Sl(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}=p(p({},o.getPropagationContext()),r.getPropagationContext());i=Yh(p({traceId:s,parentSpanId:c},t),r,u),a&&Sl(i,a)}return Fh(i),Lh(i,r,o),i}function xl(e){let t=e.experimental||{},n=p({isStandalone:t.standalone},e);if(e.startTime){let r=p({},n);return r.startTimestamp=Wt(e.startTime),delete r.startTime,r}return n}function Na(){let e=Ot();return Tn(e)}function Yh(e,t,n){let r=A(),o=r&&r.getOptions()||{},{name:i="",attributes:s}=e,[a,c]=t.getScopeData().sdkProcessingMetadata[qh]?[!1]:Bh(o,{name:i,parentSampled:n,attributes:s,transactionContext:{name:i,parentSampled:n}}),u=new To(T(p({},e),{attributes:p({[ke]:"custom"},e.attributes),sampled:a}));return c!==void 0&&u.setAttribute(Rr,c),r&&r.emit("spanStart",u),u}function nb(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[qh]?!1:Lt(e),s=i?new To(T(p({},n),{parentSpanId:r,traceId:o,sampled:i})):new Je({traceId:o});Ra(e,s);let a=A();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function Cl(e){let t=xr(e);if(!t)return;let n=A();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Q(t):t}function Vh(e){return e?t=>bo(e,t):t=>t()}var Io={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},rb="heartbeatFailed",ob="idleTimeout",ib="finalTimeout",sb="externalFinish";function ka(e,t={}){let n=new Map,r=!1,o,i=sb,s=!t.disableAutoFinish,{idleTimeout:a=Io.idleTimeout,finalTimeout:c=Io.finalTimeout,childSpanTimeout:u=Io.childSpanTimeout,beforeSpanEnd:d}=t,l=A();if(!l||!lt())return new Je;let f=U(),m=ae(),g=ab(e);g.end=new Proxy(g.end,{apply(S,v,I){d&&d(g);let[M,...P]=I,R=M||Z(),D=Wt(R),q=bn(g).filter(me=>me!==g);if(!q.length)return x(D),Reflect.apply(S,v,[D,...P]);let ie=q.map(me=>B(me).timestamp).filter(me=>!!me),oe=ie.length?Math.max(...ie):void 0,de=B(g).start_timestamp,Y=Math.min(de?de+c/1e3:1/0,Math.max(de||-1/0,Math.min(D,oe||1/0)));return x(Y),Reflect.apply(S,v,[Y,...P])}});function b(){o&&(clearTimeout(o),o=void 0)}function y(S){b(),o=setTimeout(()=>{!r&&n.size===0&&s&&(i=ob,g.end(S))},a)}function E(S){o=setTimeout(()=>{!r&&s&&(i=rb,g.end(S))},u)}function C(S){b(),n.set(S,!0);let v=Z();E(v+u/1e3)}function N(S){if(n.has(S)&&n.delete(S),n.size===0){let v=Z();y(v+a/1e3)}}function x(S){r=!0,n.clear(),cn(f,m);let v=B(g),{start_timestamp:I}=v;if(!I)return;(v.data||{})[Eo]||g.setAttribute(Eo,i),_.log(`[Tracing] Idle span "${v.op}" finished`);let P=bn(g).filter(D=>D!==g),R=0;P.forEach(D=>{D.isRecording()&&(D.setStatus({code:2,message:"cancelled"}),D.end(S),O&&_.log("[Tracing] Cancelling span since span ended early",JSON.stringify(D,void 0,2)));let q=B(D),{timestamp:ie=0,start_timestamp:oe=0}=q,de=oe<=S,Y=(c+a)/1e3,me=ie-oe<=Y;if(O){let J=JSON.stringify(D,void 0,2);de?me||_.log("[Tracing] Discarding span since it finished after idle span final timeout",J):_.log("[Tracing] Discarding span since it happened after idle span was finished",J)}(!me||!de)&&(Nh(g,D),R++)}),R>0&&g.setAttribute("sentry.idle_span_discarded_spans",R)}return l.on("spanStart",S=>{if(r||S===g||B(S).timestamp)return;bn(g).includes(S)&&C(S.spanContext().spanId)}),l.on("spanEnd",S=>{r||N(S.spanContext().spanId)}),l.on("idleSpanEnableAutoFinish",S=>{S===g&&(s=!0,y(),n.size&&E())}),t.disableAutoFinish||y(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=ib,g.end())},c),g}function ab(e){let t=dt(e);return cn(U(),t),O&&_.log("[Tracing] Started span is an idle span"),t}function Ma(e,t,n,r=0){return new zt((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s(p({},t),n);O&&s.id&&a===null&&_.log(`Event processor "${s.id}" dropped event`),At(a)?a.then(c=>Ma(e,c,n,r+1).then(o)).then(null,i):Ma(e,a,n,r+1).then(o).then(null,i)}})}function Kh(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;cb(e,t),r&&db(e,r),pb(e,n),ub(e,o),lb(e,i)}function Rl(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:m,span:g}=t;Ui(e,"extra",n),Ui(e,"tags",r),Ui(e,"user",o),Ui(e,"contexts",i),Ui(e,"sdkProcessingMetadata",a),s&&(e.level=s),m&&(e.transactionName=m),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext=p(p({},e.propagationContext),f)}function Ui(e,t,n){if(n&&Object.keys(n).length){e[t]=p({},e[t]);for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function cb(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t,c=se(n);c&&Object.keys(c).length&&(e.extra=p(p({},c),e.extra));let u=se(r);u&&Object.keys(u).length&&(e.tags=p(p({},u),e.tags));let d=se(o);d&&Object.keys(d).length&&(e.user=p(p({},d),e.user));let l=se(i);l&&Object.keys(l).length&&(e.contexts=p(p({},l),e.contexts)),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function ub(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function lb(e,t){e.sdkProcessingMetadata=p(p({},e.sdkProcessingMetadata),t)}function db(e,t){e.contexts=p({trace:ml(t)},e.contexts),e.sdkProcessingMetadata=p({dynamicSamplingContext:ze(t)},e.sdkProcessingMetadata);let n=Q(t),r=B(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function pb(e,t){e.fingerprint=e.fingerprint?wi(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Xh(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c=T(p({},t),{event_id:t.event_id||n.event_id||V(),timestamp:t.timestamp||on()}),u=n.integrations||e.integrations.map(y=>y.name);fb(c,e),gb(c,u),t.type===void 0&&mb(c,e.stackParser);let d=Sb(r,n.captureContext);n.mechanism&&Et(c,n.mechanism);let l=o?o.getEventProcessors():[],f=Cr().getScopeData();if(i){let y=i.getScopeData();Rl(f,y)}if(d){let y=d.getScopeData();Rl(f,y)}let m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),Kh(c,f);let g=[...l,...f.eventProcessors];return Ma(g,c,n).then(y=>(y&&hb(y),typeof s=="number"&&s>0?_b(y,s,a):y))}function fb(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:vn),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=ct(e.message,i));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=ct(s.value,i));let a=e.request;a&&a.url&&(a.url=ct(a.url,i))}var Jh=new WeakMap;function mb(e,t){let n=k._sentryDebugIds;if(!n)return;let r,o=Jh.get(t);o?r=o:(r=new Map,Jh.set(t,r));let i=Object.entries(n).reduce((s,[a,c])=>{let u,d=r.get(a);d?u=d:(u=t(a),r.set(a,u));for(let l=u.length-1;l>=0;l--){let f=u[l];if(f.filename){s[f.filename]=c;break}}return s},{});try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function hb(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function gb(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function _b(e,t,n){if(!e)return null;let r=p(p(p(p(p({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>p(p({},o),o.data&&{data:Tt(o.data,t,n)}))}),e.user&&{user:Tt(e.user,t,n)}),e.contexts&&{contexts:Tt(e.contexts,t,n)}),e.extra&&{extra:Tt(e.extra,t,n)});return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Tt(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>p(p({},o),o.data&&{data:Tt(o.data,t,n)}))),r}function Sb(e,t){if(!t)return e;let n=e?e.clone():new Ke;return n.update(t),n}function Zh(e){if(e)return yb(e)?{captureContext:e}:Tb(e)?{captureContext:e}:e}function yb(e){return e instanceof Ke||typeof e=="function"}var Eb=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Tb(e){return Object.keys(e).some(t=>Eb.includes(t))}function xn(e,t){return U().captureException(e,Zh(t))}function Yn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return U().captureMessage(e,n,r)}function Yt(e,t){return U().captureEvent(e,t)}function Mr(e,t){re().setContext(e,t)}function Bi(e){re().setExtras(e)}function Hi(e,t){re().setExtra(e,t)}function $i(e){re().setTags(e)}function Gi(e,t){re().setTag(e,t)}function ji(e){re().setUser(e)}function zi(){return re().lastEventId()}function Al(e){return F(this,null,function*(){let t=A();return t?t.flush(e):(O&&_.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function wl(e){return F(this,null,function*(){let t=A();return t?t.close(e):(O&&_.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function Nl(){return!!A()}function kl(e){re().addEventProcessor(e)}function qn(e){let t=A(),n=re(),r=U(),{release:o,environment:i=vn}=t&&t.getOptions()||{},{userAgent:s}=k.navigator||{},a=Th(p(p({release:o,environment:i,user:r.getUser()||n.getUser()},s&&{userAgent:s}),e)),c=n.getSession();return c&&c.status==="ok"&&En(c,{status:"exited"}),Vn(),n.setSession(a),r.setSession(a),a}function Vn(){let e=re(),t=U(),n=t.getSession()||e.getSession();n&&bh(n),Qh(),e.setSession(),t.setSession()}function Qh(){let e=re(),t=U(),n=A(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function vo(e=!1){if(e){Vn();return}Qh()}var bb="7";function eg(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ib(e){return`${eg(e)}${e.projectId}/envelope/`}function vb(e,t){return Du(p({sentry_key:e.publicKey,sentry_version:bb},t&&{sentry_client:`${t.name}/${t.version}`}))}function Wi(e,t,n){return t||`${Ib(e)}?${vb(e,n)}`}function Ml(e,t){let n=Ii(e);if(!n)return"";let r=`${eg(n)}embed/error-page/`,o=`dsn=${ut(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var tg=[];function xb(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Ol(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=wi(n(t)):r=t;let o=xb(r),i=o.findIndex(s=>s.name==="Debug");if(i>-1){let[s]=o.splice(i,1);o.push(s)}return o}function ng(e,t){let n={};return t.forEach(r=>{r&&Ll(e,r,n)}),n}function Dl(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ll(e,t,n){if(n[t.name]){O&&_.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,tg.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),tg.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}O&&_.log(`Integration installed: ${t.name}`)}function Pl(e){let t=A();if(!t){O&&_.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}var rg="Not capturing exception because it's already been captured.",Yi=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ii(t.dsn):O&&_.warn("No DSN provided, client will not send events."),this._dsn){let n=Wi(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport(T(p({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:n}))}}captureException(t,n,r){let o=V();if(ma(t))return O&&_.log(rg),o;let i=p({event_id:o},n);return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,r))),i.event_id}captureMessage(t,n,r,o){let i=p({event_id:V()},r),s=po(t)?t:String(t),a=_r(t)?this.eventFromMessage(s,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,o))),i.event_id}captureEvent(t,n,r){let o=V();if(n&&n.originalException&&ma(n.originalException))return O&&_.log(rg),o;let i=p({event_id:o},n),a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,a||r)),i.event_id}captureSession(t){typeof t.release!="string"?O&&_.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),En(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):Mt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Ll(this,t,this._integrations),n||Dl(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=$h(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=Xu(r,el(i));let o=this.sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let n=Hh(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let o=`${t}:${n}`;O&&_.log(`Adding outcome: "${o}"`),this._outcomes[o]=(this._outcomes[o]||0)+1}}on(t,n){return this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n),()=>{let r=this._hooks[t];if(r){let o=r.indexOf(n);r.splice(o,1)}}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(O&&_.error("Error while sending event:",n),n)):(O&&_.error("Transport disabled"),Mt({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=ng(this,t),Dl(this,t)}_updateSessionFromEvent(t,n){let r=!1,o=!1,i=n.exception&&n.exception.values;if(i){o=!0;for(let c of i){let u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(En(t,T(p({},r&&{status:"crashed"}),{errors:t.errors||Number(o||r)})),this.captureSession(t))}_isClientDoneProcessing(t){return new zt(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o=re()){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),Xh(i,t,n,r,this,o).then(a=>{if(a===null)return a;let c=p(p({},o.getPropagationContext()),r?r.getPropagationContext():void 0);if(!(a.contexts&&a.contexts.trace)&&c){let{traceId:d,spanId:l,parentSpanId:f,dsc:m}=c;a.contexts=p({trace:se({trace_id:d,span_id:l,parent_span_id:f})},a.contexts);let g=m||Wn(d,this);a.sdkProcessingMetadata=p({dynamicSamplingContext:g},a.sdkProcessingMetadata)}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(o=>o.event_id,o=>{if(O){let i=o;i.logLevel==="log"?_.log(i.message):_.warn(i)}})}_processEvent(t,n,r){let o=this.getOptions(),{sampleRate:i}=o,s=Fl(t),a=og(t),c=t.type||"error",u=`before send for type \`${c}\``,d=typeof i>"u"?void 0:Aa(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),zn(new je(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let l=c==="replay_event"?"replay":c,m=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,m).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",l,t),new je("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;let y=Rb(this,o,g,n);return Cb(y,u)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",l,t),Fl(t)){let C=1+(t.spans||[]).length;this._outcomes.span=(this._outcomes.span||0)+C}throw new je(`${u} returned \`null\`, will not send event.`,"log")}let b=r&&r.getSession();!s&&b&&this._updateSessionFromEvent(b,g);let y=g.transaction_info;if(s&&y&&g.transaction!==t.transaction){let E="custom";g.transaction_info=T(p({},y),{source:E})}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof je?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new je(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,i]=n.split(":");return{reason:o,category:i,quantity:r}})}};function Cb(e,t){let n=`${t} must return \`null\` or a valid event.`;if(At(e))return e.then(r=>{if(!gt(r)&&r!==null)throw new je(n);return r},r=>{throw new je(`${t} rejected with ${r}`)});if(!gt(e)&&e!==null)throw new je(n);return e}function Rb(e,t,n,r){let{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t;if(og(n)&&o)return o(n,r);if(Fl(n)){if(n.spans&&s){let a=[];for(let c of n.spans){let u=s(c);u?a.push(u):e.recordDroppedEvent("before_send","span")}n.spans=a}if(i)return i(n,r)}return n}function og(e){return e.type===void 0}function Fl(e){return e.type==="transaction"}function Ul(e,t){t.debug===!0&&(O?_.enable():Nt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),U().update(t.initialScope);let r=new e(t);return Oa(r),r.init(),r}function Oa(e){U().setClient(e)}var Ab=64;function qi(e,t,n=Ku(e.bufferSize||Ab)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(bt(s,(l,f)=>{let m=Sa(f);if(rl(r,m)){let g=ig(l,f);e.recordDroppedEvent("ratelimit_backoff",m,g)}else a.push(l)}),a.length===0)return Mt({});let c=Ve(s[0],a),u=l=>{bt(c,(f,m)=>{let g=ig(f,m);e.recordDroppedEvent(l,Sa(m),g)})},d=()=>t({body:So(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&O&&_.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=ol(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof je)return O&&_.error("Skipped sending event because buffer is full."),u("queue_overflow"),Mt({});throw l})}return{send:i,flush:o}}function ig(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var sg=100,ag=5e3,wb=36e5;function Bl(e){function t(...n){O&&_.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),i=ag,s;function a(l,f,m){return _a(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,m):!0}function c(l){s&&clearTimeout(s),s=setTimeout(()=>F(this,null,function*(){s=void 0;let f=yield o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(m=>{t("Failed to retry sending",m)}))}),l),typeof s!="number"&&s.unref&&s.unref()}function u(){s||(c(i),i=Math.min(i*2,wb))}function d(l,f=!1){return F(this,null,function*(){if(!f&&_a(l,["replay_event","replay_recording"]))return yield o.push(l),c(sg),{};try{let m=yield r.send(l),g=sg;if(m){if(m.headers&&m.headers["retry-after"])g=Ea(m.headers["retry-after"]);else if(m.headers&&m.headers["x-sentry-rate-limits"])g=6e4;else if((m.statusCode||0)>=400)return m}return c(g),i=ag,m}catch(m){if(yield a(l,m,i))return f?yield o.unshift(l):yield o.push(l),u(),t("Error sending. Event queued.",m),{};throw m}})}return n.flushAtStartup&&u(),{send:d,flush:l=>r.flush(l)}}}function cg(e,t){let n;return bt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Nb(e,t){return n=>{let r=e(n);return T(p({},r),{send:o=>F(this,null,function*(){let i=cg(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)})})}}function kb(e,t){return Ve(t?T(p({},e[0]),{dsn:t}):e[0],e[1])}function Hl(e,t){return n=>{let r=e(n),o=new Map;function i(c,u){let d=u?`${c}:${u}`:c,l=o.get(d);if(!l){let f=oa(c);if(!f)return;let m=Wi(f,n.tunnel);l=u?Nb(e,u)(T(p({},n),{url:m})):e(T(p({},n),{url:m})),o.set(d,l)}return[c,l]}function s(c){return F(this,null,function*(){function u(m){let g=m&&m.length?m:["event"];return cg(c,g)}let d=t({envelope:c,getEvent:u}).map(m=>typeof m=="string"?i(m,void 0):i(m.dsn,m.release)).filter(m=>!!m),l=d.length?d:[["",r]];return(yield Promise.all(l.map(([m,g])=>g.send(kb(c,m)))))[0]})}function a(c){return F(this,null,function*(){let u=[...o.values(),r];return(yield Promise.all(u.map(l=>l.flush(c)))).every(l=>l)})}return{send:s,flush:a}}}function $l(e,t){let n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return Ob(e,n)||Mb(e,r)}function Mb(e,t){return t?ug(e)===ug(t):!1}function Ob(e,t){return t?e.includes(t.host):!1}function ug(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Gl(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function Vi(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Ge})),version:Ge}),e._metadata=o}var Db=100;function It(e,t){let n=A(),r=re();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Db}=n.getOptions();if(i<=0)return;let s=on(),a=p({timestamp:s},e),c=o?Nt(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var lg,Lb="FunctionToString",dg=new WeakMap,Pb=()=>({name:Lb,setupOnce(){lg=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Tr(this),n=dg.has(A())&&t!==void 0?t:this;return lg.apply(n,e)}}catch{}},setup(e){dg.set(e,!0)}}),Or=Pb;var Fb=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Ub="InboundFilters",Bb=(e={})=>({name:Ub,processEvent(t,n,r){let o=r.getOptions(),i=Hb(e,o);return $b(t,i)?null:t}}),Dr=Bb;function Hb(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Fb],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function $b(e,t){return t.ignoreInternal&&qb(e)?(O&&_.warn(`Event dropped due to being internal Sentry Error.
Event: ${jt(e)}`),!0):Gb(e,t.ignoreErrors)?(O&&_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${jt(e)}`),!0):Kb(e)?(O&&_.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${jt(e)}`),!0):jb(e,t.ignoreTransactions)?(O&&_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${jt(e)}`),!0):zb(e,t.denyUrls)?(O&&_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${jt(e)}.
Url: ${Da(e)}`),!0):Wb(e,t.allowUrls)?!1:(O&&_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${jt(e)}.
Url: ${Da(e)}`),!0)}function Gb(e,t){return e.type||!t||!t.length?!1:Yb(e).some(n=>nn(n,t))}function jb(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?nn(n,t):!1}function zb(e,t){if(!t||!t.length)return!1;let n=Da(e);return n?nn(n,t):!1}function Wb(e,t){if(!t||!t.length)return!0;let n=Da(e);return n?nn(n,t):!0}function Yb(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function qb(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Vb(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Da(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Vb(t):null}catch{return O&&_.error(`Cannot extract url for event ${jt(e)}`),null}}function Kb(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}var fg=new Map,pg=new Set;function Jb(e){if(k._sentryModuleMetadata)for(let t of Object.keys(k._sentryModuleMetadata)){let n=k._sentryModuleMetadata[t];if(pg.has(t))continue;pg.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){fg.set(o.filename,n);break}}}function Xb(e,t){return Jb(e),fg.get(t)}function La(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=Xb(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Pa(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Zb="ModuleMetadata",Qb=()=>({name:Zb,setup(e){e.on("beforeEnvelope",t=>{bt(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Pa(o),n[1]=o)}})})},processEvent(e,t,n){let r=n.getOptions().stackParser;return La(r,e),e}}),jl=Qb;var eI="CaptureConsole",tI=(e={})=>{let t=e.levels||Er;return{name:eI,setup(n){"console"in k&&vi(({args:r,level:o})=>{A()!==n||!t.includes(o)||nI(r,o)})}}},zl=tI;function nI(e,t){let n={level:ki(t),extra:{arguments:e}};Le(r=>{if(r.addEventProcessor(s=>(s.logger="console",Et(s,{handled:!1,type:"console"}),s)),t==="assert"){if(!e[0]){let s=`Assertion failed: ${yr(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),Yn(s,n)}return}let o=e.find(s=>s instanceof Error);if(o){xn(o,n);return}let i=yr(e," ");Yn(i,n)})}var rI="Debug",oI=(e={})=>{let t=p({debugger:!1,stringify:!1},e);return{name:rI,setup(n){n.on("beforeSendEvent",(r,o)=>{if(t.debugger)debugger;Nt(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),o&&Object.keys(o).length&&console.log(JSON.stringify(o,null,2))):(console.log(r),o&&Object.keys(o).length&&console.log(o))})})}}},Wl=oI;var iI="Dedupe",sI=()=>{let e;return{name:iI,processEvent(t){if(t.type)return t;try{if(aI(t,e))return O&&_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Lr=sI;function aI(e,t){return t?!!(cI(e,t)||uI(e,t)):!1}function cI(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!gg(e,t)||!hg(e,t))}function uI(e,t){let n=mg(t),r=mg(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!gg(e,t)||!hg(e,t))}function hg(e,t){let n=ho(e),r=ho(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function gg(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function mg(e){return e.exception&&e.exception.values&&e.exception.values[0]}var lI="ExtraErrorData",dI=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:lI,processEvent(r,o,i){let{maxValueLength:s=250}=i.getOptions();return pI(r,o,t,n,s)}}},Yl=dI;function pI(e,t={},n,r,o){if(!t.originalException||!st(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=fI(t.originalException,r,o);if(s){let a=p({},e.contexts),c=Tt(s,n);return gt(c)&&(Ne(c,"__sentry_skip_normalization__",!0),a[i]=c),T(p({},e),{contexts:a})}return e}function fI(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];o[i]=st(s)||typeof s=="string"?ct(`${s}`,n):s}if(t&&e.cause!==void 0&&(o.cause=st(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let a=i[s];o[s]=st(a)?a.toString():a}}return o}catch(r){O&&_.error("Unable to extract extra data from the Error object:",r)}return null}var mI="RewriteFrames",ql=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in k&&k.window!==void 0,o=e.iteratee||hI({isBrowser:r,root:t,prefix:n});function i(a){try{return T(p({},a),{exception:T(p({},a.exception),{values:a.exception.values.map(c=>p(p({},c),c.stacktrace&&{stacktrace:s(c.stacktrace)}))})})}catch{return a}}function s(a){return T(p({},a),{frames:a&&a.frames&&a.frames.map(c=>o(c))})}return{name:mI,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=i(c)),c}}};function hI({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(o||i){let s=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?qu(t,s):Vu(s);r.filename=`${n}${a}`}return r}}var gI="SessionTiming",_I=()=>{let e=Z()*1e3;return{name:gI,processEvent(t){let n=Z()*1e3;return T(p({},t),{extra:T(p({},t.extra),{"session:start":e,"session:duration":n-e,"session:end":n})})}}},Vl=_I;var SI=10,yI="ZodErrors";function EI(e){return st(e)&&e.name==="ZodError"&&Array.isArray(e.errors)}function TI(e){return T(p({},e),{path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0})}function bI(e){let t=new Set;for(let r of e.issues)r.path&&r.path[0]&&t.add(r.path[0]);let n=Array.from(t);return`Failed to validate keys: ${ct(n.join(", "),100)}`}function II(e,t,n){return!t.exception||!t.exception.values||!n||!n.originalException||!EI(n.originalException)||n.originalException.issues.length===0?t:T(p({},t),{exception:T(p({},t.exception),{values:[T(p({},t.exception.values[0]),{value:bI(n.originalException)}),...t.exception.values.slice(1)]}),extra:T(p({},t.extra),{"zoderror.issues":n.originalException.errors.slice(0,e).map(TI)})})}var vI=(e={})=>{let t=e.limit||SI;return{name:yI,processEvent(n,r){return II(t,n,r)}}},Kl=vI;var Jl=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{bt(n,(r,o)=>{if(o==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(Pa(i),r[1]=i)}})})},processEvent(t,n,r){let o=r.getOptions().stackParser;La(o,t);let i=xI(t);if(i){let s=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(i[s](c=>!c.some(u=>e.filterKeys.includes(u)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags=T(p({},t.tags),{third_party_code:!0})}}return t}});function xI(e){let t=ho(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(_g)).map(r=>r.slice(_g.length)):[])}var _g="_sentryBundlerPluginAppKey:";var Fa="c",Ua="g",xo="s",Ba="d";function Sg(e,t){let n=$n("globalMetricsAggregators",()=>new WeakMap),r=n.get(e);if(r)return r;let o=new t(e);return e.on("flush",()=>o.flush()),e.on("close",()=>o.close()),n.set(e,o),o}function Ha(e,t,n,r,o={}){let i=o.client||A();if(!i)return;let s=ae(),a=s?Q(s):void 0,c=a&&B(a).description,{unit:u,tags:d,timestamp:l}=o,{release:f,environment:m}=i.getOptions(),g={};f&&(g.release=f),m&&(g.environment=m),c&&(g.transaction=c),O&&_.log(`Adding value of ${r} to ${t} metric ${n}`),Sg(i,e).add(t,n,r,u,p(p({},g),d),l)}function CI(e,t,n=1,r){Ha(e,Fa,t,Zl(n),r)}function Xl(e,t,n,r){Ha(e,Ba,t,Zl(n),r)}function RI(e,t,n,r="second",o){if(typeof n=="function"){let i=Z();return Fi({op:"metrics.timing",name:t,startTime:i,onlyIfParent:!0},s=>Pi(()=>n(),()=>{},()=>{let a=Z(),c=a-i;Xl(e,t,c,T(p({},o),{unit:"second"})),s.end(a)}))}Xl(e,t,n,T(p({},o),{unit:r}))}function AI(e,t,n,r){Ha(e,xo,t,n,r)}function wI(e,t,n,r){Ha(e,Ua,t,Zl(n),r)}var Pr={increment:CI,distribution:Xl,set:AI,gauge:wI,timing:RI,getMetricsAggregatorForClient:Sg};function Zl(e){return typeof e=="string"?parseInt(e):e}function yg(e,t,n,r){let o=Object.entries(se(r)).sort((i,s)=>i[0].localeCompare(s[0]));return`${e}${t}${n}${o}`}function Eg(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Tg(e){let t="";for(let n of e){let r=Object.entries(n.tags),o=r.length>0?`|#${r.map(([i,s])=>`${i}:${s}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}
`}return t}function bg(e){return e.replace(/[^\w]+/gi,"_")}function Ig(e){return e.replace(/[^\w\-.]+/gi,"_")}function NI(e){return e.replace(/[^\w\-./]+/gi,"")}var kI=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function MI(e){for(let[t,n]of kI)if(e===t)return n;return e}function OI(e){return[...e].reduce((t,n)=>t+MI(n),"")}function vg(e){let t={};for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=NI(n);t[r]=OI(String(e[n]))}return t}function xg(e,t){_.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);let n=e.getDsn(),r=e.getSdkMetadata(),o=e.getOptions().tunnel,i=DI(t,n,r,o);e.sendEnvelope(i)}function DI(e,t,n,r){let o={sent_at:new Date().toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=ut(t));let i=LI(e);return Ve(o,[i])}function LI(e){let t=Tg(e);return[{type:"statsd",length:t.length},t]}var Ql=class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},ed=class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},td=class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},nd=class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Eg(t):t).join(":")}},Cg={[Fa]:Ql,[Ua]:ed,[Ba]:td,[xo]:nd};var Cn=class{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(t,n,r,o="none",i={},s=Z()){let a=Math.floor(s),c=Ig(n),u=vg(i),d=bg(o),l=yg(t,c,d,u),f=this._buckets.get(l),m=f&&t===xo?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new Cg[t](r),timestamp:a,metricType:t,name:c,unit:d,tags:u},this._buckets.set(l,f));let g=typeof r=="string"?f.metric.weight-m:r;kh(t,c,g,d,i,l)}flush(){if(this._buckets.size===0)return;let t=Array.from(this._buckets.values());xg(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}};function rd(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let i=lt()&&t(e.fetchData.url);if(e.endTimestamp&&i){let g=e.fetchData.__span;if(!g)return;let b=r[g];b&&(UI(b,e),delete r[g]);return}let s=U(),a=A(),{method:c,url:u}=e.fetchData,d=FI(u),l=d?an(d).host:void 0,f=!!ae(),m=i&&f?dt({name:`${c} ${u}`,attributes:{url:u,type:"fetch","http.method":c,"http.url":d,"server.address":l,[xe]:o,[Dt]:"http.client"}}):new Je;if(e.fetchData.__span=m.spanContext().spanId,r[m.spanContext().spanId]=m,n(e.fetchData.url)&&a){let g=e.args[0];e.args[1]=e.args[1]||{};let b=e.args[1];b.headers=Rg(g,a,s,b,lt()&&f?m:void 0)}return m}function Rg(e,t,n,r,o){let i=re(),{traceId:s,spanId:a,sampled:c,dsc:u}=p(p({},i.getPropagationContext()),n.getPropagationContext()),d=o?Nr(o):vr(s,a,c),l=Ir(u||(o?ze(o):Wn(s,t))),f=r.headers||(typeof Request<"u"&&_t(e,Request)?e.headers:void 0);if(f)if(typeof Headers<"u"&&_t(f,Headers)){let m=new Headers(f);return m.append("sentry-trace",d),l&&m.append(_o,l),m}else if(Array.isArray(f)){let m=[...f,["sentry-trace",d]];return l&&m.push([_o,l]),m}else{let m="baggage"in f?f.baggage:void 0,g=[];return Array.isArray(m)?g.push(...m):m&&g.push(m),l&&g.push(l),T(p({},f),{"sentry-trace":d,baggage:g.length>0?g.join(","):void 0})}else return{"sentry-trace":d,baggage:l}}function FI(e){try{return new URL(e).href}catch{return}}function UI(e,t){if(t.response){Ar(e,t.response.status);let n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function Ki(e,t={},n=U()){let{message:r,name:o,email:i,url:s,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:se({contact_email:i,name:o,message:r,url:s,source:a,associated_event_id:c})},type:"feedback",level:"info",tags:u},l=n&&n.getClient()||A();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function Ag(){return{bindClient(e){U().setClient(e)},withScope:Le,getClient:()=>A(),getScope:U,getIsolationScope:re,captureException:(e,t)=>U().captureException(e,t),captureMessage:(e,t,n)=>U().captureMessage(e,t,n),captureEvent:Yt,addBreadcrumb:It,setUser:ji,setTags:$i,setTag:Gi,setExtra:Hi,setExtras:Bi,setContext:Mr,getIntegration(e){let t=A();return t&&t.getIntegrationByName(e.id)||null},startSession:qn,endSession:Vn,captureSession(e){if(e)return Vn();BI()}}}var od=Ag;function BI(){let e=U(),t=A(),n=e.getSession();t&&n&&t.captureSession(n)}var w=k,id=0;function sd(){return id>0}function HI(){id++,setTimeout(()=>{id--})}function Fr(e,t={},n){if(typeof e!="function")return e;try{let o=e.__sentry_wrapped__;if(o)return o;if(Tr(e))return e}catch{return e}let r=function(){let o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let i=o.map(s=>Fr(s,t));return e.apply(this,i)}catch(i){throw HI(),Le(s=>{s.addEventProcessor(a=>(t.mechanism&&(go(a,void 0,void 0),Et(a,t.mechanism)),a.extra=T(p({},a.extra),{arguments:o}),a)),xn(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}ia(r,e),Ne(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}var H=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Co(e,t){let n=ud(e,t),r={type:t&&t.name,value:WI(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function $I(e,t,n,r){let o=A(),i=o&&o.getOptions().normalizeDepth,s=VI(t),a={__serialized__:ha(t,i)};if(s)return{exception:{values:[Co(e,s)]},extra:a};let c={exception:{values:[{type:Sr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:YI(t,{isUnhandledRejection:r})}]},extra:a};if(n){let u=ud(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function ad(e,t){return{exception:{values:[Co(e,t)]}}}function ud(e,t){let n=t.stacktrace||t.stack||"",r=jI(t),o=zI(t);try{return e(n,r,o)}catch{}return[]}var GI=/Minified React error #\d+;/i;function jI(e){return e&&GI.test(e.message)?1:0}function zI(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function WI(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function $a(e,t,n,r){let o=n&&n.syntheticException||void 0,i=ja(e,t,o,r);return Et(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Mt(i)}function Ga(e,t,n="info",r,o){let i=r&&r.syntheticException||void 0,s=cd(e,t,i,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Mt(s)}function ja(e,t,n,r,o){let i;if(na(t)&&t.error)return ad(e,t.error);if(ra(t)||xu(t)){let s=t;if("stack"in t)i=ad(e,t);else{let a=s.name||(ra(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=cd(e,c,n,r),go(i,c)}return"code"in s&&(i.tags=T(p({},i.tags),{"DOMException.code":`${s.code}`})),i}return st(t)?ad(e,t):gt(t)||Sr(t)?(i=$I(e,t,n,o),Et(i,{synthetic:!0}),i):(i=cd(e,t,n,r),go(i,`${t}`,void 0),Et(i,{synthetic:!0}),i)}function cd(e,t,n,r){let o={};if(r&&n){let i=ud(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(po(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function YI(e,{isUnhandledRejection:t}){let n=Lu(e),r=t?"promise rejection":"exception";return na(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Sr(e)?`Event \`${qI(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function qI(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function VI(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}function za(e,{metadata:t,tunnel:n,dsn:r}){let o=p(p({event_id:e.event_id,sent_at:new Date().toISOString()},t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!n&&!!r&&{dsn:ut(r)}),i=KI(e);return Ve(o,[i])}function KI(e){return[{type:"user_report"},e]}var Ro=class extends Yi{constructor(t){let n=p({parentSpanIsAlwaysRootSpan:!0},t),r=w.SENTRY_SDK_SOURCE||Gu();Vi(n,"browser",["browser"],r),super(n),n.sendClientReports&&w.document&&w.document.addEventListener("visibilitychange",()=>{w.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return $a(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Ga(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){H&&_.warn("SDK not enabled, will not capture user feedback.");return}let n=za(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){H&&_.log("No outcomes to send");return}if(!this._dsn){H&&_.log("No dsn provided, will not send outcomes");return}H&&_.log("Sending outcomes:",t);let n=nl(t,this._options.tunnel&&ut(this._dsn));this.sendEnvelope(n)}};var JI=Object.prototype.toString;function wg(e,t){return JI.call(e)===`[object ${t}]`}function un(e){return wg(e,"String")}function Xi(e){return wg(e,"Object")}function ld(e){return!!(e&&e.then&&typeof e.then=="function")}var Kn="8.15.0";var Me=globalThis;function Wa(e,t,n){let r=n||Me,o=r.__SENTRY__=r.__SENTRY__||{},i=o[Kn]=o[Kn]||{};return i[e]||(i[e]=t())}var Ng=Me,XI=80;function Ur(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||XI;for(;n&&i++<r&&(u=ZI(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function ZI(e,t){let n=e,r=[];if(!n||!n.tagName)return"";if(Ng.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o&&o.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&un(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function dd(e){if(!Ng.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var Ao=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var QI="Sentry Logger ",pd=["debug","info","warn","error","log","assert","trace"],fd={};function kg(e){if(!("console"in Me))return e();let t=Me.console,n={},r=Object.keys(fd);r.forEach(o=>{let i=fd[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function ev(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ao?pd.forEach(n=>{t[n]=(...r)=>{e&&kg(()=>{Me.console[n](`${QI}[${n}]:`,...r)})}}):pd.forEach(n=>{t[n]=()=>{}}),t}var G=ev();function md(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Pt(e,t,n){if(!(t in e))return;let r=e[t],o=n(r);typeof o=="function"&&Mg(o,r),e[t]=o}function Xe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ao&&G.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Mg(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Xe(e,"__sentry_original__",t)}catch{}}function pt(e){return hd(e,new Map)}function hd(e,t){if(sv(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let o of Object.keys(e))typeof e[o]<"u"&&(r[o]=hd(e[o],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(o=>{r.push(hd(o,t))}),r}return e}function sv(e){if(!Xi(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var gd="<anonymous>";function Zi(e){try{return!e||typeof e!="function"?gd:e.name||gd}catch{return gd}}var Ya={},Og={};function Br(e,t){Ya[e]=Ya[e]||[],Ya[e].push(t)}function Hr(e,t){Og[e]||(t(),Og[e]=!0)}function Rn(e,t){let n=e&&Ya[e];if(n)for(let r of n)try{r(t)}catch(o){Ao&&G.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Zi(r)}
Error:`,o)}}function _d(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var Dg=1e3;function qa(){return Date.now()/Dg}function av(){let{performance:e}=Me;if(!e||!e.now)return qa;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Dg}var Ft=av(),Qi,qt=(()=>{let{performance:e}=Me;if(!e||!e.now){Qi="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?(Qi="timeOrigin",e.timeOrigin):(Qi="navigationStart",s):(Qi="dateNow",r)})();function Pe(){let e=Me,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Sd(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}var Pg="sentry-",Fg=/^sentry-/;function yd(e){let t=Ug(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(Fg)){let s=o.slice(Pg.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Ug(e){if(!(!e||!un(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=Lg(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):Lg(e)}function Lg(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Ed(e,t=[]){return[e,t]}function Td(e){return[{type:"span"},e]}function Va(){return{traceId:Pe(),spanId:Pe().substring(16)}}var Ka=Me;function bd(){let e=Ka.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ka&&!!Ka.history.pushState&&!!Ka.history.replaceState;return!t&&n}var We=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var dv=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Ut=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o||0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=dv(t.value,n),e(t)))}};var L=Me;var Bg=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var An=()=>L.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var Jn=()=>{let e=An();return e&&e.activationStart||0};var Bt=(e,t)=>{let n=An(),r="navigate";return n&&(L.document&&L.document.prerendering||Jn()>0?r="prerender":L.document&&L.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Bg(),navigationType:r}};var ft=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var Xn=e=>{let t=n=>{(n.type==="pagehide"||L.document&&L.document.visibilityState==="hidden")&&e(n)};L.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var wo=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};var es=-1,pv=()=>{es=L.document.visibilityState==="hidden"&&!L.document.prerendering?0:1/0},Ja=e=>{L.document.visibilityState==="hidden"&&es>-1&&(es=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",Ja,!0),removeEventListener("prerenderingchange",Ja,!0))},fv=()=>{addEventListener("visibilitychange",Ja,!0),addEventListener("prerenderingchange",Ja,!0)},Zn=()=>(L.document&&es<0&&(pv(),fv()),{get firstHiddenTime(){return es}});var ln=e=>{L.document&&L.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var mv=[1800,3e3],Hg=(e,t={})=>{ln(()=>{let n=Zn(),r=Bt("FCP"),o,s=ft("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Jn(),0),r.entries.push(c),o(!0)))})});s&&(o=Ut(e,r,mv,t.reportAllChanges))})};var hv=[.1,.25],$g=(e,t={})=>{Hg(wo(()=>{let n=Bt("CLS",0),r,o=0,i=[],s=c=>{c.forEach(u=>{if(!u.hadRecentInput){let d=i[0],l=i[i.length-1];o&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(o+=u.value,i.push(u)):(o=u.value,i=[u])}}),o>n.value&&(n.value=o,n.entries=i,r())},a=ft("layout-shift",s);a&&(r=Ut(e,n,hv,t.reportAllChanges),Xn(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))};var gv=[100,300],Gg=(e,t={})=>{ln(()=>{let n=Zn(),r=Bt("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=ft("first-input",s);o=Ut(e,r,gv,t.reportAllChanges),a&&Xn(wo(()=>{s(a.takeRecords()),a.disconnect()}))})};var jg=0,Id=1/0,Xa=0,_v=e=>{e.forEach(t=>{t.interactionId&&(Id=Math.min(Id,t.interactionId),Xa=Math.max(Xa,t.interactionId),jg=Xa?(Xa-Id)/7+1:0)})},vd,zg=()=>vd?jg:performance.interactionCount||0,Wg=()=>{"interactionCount"in performance||vd||(vd=ft("event",_v,{type:"event",buffered:!0,durationThreshold:0}))};var Sv=[200,500],yv=0,Vg=()=>zg()-yv,Yg=10,wn=[],xd={},qg=e=>{let t=wn[wn.length-1],n=xd[e.interactionId];if(n||wn.length<Yg||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};xd[r.id]=r,wn.push(r)}wn.sort((r,o)=>o.latency-r.latency),wn.splice(Yg).forEach(r=>{delete xd[r.id]})}},Ev=()=>{let e=Math.min(wn.length-1,Math.floor(Vg()/50));return wn[e]},Kg=(e,t={})=>{ln(()=>{Wg();let n=Bt("INP"),r,o=s=>{s.forEach(c=>{c.interactionId&&qg(c),c.entryType==="first-input"&&!wn.some(d=>d.entries.some(l=>c.duration===l.duration&&c.startTime===l.startTime))&&qg(c)});let a=Ev();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=ft("event",o,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Ut(e,n,Sv,t.reportAllChanges),i&&("PerformanceEventTiming"in L&&"interactionId"in PerformanceEventTiming.prototype&&i.observe({type:"first-input",buffered:!0}),Xn(()=>{o(i.takeRecords()),n.value<0&&Vg()>0&&(n.value=0,n.entries=[]),r(!0)}))})};var Tv=[2500,4e3],Jg={},Xg=(e,t={})=>{ln(()=>{let n=Zn(),r=Bt("LCP"),o,i=a=>{let c=a[a.length-1];c&&c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Jn(),0),r.entries=[c],o())},s=ft("largest-contentful-paint",i);if(s){o=Ut(e,r,Tv,t.reportAllChanges);let a=wo(()=>{Jg[r.id]||(i(s.takeRecords()),s.disconnect(),Jg[r.id]=!0,o(!0))});["keydown","click"].forEach(c=>{L.document&&addEventListener(c,()=>setTimeout(a,0),!0)}),Xn(a)}})};var bv=[800,1800],Cd=e=>{L.document&&L.document.prerendering?ln(()=>Cd(e)):L.document&&L.document.readyState!=="complete"?addEventListener("load",()=>Cd(e),!0):setTimeout(e,0)},Zg=(e,t={})=>{let n=Bt("TTFB"),r=Ut(e,n,bv,t.reportAllChanges);Cd(()=>{let o=An();if(o){let i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-Jn(),0),n.entries=[o],r(!0)}})};var ts={},Za={},Qg,e_,t_,n_,r_;function ns(e,t=!1){return ss("cls",e,Iv,Qg,t)}function rs(e,t=!1){return ss("lcp",e,xv,t_,t)}function os(e){return ss("fid",e,vv,e_)}function Rd(e){return ss("ttfb",e,Cv,n_)}function is(e){return ss("inp",e,Rv,r_)}function Vt(e,t){return o_(e,t),Za[e]||(Av(e),Za[e]=!0),i_(e,t)}function No(e,t){let n=ts[e];if(!(!n||!n.length))for(let r of n)try{r(t)}catch(o){We&&G.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Zi(r)}
Error:`,o)}}function Iv(){return $g(e=>{No("cls",{metric:e}),Qg=e},{reportAllChanges:!0})}function vv(){return Gg(e=>{No("fid",{metric:e}),e_=e})}function xv(){return Xg(e=>{No("lcp",{metric:e}),t_=e},{reportAllChanges:!0})}function Cv(){return Zg(e=>{No("ttfb",{metric:e}),n_=e})}function Rv(){return Kg(e=>{No("inp",{metric:e}),r_=e})}function ss(e,t,n,r,o=!1){o_(e,t);let i;return Za[e]||(i=n(),Za[e]=!0),r&&t({metric:r}),i_(e,t,o?i:void 0)}function Av(e){let t={};e==="event"&&(t.durationThreshold=0),ft(e,n=>{No(e,{entries:n})},t)}function o_(e,t){ts[e]=ts[e]||[],ts[e].push(t)}function i_(e,t,n){return()=>{n&&n();let r=ts[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function s_(e){return"duration"in e}var Ye=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Kt(){return as(Me),Me}function as(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Kn,t[Kn]=t[Kn]||{}}function a_(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ft(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Pe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}var Ad="_sentrySpan";function cs(e,t){t?Xe(e,Ad,t):delete e[Ad]}function $r(e){return e[Ad]}var wv=100,wd=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Va()}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=p({},this._tags),t._extra=p({},this._extra),t._contexts=p({},this._contexts),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=p({},this._sdkProcessingMetadata),t._propagationContext=p({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,cs(t,$r(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&a_(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=p(p({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=T(p({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=p(p({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=T(p({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,[r,o]=n instanceof Gr?[n.getScopeData(),n.getRequestSession()]:Xi(n)?[t,t.requestSession]:[],{tags:i,extra:s,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags=p(p({},this._tags),i),this._extra=p(p({},this._extra),s),this._contexts=p(p({},this._contexts),c),a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,cs(this,void 0),this._attachments=[],this._propagationContext=Va(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:wv;if(r<=0)return this;let o=p({timestamp:qa()},t),i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:$r(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=p(p({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:Pe();if(!this._client)return G.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,T(p({originalException:t,syntheticException:o},n),{event_id:r}),this),r}captureMessage(t,n,r){let o=r&&r.event_id?r.event_id:Pe();if(!this._client)return G.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,T(p({originalException:t,syntheticException:i},r),{event_id:o}),this),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:Pe();return this._client?(this._client.captureEvent(t,T(p({},n),{event_id:r}),this),r):(G.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},Gr=wd;function c_(){return Wa("defaultCurrentScope",()=>new Gr)}function u_(){return Wa("defaultIsolationScope",()=>new Gr)}var Nd=class{constructor(t,n){let r;t?r=t:r=new Gr;let o;n?o=n:o=new Gr,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return ld(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function ko(){let e=Kt(),t=as(e);return t.stack=t.stack||new Nd(c_(),u_())}function Nv(e){return ko().withScope(e)}function kv(e,t){let n=ko();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function l_(e){return ko().withScope(()=>e(ko().getIsolationScope()))}function d_(){return{withIsolationScope:l_,withScope:Nv,withSetScope:kv,withSetIsolationScope:(e,t)=>l_(t),getCurrentScope:()=>ko().getScope(),getIsolationScope:()=>ko().getIsolationScope()}}function Qn(e){let t=as(e);return t.acs?t.acs:d_()}function Jt(){let e=Kt();return Qn(e).getCurrentScope()}function kd(){let e=Kt();return Qn(e).getIsolationScope()}function Qa(...e){let t=Kt(),n=Qn(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function Ze(){return Jt().getClient()}var Mv="_sentryMetrics";function us(e){let t=e[Mv];if(!t)return;let n={};for(let[,[r,o]]of t)(n[r]||(n[r]=[])).push(pt(o));return n}var jr="sentry.source",ls="sentry.sample_rate",Mo="sentry.op",Be="sentry.origin";var Oo="sentry.measurement_unit",Do="sentry.measurement_value",Md="sentry.profile_id",ds="sentry.exclusive_time";var ec=0,Dd=1;function f_(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,origin:a}=Ce(e);return pt({parent_span_id:i,span_id:t,trace_id:n,data:r,op:o,status:s,origin:a})}function Nn(e){return typeof e=="number"?p_(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?p_(e.getTime()):Ft()}function p_(e){return e>9999999999?e/1e3:e}function Ce(e){if(Dv(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(Ov(e)){let{attributes:r,startTime:o,name:i,endTime:s,parentSpanId:a,status:c}=e;return pt({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:Nn(o),timestamp:Nn(s)||void 0,status:tc(c),op:r[Mo],origin:r[Be],_metrics_summary:us(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Ov(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Dv(e){return typeof e.getSpanJSON=="function"}function kn(e){let{traceFlags:t}=e.spanContext();return t===Dd}function tc(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var ps="_sentryChildSpans",Od="_sentryRootSpan";function nc(e,t){let n=e[Od]||e;Xe(t,Od,n),e[ps]?e[ps].add(t):Xe(e,ps,new Set([t]))}function Ld(e){let t=new Set;function n(r){if(!t.has(r)&&kn(r)){t.add(r);let o=r[ps]?Array.from(r[ps]):[];for(let i of o)n(i)}}return n(e),Array.from(t)}function qe(e){return e[Od]||e}function er(){let e=Kt(),t=Qn(e);return t.getActiveSpan?t.getActiveSpan():$r(Jt())}var m_="_sentryScope",h_="_sentryIsolationScope";function g_(e,t,n){e&&(Xe(e,h_,n),Xe(e,m_,t))}function Pd(e){return{scope:e[m_],isolationScope:e[h_]}}function rc(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||Lv();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function Lv(){let e=Ze();return e&&e.getOptions()}var Lo=class{constructor(t={}){this._traceId=t.traceId||Pe(),this._spanId=t.spanId||Pe().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:ec}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}};var __="production";var S_="_frozenDsc";function Fd(e,t){Xe(e,S_,t)}function Pv(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o=pt({environment:n.environment||__,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",o),o}function Po(e){let t=Ze();if(!t)return{};let n=Pv(Ce(e).trace_id||"",t),r=qe(e),o=r[S_];if(o)return o;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&yd(s);if(a)return a;let c=Ce(r),u=c.data||{},d=u[ls];d!=null&&(n.sample_rate=`${d}`);let l=u[jr],f=c.description;return l!=="url"&&f&&(n.transaction=f),n.sampled=String(kn(r)),t.emit("createDsc",n,r),n}function y_(e){if(!Ye)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Ce(e),{spanId:o}=e.spanContext(),i=kn(e),s=qe(e),a=s===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){let{op:d,description:l}=Ce(s);u.push(`root ID: ${s.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}G.log(`${c}
  ${u.join(`
  `)}`)}function E_(e){if(!Ye)return;let{description:t="< unknown name >",op:n="< unknown op >"}=Ce(e),{spanId:r}=e.spanContext(),i=qe(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;G.log(s)}function T_(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Ye&&G.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function b_(e,t){if(!rc(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;let r=T_(n);return r===void 0?(Ye&&G.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Ye&&G.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Ye&&G.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function I_(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=Po(e[0]),o=t&&t.getDsn(),i=t&&t.getOptions().tunnel,s=p(p({sent_at:new Date().toISOString()},n(r)&&{trace:r}),!!i&&o&&{dsn:md(o)}),a=t&&t.getOptions().beforeSendSpan,c=a?d=>a(Ce(d)):d=>Ce(d),u=[];for(let d of e){let l=c(d);l&&u.push(Td(l))}return Ed(s,u)}function Ud(e,t,n){let r=er(),o=r&&qe(r);o&&o.addEvent(e,{[Do]:t,[Oo]:n})}function oc(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Oo],i=r[Do];typeof o=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:o})}),t}var v_=1e3,Fo=class{constructor(t={}){this._traceId=t.traceId||Pe(),this._spanId=t.spanId||Pe().substring(16),this._startTime=t.startTimestamp||Ft(),this._attributes={},this.setAttributes(p({[Be]:"manual",[Mo]:t.op},t.attributes)),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Dd:ec}}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}updateStartTime(t){this._startTime=Nn(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=Nn(t),E_(this),this._onSpanEnded())}getSpanJSON(){return pt({data:this._attributes,description:this._name,op:this._attributes[Mo],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:tc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Be],_metrics_summary:us(this),profile_id:this._attributes[Md],exclusive_time:this._attributes[ds],measurements:oc(this._events),is_segment:this._isStandaloneSpan&&qe(this)===this||void 0,segment_id:this._isStandaloneSpan?qe(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Ye&&G.log("[Tracing] Adding an event to span:",t);let o=x_(n)?n:r||Ft(),i=x_(n)?{}:n||{},s={name:t,time:Nn(o),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=Ze();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===qe(this)))return;if(this._isStandaloneSpan){this._sampled?Uv(I_([this],t)):(Ye&&G.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Pd(this).scope||Jt()).captureEvent(r)}_convertSpanToTransaction(){if(!C_(Ce(this)))return;this._name||(Ye&&G.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Pd(this),o=(t||Jt()).getClient()||Ze();if(this._sampled!==!0){Ye&&G.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),o&&o.recordDroppedEvent("sample_rate","transaction");return}let s=Ld(this).filter(l=>l!==this&&!Fv(l)).map(l=>Ce(l)).filter(C_),a=this._attributes[jr],c=p({contexts:{trace:f_(this)},spans:s.length>v_?s.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,v_):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:p({capturedSpanScope:t,capturedSpanIsolationScope:n},pt({dynamicSamplingContext:Po(this)})),_metrics_summary:us(this)},a&&{transaction_info:{source:a}}),u=oc(this._events);return u&&Object.keys(u).length&&(Ye&&G.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}};function x_(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function C_(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Fv(e){return e instanceof Fo&&e.isStandaloneSpan()}function Uv(e){let t=Ze();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}let r=t.getTransport();r&&r.send(e).then(null,o=>{Ye&&G.error("Error while sending span:",o)})}var A_="__SENTRY_SUPPRESS_TRACING__";function tr(e){let t=w_();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Hv(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?s=>Qa(e.scope,s):o?s=>ic(o,s):s=>s())(()=>{let s=Jt(),a=Gv(s);return e.onlyIfParent&&!a?new Lo:Bv({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}function ic(e,t){let n=w_();return n.withActiveSpan?n.withActiveSpan(e,t):Qa(r=>(cs(r,e||void 0),t(r)))}function Bv({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!rc())return new Lo;let o=kd(),i;if(e&&!n)i=$v(e,r,t),nc(e,i);else if(e){let s=Po(e),{traceId:a,spanId:c}=e.spanContext(),u=kn(e);i=R_(p({traceId:a,parentSpanId:c},t),r,u),Fd(i,s)}else{let{traceId:s,dsc:a,parentSpanId:c,sampled:u}=p(p({},o.getPropagationContext()),r.getPropagationContext());i=R_(p({traceId:s,parentSpanId:c},t),r,u),a&&Fd(i,a)}return y_(i),g_(i,r,o),i}function Hv(e){let t=e.experimental||{},n=p({isStandalone:t.standalone},e);if(e.startTime){let r=p({},n);return r.startTimestamp=Nn(e.startTime),delete r.startTime,r}return n}function w_(){let e=Kt();return Qn(e)}function R_(e,t,n){let r=Ze(),o=r&&r.getOptions()||{},{name:i="",attributes:s}=e,[a,c]=t.getScopeData().sdkProcessingMetadata[A_]?[!1]:b_(o,{name:i,parentSampled:n,attributes:s,transactionContext:{name:i,parentSampled:n}}),u=new Fo(T(p({},e),{attributes:p({[jr]:"custom"},e.attributes),sampled:a}));return c!==void 0&&u.setAttribute(ls,c),r&&r.emit("spanStart",u),u}function $v(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[A_]?!1:kn(e),s=i?new Fo(T(p({},n),{parentSpanId:r,traceId:o,sampled:i})):new Lo({traceId:o});nc(e,s);let a=Ze();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function Gv(e){let t=$r(e);if(!t)return;let n=Ze();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?qe(t):t}function sc(e){return typeof e=="number"&&isFinite(e)}function zr(e,t,n,o){var r=so(o,[]);let i=Ce(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),ic(e,()=>{let s=tr(p({startTime:t},r));return s&&s.end(n),s})}function fs(){return L&&L.addEventListener&&L.performance}function we(e){return e/1e3}var jv=2147483647,N_=0,Fe={},dn,ms;function Hd(){let e=fs();if(e&&qt){e.mark&&L.performance.mark("sentry-tracing-init");let t=Yv(),n=zv(),r=Wv(),o=qv();return()=>{t(),n(),r(),o()}}return()=>{}}function $d(){Vt("longtask",({entries:e})=>{for(let t of e){if(!er())return;let n=we(qt+t.startTime),r=we(t.duration),o=tr({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[Be]:"auto.ui.browser.metrics"}});o&&o.end(n+r)}})}function Gd(){Vt("event",({entries:e})=>{for(let t of e){if(!er())return;if(t.name==="click"){let n=we(qt+t.startTime),r=we(t.duration),o={name:Ur(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[Be]:"auto.ui.browser.metrics"}},i=dd(t.target);i&&(o.attributes["ui.component_name"]=i);let s=tr(o);s&&s.end(n+r)}}})}function zv(){return ns(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(We&&G.log("[Measurements] Adding CLS"),Fe.cls={value:e.value,unit:""},ms=t)},!0)}function Wv(){return rs(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(We&&G.log("[Measurements] Adding LCP"),Fe.lcp={value:e.value,unit:"millisecond"},dn=t)},!0)}function Yv(){return os(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=we(qt),r=we(t.startTime);We&&G.log("[Measurements] Adding FID"),Fe.fid={value:e.value,unit:"millisecond"},Fe["mark.fid"]={value:n+r,unit:"second"}})}function qv(){return Rd(({metric:e})=>{e.entries[e.entries.length-1]&&(We&&G.log("[Measurements] Adding TTFB"),Fe.ttfb={value:e.value,unit:"millisecond"})})}function jd(e){let t=fs();if(!t||!L.performance.getEntries||!qt)return;We&&G.log("[Tracing] Adding & adjusting spans using Performance API");let n=we(qt),r=t.getEntries(),{op:o,start_timestamp:i}=Ce(e);if(r.slice(N_).forEach(s=>{let a=we(s.startTime),c=we(s.duration);if(!(o==="navigation"&&i&&n+a<i))switch(s.entryType){case"navigation":{Kv(e,s,n);break}case"mark":case"paint":case"measure":{Vv(e,s,a,c,n);let u=Zn(),d=s.startTime<u.firstHiddenTime;s.name==="first-paint"&&d&&(We&&G.log("[Measurements] Adding FP"),Fe.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&d&&(We&&G.log("[Measurements] Adding FCP"),Fe.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{Xv(e,s,s.name,a,c,n);break}}}),N_=Math.max(r.length-1,0),Zv(e),o==="pageload"){ex(Fe),["fcp","fp","lcp"].forEach(a=>{let c=Fe[a];if(!c||!i||n>=i)return;let u=c.value,d=n+we(u),l=Math.abs((d-i)*1e3),f=l-u;We&&G.log(`[Measurements] Normalized ${a} from ${u} to ${l} (${f})`),c.value=l});let s=Fe["mark.fid"];s&&Fe.fid&&(zr(e,s.value,s.value+we(Fe.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Be]:"auto.ui.browser.metrics"}}),delete Fe["mark.fid"]),"fcp"in Fe||delete Fe.cls,Object.entries(Fe).forEach(([a,c])=>{Ud(a,c.value,c.unit)}),Qv(e)}dn=void 0,ms=void 0,Fe={}}function Vv(e,t,n,r,o){let i=An(),s=we(i?i.requestStart:0),a=o+Math.max(n,s),c=o+n,u=c+r,d={[Be]:"auto.resource.browser.metrics"};return a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),zr(e,a,u,{name:t.name,op:t.entryType,attributes:d}),a}function Kv(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ac(e,t,r,n)}),ac(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),ac(e,t,"fetch",n,"cache","domainLookupStart"),ac(e,t,"domainLookup",n,"DNS"),Jv(e,t,n)}function ac(e,t,n,r,o,i){let s=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!s||zr(e,r+we(a),r+we(s),{op:"browser",name:o||n,attributes:{[Be]:"auto.ui.browser.metrics"}})}function Jv(e,t,n){let r=n+we(t.requestStart),o=n+we(t.responseEnd),i=n+we(t.responseStart);t.responseEnd&&(zr(e,r,o,{op:"browser",name:"request",attributes:{[Be]:"auto.ui.browser.metrics"}}),zr(e,i,o,{op:"browser",name:"response",attributes:{[Be]:"auto.ui.browser.metrics"}}))}function Xv(e,t,n,r,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let s=Sd(n),a={[Be]:"auto.resource.browser.metrics"};Bd(a,t,"transferSize","http.response_transfer_size"),Bd(a,t,"encodedBodySize","http.response_content_length"),Bd(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(L.location.origin);let c=i+r,u=c+o;zr(e,c,u,{name:n.replace(L.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function Zv(e){let t=L.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),sc(n.rtt)&&(Fe["connection.rtt"]={value:n.rtt,unit:"millisecond"})),sc(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),sc(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Qv(e){dn&&(We&&G.log("[Measurements] Adding LCP Data"),dn.element&&e.setAttribute("lcp.element",Ur(dn.element)),dn.id&&e.setAttribute("lcp.id",dn.id),dn.url&&e.setAttribute("lcp.url",dn.url.trim().slice(0,200)),e.setAttribute("lcp.size",dn.size)),ms&&ms.sources&&(We&&G.log("[Measurements] Adding CLS Data"),ms.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Ur(t.node))))}function Bd(e,t,n,r){let o=t[n];o!=null&&o<jv&&(e[r]=o)}function ex(e){let t=An();if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(We&&G.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var tx=1e3,k_,zd,Wd;function hs(e){let t="dom";Br(t,e),Hr(t,nx)}function nx(){if(!L.document)return;let e=Rn.bind(null,"dom"),t=M_(e,!0);L.document.addEventListener("click",t,!1),L.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let r=L[n]&&L[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Pt(r,"addEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){let l=M_(e);d.handler=l,o.call(this,i,l,a)}d.refCount++}catch{}return o.call(this,i,s,a)}}),Pt(r,"removeEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(o.call(this,i,d.handler,a),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,s,a)}}))})}function rx(e){if(e.type!==zd)return!1;try{if(!e.target||e.target._sentryId!==Wd)return!1}catch{}return!0}function ox(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function M_(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=ix(n);if(ox(n.type,r))return;Xe(n,"_sentryCaptured",!0),r&&!r._sentryId&&Xe(r,"_sentryId",Pe());let o=n.type==="keypress"?"input":n.type;rx(n)||(e({event:n,name:o,global:t}),zd=n.type,Wd=r?r._sentryId:void 0),clearTimeout(k_),k_=L.setTimeout(()=>{Wd=void 0,zd=void 0},tx)}}function ix(e){try{return e.target}catch{return null}}var cc;function Mn(e){let t="history";Br(t,e),Hr(t,sx)}function sx(){if(!bd())return;let e=L.onpopstate;L.onpopstate=function(...n){let r=L.location.href,o=cc;if(cc=r,Rn("history",{from:o,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let o=r.length>2?r[2]:void 0;if(o){let i=cc,s=String(o);cc=s,Rn("history",{from:i,to:s})}return n.apply(this,r)}}Pt(L.history,"pushState",t),Pt(L.history,"replaceState",t)}var uc={};function lc(e){let t=uc[e];if(t)return t;let n=L[e];if(_d(n))return uc[e]=n.bind(L);let r=L.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){We&&G.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(uc[e]=n.bind(L))}function dc(e){uc[e]=void 0}function On(...e){return lc("setTimeout")(...e)}var vt="__sentry_xhr_v3__";function Wr(e){let t="xhr";Br(t,e),Hr(t,ax)}function ax(){if(!L.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;Pt(e,"open",function(t){return function(...n){let r=Ft()*1e3,o=un(n[0])?n[0].toUpperCase():void 0,i=cx(n[1]);if(!o||!i)return t.apply(this,n);this[vt]={method:o,url:i,request_headers:{}},o==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let a=this[vt];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}let c={endTimestamp:Ft()*1e3,startTimestamp:r,xhr:this};Rn("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Pt(this,"onreadystatechange",function(a){return function(...c){return s(),a.apply(this,c)}}):this.addEventListener("readystatechange",s),Pt(this,"setRequestHeader",function(a){return function(...c){let[u,d]=c,l=this[vt];return l&&un(u)&&un(d)&&(l.request_headers[u.toLowerCase()]=d),a.apply(this,c)}}),t.apply(this,n)}}),Pt(e,"send",function(t){return function(...n){let r=this[vt];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);let o={startTimestamp:Ft()*1e3,xhr:this};return Rn("xhr",o),t.apply(this,n)}})}function cx(e){if(un(e))return e;try{return e.toString()}catch{}}var Yd=[],pc=new Map;function qd(){if(fs()&&qt){let t=ux();return()=>{t()}}return()=>{}}var O_={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function ux(){return is(({metric:e})=>{let t=Ze();if(!t||e.value==null)return;let n=e.entries.find(S=>S.duration===e.value&&O_[S.name]);if(!n)return;let{interactionId:r}=n,o=O_[n.name],i=t.getOptions(),s=we(qt+n.startTime),a=we(e.value),c=Jt(),u=er(),d=u?qe(u):void 0,f=(r!=null?pc.get(r):void 0)||(d?Ce(d).description:c.getScopeData().transactionName),m=c.getUser(),g=t.getIntegrationByName("Replay"),b=g&&g.getReplayId(),y=m!==void 0?m.email||m.id||m.ip_address:void 0,E;try{E=c.getScopeData().contexts.profile.profile_id}catch{}let C=Ur(n.target),N=pt({release:i.release,environment:i.environment,transaction:f,[ds]:e.value,[Be]:"auto.http.browser.inp",user:y||void 0,profile_id:E||void 0,replay_id:b||void 0}),x=tr({name:C,op:`ui.interaction.${o}`,attributes:N,startTime:s,experimental:{standalone:!0}});x.addEvent("inp",{[Oo]:"millisecond",[Do]:e.value}),x.end(s+a)})}function Vd(e){let t=({entries:n})=>{n.forEach(r=>{if(!s_(r)||!e.name)return;let o=r.interactionId;if(o!=null&&!pc.has(o)){if(Yd.length>10){let i=Yd.shift();pc.delete(i)}Yd.push(o),pc.set(o,e.name)}})};Vt("event",t),Vt("first-input",t)}function Uo(e,t=lc("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a=p({body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return dc("fetch"),zn("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return dc("fetch"),n-=s,r--,zn(c)}}return qi(e,o)}var lx=10,dx=20,px=30,fx=40,mx=50;function Bo(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?yt:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var hx=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,gx=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_x=/\((\S*)(?::(\d+))(?::(\d+))\)/,Sx=e=>{let t=hx.exec(e);if(t){let[,r,o,i]=t;return Bo(r,yt,+o,+i)}let n=gx.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=_x.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=F_(n[1]||yt,n[2]);return Bo(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Kd=[px,Sx],yx=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Tx=e=>{let t=yx.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=Ex.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||yt;return[o,r]=F_(o,r),Bo(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Jd=[mx,Tx],bx=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ix=e=>{let t=bx.exec(e);return t?Bo(t[2],t[1]||yt,+t[3],t[4]?+t[4]:void 0):void 0},D_=[fx,Ix],vx=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,xx=e=>{let t=vx.exec(e);return t?Bo(t[2],t[3]||yt,+t[1]):void 0},L_=[lx,xx],Cx=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Rx=e=>{let t=Cx.exec(e);return t?Bo(t[5],t[3]||t[4]||yt,+t[1],+t[2]):void 0},P_=[dx,Rx],Xd=[Kd,Jd],fc=ca(...Xd),F_=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:yt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var mc=1024,Ax="Breadcrumbs",wx=(e={})=>{let t=p({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:Ax,setup(n){t.console&&vi(Mx(n)),t.dom&&hs(kx(n,t.dom)),t.xhr&&Wr(Ox(n)),t.fetch&&br(Dx(n)),t.history&&Mn(Lx(n)),t.sentry&&n.on("beforeSendEvent",Nx(n))}}},Ho=wx;function Nx(e){return function(n){A()===e&&It({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:jt(n)},{event:n})}}function kx(e,t){return function(r){if(A()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>mc&&(H&&_.warn(`\`dom.maxStringLength\` cannot exceed ${mc}, but a value of ${a} was configured. Sentry will use ${mc} instead.`),a=mc),typeof s=="string"&&(s=[s]);try{let u=r.event,d=Px(u)?u.target:u;o=Ti(d,{keyAttrs:s,maxStringLength:a}),i=Mu(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),It(c,{event:r.event,name:r.name,global:r.global})}}function Mx(e){return function(n){if(A()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:ki(n.level),message:yr(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${yr(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;It(r,{input:n.args,level:n.level})}}function Ox(e){return function(n){if(A()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[vt];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,d={method:s,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o};It({category:"xhr",data:d,type:"http"},l)}}function Dx(e){return function(n){if(A()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};It({category:"fetch",data:i,level:"error",type:"http"},s)}else{let i=n.response,s=T(p({},n.fetchData),{status_code:i&&i.status}),a={input:n.args,response:i,startTimestamp:r,endTimestamp:o};It({category:"fetch",data:s,type:"http"},a)}}}function Lx(e){return function(n){if(A()!==e)return;let r=n.from,o=n.to,i=an(w.location.href),s=r?an(r):void 0,a=an(o);(!s||!s.path)&&(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),It({category:"navigation",data:{from:r,to:o}})}}function Px(e){return!!e&&!!e.target}var Fx=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ux="BrowserApiErrors",Bx=(e={})=>{let t=p({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:Ux,setupOnce(){t.setTimeout&&St(w,"setTimeout",U_),t.setInterval&&St(w,"setInterval",U_),t.requestAnimationFrame&&St(w,"requestAnimationFrame",Hx),t.XMLHttpRequest&&"XMLHttpRequest"in w&&St(XMLHttpRequest.prototype,"send",$x);let n=t.eventTarget;n&&(Array.isArray(n)?n:Fx).forEach(Gx)}}},hc=Bx;function U_(e){return function(...t){let n=t[0];return t[0]=Fr(n,{mechanism:{data:{function:kt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Hx(e){return function(t){return e.apply(this,[Fr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:kt(e)},handled:!1,type:"instrument"}})])}}function $x(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&St(n,o,function(i){let s={mechanism:{data:{function:o,handler:kt(i)},handled:!1,type:"instrument"}},a=Tr(i);return a&&(s.mechanism.data.handler=kt(a)),Fr(i,s)})}),e.apply(this,t)}}function Gx(e){let t=w,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(St(n,"addEventListener",function(r){return function(o,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=Fr(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:kt(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,Fr(i,{mechanism:{data:{function:"addEventListener",handler:kt(i),target:e},handled:!1,type:"instrument"}}),s])}}),St(n,"removeEventListener",function(r){return function(o,i,s){let a=i;try{let c=a&&a.__sentry_wrapped__;c&&r.call(this,o,c,s)}catch{}return r.call(this,o,a,s)}}))}var jx="GlobalHandlers",zx=(e={})=>{let t=p({onerror:!0,onunhandledrejection:!0},e);return{name:jx,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Wx(n),B_("onerror")),t.onunhandledrejection&&(Yx(n),B_("onunhandledrejection"))}}},$o=zx;function Wx(e){Ri(t=>{let{stackParser:n,attachStacktrace:r}=H_();if(A()!==e||sd())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=Kx(ja(n,c||o,void 0,r,!1),i,s,a);u.level="error",Yt(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Yx(e){Ai(t=>{let{stackParser:n,attachStacktrace:r}=H_();if(A()!==e||sd())return;let o=qx(t),i=_r(o)?Vx(o):ja(n,o,void 0,r,!0);i.level="error",Yt(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function qx(e){if(_r(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Vx(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Kx(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,l=at(t)&&t.length>0?t:bi();return c.length===0&&c.push({colno:u,filename:l,function:yt,in_app:!0,lineno:d}),e}function B_(e){H&&_.log(`Global Handler attached: ${e}`)}function H_(){let e=A();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Go=()=>({name:"HttpContext",preprocessEvent(e){if(!w.navigator&&!w.location&&!w.document)return;let t=e.request&&e.request.url||w.location&&w.location.href,{referrer:n}=w.document||{},{userAgent:r}=w.navigator||{},o=p(p(p({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),i=T(p(p({},e.request),t&&{url:t}),{headers:o});e.request=i}});var Jx="cause",Xx=5,Zx="LinkedErrors",Qx=(e={})=>{let t=e.limit||Xx,n=e.key||Jx;return{name:Zx,preprocessEvent(r,o,i){let s=i.getOptions();Nu(Co,s.stackParser,s.maxValueLength,n,t,r,o)}}},jo=Qx;function $_(e){return[Dr(),Or(),hc(),Ho(),$o(),jo(),Lr(),Go()]}function eC(e={}){let t={defaultIntegrations:$_(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:w.SENTRY_RELEASE&&w.SENTRY_RELEASE.id?w.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return p(p({},t),e)}function tC(){let e=w,t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,o=w.location&&w.location.href||"",i=["chrome-extension:","moz-extension:","ms-browser-extension:"],s=!!r&&w===w.top&&i.some(a=>o.startsWith(`${a}//`));return!!r&&!s}function Zd(e={}){let t=eC(e);if(tC()){Nt(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}H&&(da()||_.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let n=T(p({},t),{stackParser:Fu(t.stackParser||fc),integrations:Ol(t),transport:t.transport||Uo}),r=Ul(Ro,n);return t.autoSessionTracking&&nC(),r}function gs(e={}){if(!w.document){H&&_.error("Global document not defined in showReportDialog call");return}let t=U(),n=t.getClient(),r=n&&n.getDsn();if(!r){H&&_.error("DSN not configured for showReportDialog call");return}if(t&&(e.user=p(p({},t.getUser()),e.user)),!e.eventId){let a=zi();a&&(e.eventId=a)}let o=w.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=Ml(r,e),e.onLoad&&(o.onload=e.onLoad);let{onClose:i}=e;if(i){let a=c=>{if(c.data==="__sentry_reportdialog_closed__")try{i()}finally{w.removeEventListener("message",a)}};w.addEventListener("message",a)}let s=w.document.head||w.document.body;s?s.appendChild(o):H&&_.error("Not injecting report dialog. No injection point found in HTML")}function G_(){}function j_(e){e()}function nC(){if(typeof w.document>"u"){H&&_.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}qn({ignoreDuration:!0}),vo(),Mn(({from:e,to:t})=>{e!==void 0&&e!==t&&(qn({ignoreDuration:!0}),vo())})}function z_(e){let t=A();t&&t.captureUserFeedback(e)}var rC={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},W_=w;function zo(e){return F(this,null,function*(){let t=rC[e],n=W_.Sentry=W_.Sentry||{};if(!t)throw new Error(`Cannot lazy load integration: ${e}`);let r=n[e];if(typeof r=="function")return r;let o=oC(t),i=w.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="origin";let s=new Promise((c,u)=>{i.addEventListener("load",()=>c()),i.addEventListener("error",u)});w.document.body.appendChild(i);try{yield s}catch{throw new Error(`Error when loading integration: ${e}`)}let a=n[e];if(typeof a!="function")throw new Error(`Could not load integration: ${e}`);return a})}function oC(e){let t=A(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Ge}/${e}.min.js`,r).toString()}var iC=k,sC="ReportingObserver",Y_=new WeakMap,aC=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(Y_.has(A()))for(let o of r)Le(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let u in o.body)c[u]=o.body[u];if(i.setExtra("body",c),o.type==="crash"){let u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}Yn(`${s}: ${a}`)})}return{name:sC,setupOnce(){if(!Bu())return;new iC.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Y_.set(r,!0)}}},q_=aC;var cC="HttpClient",uC=(e={})=>{let t=p({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},e);return{name:cC,setup(n){_C(n,t),SC(n,t)}}},K_=uC;function lC(e,t,n,r){if(X_(e,n.status,n.url)){let o=yC(t,r),i,s,a,c;Q_()&&([i,a]=V_("Cookie",o),[s,c]=V_("Set-Cookie",n));let u=Z_({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:s,requestCookies:a,responseCookies:c});Yt(u)}}function V_(e,t){let n=fC(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=J_(o))}catch{H&&_.log(`Could not extract cookies from header ${e}`)}return[n,r]}function dC(e,t,n,r){if(X_(e,t.status,t.responseURL)){let o,i,s;if(Q_()){try{let c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(i=J_(c))}catch{H&&_.log("Could not extract cookies from response headers")}try{s=mC(t)}catch{H&&_.log("Could not extract headers from response")}o=r}let a=Z_({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:s,responseCookies:i});Yt(a)}}function pC(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function J_(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function fC(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function mC(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function hC(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function gC(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function _C(e,t){xi()&&br(n=>{if(A()!==e)return;let{response:r,args:o}=n,[i,s]=o;r&&lC(t,i,r,s)})}function SC(e,t){"XMLHttpRequest"in k&&Wr(n=>{if(A()!==e)return;let r=n.xhr,o=r[vt];if(!o)return;let{method:i,request_headers:s}=o;try{dC(t,r,i,s)}catch(a){H&&_.warn("Error while extracting response event form XHR response",a)}})}function X_(e,t,n){return gC(e.failedRequestStatusCodes,t)&&hC(e.failedRequestTargets,n)&&!$l(n,A())}function Z_(e){let t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:pC(e.responseHeaders)}}};return Et(n,{type:"http.client",handled:!1}),n}function yC(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Q_(){let e=A();return e?!!e.getOptions().sendDefaultPii:!1}var Qd=k,EC=7,TC="ContextLines",bC=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:EC;return{name:TC,processEvent(n){return IC(n,t)}}},eS=bC;function IC(e,t){let n=Qd.document,r=Qd.location&&Ni(Qd.location.href);if(!n||!r)return e;let o=e.exception&&e.exception.values;if(!o||!o.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>vC(u,s,r,t)))}),e}function vC(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||zu(t,e,r),e}var tS=Object.prototype.toString;function ep(e){switch(tS.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Yo(e,Error)}}function tp(e,t){return tS.call(e)===`[object ${t}]`}function nr(e){return tp(e,"String")}function Wo(e){return tp(e,"Object")}function np(e){return typeof Event<"u"&&Yo(e,Event)}function rp(e){return typeof Element<"u"&&Yo(e,Element)}function op(e){return tp(e,"RegExp")}function Yr(e){return!!(e&&e.then&&typeof e.then=="function")}function ip(e){return Wo(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Yo(e,t){try{return e instanceof t}catch{return!1}}function gc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function _s(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function nS(e,t,n=!1){return nr(e)?op(t)?t.test(e):nr(t)?n?e===t:e.includes(t):!1:!1}function sp(e,t=[],n=!1){return t.some(r=>nS(e,r,n))}var rr="8.15.0";var be=globalThis;function qo(e,t,n){let r=n||be,o=r.__SENTRY__=r.__SENTRY__||{},i=o[rr]=o[rr]||{};return i[e]||(i[e]=t())}var rS=be,xC=80;function Vo(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||xC;for(;n&&i++<r&&(u=CC(n,d),!(u==="html"||i>1&&s+o.length*c+u.length>=l));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function CC(e,t){let n=e,r=[];if(!n||!n.tagName)return"";if(rS.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(o&&o.length)o.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&nr(s)){let a=s.split(/\s+/);for(let c of a)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function ap(){try{return rS.document.location.href}catch{return""}}var _c=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var RC="Sentry Logger ",cp=["debug","info","warn","error","log","assert","trace"],up={};function Ko(e){if(!("console"in be))return e();let t=be.console,n={},r=Object.keys(up);r.forEach(o=>{let i=up[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function AC(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return _c?cp.forEach(n=>{t[n]=(...r)=>{e&&Ko(()=>{be.console[n](`${RC}[${n}]:`,...r)})}}):cp.forEach(n=>{t[n]=()=>{}}),t}var K=AC();function oS(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function dp(e,t,n){if(!(t in e))return;let r=e[t],o=n(r);typeof o=="function"&&aS(o,r),e[t]=o}function Jo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{_c&&K.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function aS(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Jo(e,"__sentry_original__",t)}catch{}}function pp(e){if(ep(e))return p({message:e.message,name:e.name,stack:e.stack},sS(e));if(np(e)){let t=p({type:e.type,target:iS(e.target),currentTarget:iS(e.currentTarget)},sS(e));return typeof CustomEvent<"u"&&Yo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function iS(e){try{return rp(e)?Vo(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function sS(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function De(e){return lp(e,new Map)}function lp(e,t){if(NC(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let o of Object.keys(e))typeof e[o]<"u"&&(r[o]=lp(e[o],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(o=>{r.push(lp(o,t))}),r}return e}function NC(e){if(!Wo(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var fp="<anonymous>";function cS(e){try{return!e||typeof e!="function"?fp:e.name||fp}catch{return fp}}var uS=1e3;function or(){return Date.now()/uS}function kC(){let{performance:e}=be;if(!e||!e.now)return or;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/uS}var ys=kC(),Ss,mp=(()=>{let{performance:e}=be;if(!e||!e.now){Ss="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?(Ss="timeOrigin",e.timeOrigin):(Ss="navigationStart",s):(Ss="dateNow",r)})();function lS(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function dS(){return!lS()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Sc(){return typeof window<"u"&&(!dS()||MC())}function MC(){return be.process!==void 0&&be.process.type==="renderer"}function pS(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let i=0;i<t.length;i++)if(t[i]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let i=0;i<t.length;i++)if(t[i]===o){t.splice(i,1);break}}return[n,r]}function mt(){let e=be,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function OC(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function hp(e,t){let n=OC(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism=p(p(p({},r),o),t),t&&"data"in t){let i=p(p({},o&&o.data),t.data);n.mechanism.data=i}}function gp(e){return Array.isArray(e)?e:[e]}function Xt(e,t=100,n=1/0){try{return _p("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function _p(e,t,n=1/0,r=1/0,o=pS()){let[i,s]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;let a=DC(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return _p("",m,c-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},l=0,f=pp(t);for(let m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(l>=r){d[m]="[MaxProperties ~]";break}let g=f[m];d[m]=_p(m,g,c-1,r,o),l++}return s(t),d}function DC(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(gc(t))return"[VueViewModel]";if(ip(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${cS(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=LC(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function LC(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}var Dn;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(Dn||(Dn={}));function yc(e){return new Xo(t=>{t(e)})}var Xo=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Dn.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}__init(){this._resolve=t=>{this._setResult(Dn.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Dn.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Dn.PENDING){if(Yr(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Dn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Dn.RESOLVED&&n[1](this._value),this._state===Dn.REJECTED&&n[2](this._value),n[0]=!0)})}}};var mS="sentry-",hS=/^sentry-/;function Sp(e){let t=gS(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(hS)){let s=o.slice(mS.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function gS(e){if(!(!e||!nr(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=fS(n);return Object.entries(r).forEach(([o,i])=>{t[o]=i}),t},{}):fS(e)}function fS(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function yp(e,t=[]){return[e,t]}function Ep(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Tp(e,t,n,r){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return p(p(p({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:oS(r)}),o&&{trace:De(p({},o))})}function _S(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function SS(e,t){return e[t]||e.all||0}function bp(e,t,n=Date.now()){return SS(e,t)>n}function Ip(e,{statusCode:t,headers:n},r=Date.now()){let o=p({},e),i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(let m of u.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[m]=r+f):o[m]=r+f}else s?o.all=r+_S(s,r):t===429&&(o.all=r+60*1e3);return o}function vp(e,t){return e??t()}function Es(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function Ec(){return{traceId:mt(),spanId:mt().substring(16)}}var Tc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ir(){return Ts(be),be}function Ts(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||rr,t[rr]=t[rr]||{}}function yS(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ys(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:mt()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}var xp="_sentrySpan";function Cp(e,t){t?Jo(e,xp,t):delete e[xp]}function bs(e){return e[xp]}var FC=100,Rp=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ec()}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=p({},this._tags),t._extra=p({},this._extra),t._contexts=p({},this._contexts),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=p({},this._sdkProcessingMetadata),t._propagationContext=p({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,Cp(t,bs(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&yS(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=p(p({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=T(p({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=p(p({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=T(p({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,[r,o]=n instanceof Ht?[n.getScopeData(),n.getRequestSession()]:Wo(n)?[t,t.requestSession]:[],{tags:i,extra:s,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags=p(p({},this._tags),i),this._extra=p(p({},this._extra),s),this._contexts=p(p({},this._contexts),c),a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Cp(this,void 0),this._attachments=[],this._propagationContext=Ec(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:FC;if(r<=0)return this;let o=p({timestamp:or()},t),i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:bs(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=p(p({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:mt();if(!this._client)return K.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,T(p({originalException:t,syntheticException:o},n),{event_id:r}),this),r}captureMessage(t,n,r){let o=r&&r.event_id?r.event_id:mt();if(!this._client)return K.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,T(p({originalException:t,syntheticException:i},r),{event_id:o}),this),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:mt();return this._client?(this._client.captureEvent(t,T(p({},n),{event_id:r}),this),r):(K.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},Ht=Rp;function ES(){return qo("defaultCurrentScope",()=>new Ht)}function TS(){return qo("defaultIsolationScope",()=>new Ht)}var Ap=class{constructor(t,n){let r;t?r=t:r=new Ht;let o;n?o=n:o=new Ht,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return Yr(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function Zo(){let e=ir(),t=Ts(e);return t.stack=t.stack||new Ap(ES(),TS())}function UC(e){return Zo().withScope(e)}function BC(e,t){let n=Zo();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function bS(e){return Zo().withScope(()=>e(Zo().getIsolationScope()))}function IS(){return{withIsolationScope:bS,withScope:UC,withSetScope:BC,withSetIsolationScope:(e,t)=>bS(t),getCurrentScope:()=>Zo().getScope(),getIsolationScope:()=>Zo().getIsolationScope()}}function Is(e){let t=Ts(e);return t.acs?t.acs:IS()}function sr(){let e=ir();return Is(e).getCurrentScope()}function ar(){let e=ir();return Is(e).getIsolationScope()}function wp(){return qo("globalScope",()=>new Ht)}function Qe(){return sr().getClient()}var HC="_sentryMetrics";function vS(e){let t=e[HC];if(!t)return;let n={};for(let[,[r,o]]of t)(n[r]||(n[r]=[])).push(De(o));return n}var vs="sentry.source",Np="sentry.sample_rate",kp="sentry.op",Mp="sentry.origin";var $C=1;function Dp(e){let{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=pn(e);return De({parent_span_id:r,span_id:t,trace_id:n})}function Op(e){return typeof e=="number"?xS(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?xS(e.getTime()):ys()}function xS(e){return e>9999999999?e/1e3:e}function pn(e){if(jC(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(GC(e)){let{attributes:r,startTime:o,name:i,endTime:s,parentSpanId:a,status:c}=e;return De({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:Op(o),timestamp:Op(s)||void 0,status:CS(c),op:r[kp],origin:r[Mp],_metrics_summary:vS(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function GC(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function jC(e){return typeof e.getSpanJSON=="function"}function Lp(e){let{traceFlags:t}=e.spanContext();return t===$C}function CS(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var zC="_sentryRootSpan";function qr(e){return e[zC]||e}function Pp(){let e=ir(),t=Is(e);return t.getActiveSpan?t.getActiveSpan():bs(sr())}var bc="production";var WC="_frozenDsc";function YC(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o=De({environment:n.environment||bc,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",o),o}function RS(e){let t=Qe();if(!t)return{};let n=YC(pn(e).trace_id||"",t),r=qr(e),o=r[WC];if(o)return o;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&Sp(s);if(a)return a;let c=pn(r),u=c.data||{},d=u[Np];d!=null&&(n.sample_rate=`${d}`);let l=u[vs],f=c.description;return l!=="url"&&f&&(n.transaction=f),n.sampled=String(Lp(r)),t.emit("createDsc",n,r),n}function Ic(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Tc&&K.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function vc(e,t,n,r=0){return new Xo((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s(p({},t),n);Tc&&s.id&&a===null&&K.log(`Event processor "${s.id}" dropped event`),Yr(a)?a.then(c=>vc(e,c,n,r+1).then(o)).then(null,i):vc(e,a,n,r+1).then(o).then(null,i)}})}function AS(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;qC(e,t),r&&JC(e,r),XC(e,n),VC(e,o),KC(e,i)}function Fp(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:m,span:g}=t;xs(e,"extra",n),xs(e,"tags",r),xs(e,"user",o),xs(e,"contexts",i),xs(e,"sdkProcessingMetadata",a),s&&(e.level=s),m&&(e.transactionName=m),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext=p(p({},e.propagationContext),f)}function xs(e,t,n){if(n&&Object.keys(n).length){e[t]=p({},e[t]);for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function qC(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t,c=De(n);c&&Object.keys(c).length&&(e.extra=p(p({},c),e.extra));let u=De(r);u&&Object.keys(u).length&&(e.tags=p(p({},u),e.tags));let d=De(o);d&&Object.keys(d).length&&(e.user=p(p({},d),e.user));let l=De(i);l&&Object.keys(l).length&&(e.contexts=p(p({},l),e.contexts)),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function VC(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function KC(e,t){e.sdkProcessingMetadata=p(p({},e.sdkProcessingMetadata),t)}function JC(e,t){e.contexts=p({trace:Dp(t)},e.contexts),e.sdkProcessingMetadata=p({dynamicSamplingContext:RS(t)},e.sdkProcessingMetadata);let n=qr(t),r=pn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function XC(e,t){e.fingerprint=e.fingerprint?gp(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Up(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c=T(p({},t),{event_id:t.event_id||n.event_id||mt(),timestamp:t.timestamp||or()}),u=n.integrations||e.integrations.map(y=>y.name);ZC(c,e),t0(c,u),t.type===void 0&&QC(c,e.stackParser);let d=r0(r,n.captureContext);n.mechanism&&hp(c,n.mechanism);let l=o?o.getEventProcessors():[],f=wp().getScopeData();if(i){let y=i.getScopeData();Fp(f,y)}if(d){let y=d.getScopeData();Fp(f,y)}let m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),AS(c,f);let g=[...l,...f.eventProcessors];return vc(g,c,n).then(y=>(y&&e0(y),typeof s=="number"&&s>0?n0(y,s,a):y))}function ZC(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:bc),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=_s(e.message,i));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=_s(s.value,i));let a=e.request;a&&a.url&&(a.url=_s(a.url,i))}var wS=new WeakMap;function QC(e,t){let n=be._sentryDebugIds;if(!n)return;let r,o=wS.get(t);o?r=o:(r=new Map,wS.set(t,r));let i=Object.entries(n).reduce((s,[a,c])=>{let u,d=r.get(a);d?u=d:(u=t(a),r.set(a,u));for(let l=u.length-1;l>=0;l--){let f=u[l];if(f.filename){s[f.filename]=c;break}}return s},{});try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function e0(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function t0(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function n0(e,t,n){if(!e)return null;let r=p(p(p(p(p({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>p(p({},o),o.data&&{data:Xt(o.data,t,n)}))}),e.user&&{user:Xt(e.user,t,n)}),e.contexts&&{contexts:Xt(e.contexts,t,n)}),e.extra&&{extra:Xt(e.extra,t,n)});return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Xt(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>p(p({},o),o.data&&{data:Xt(o.data,t,n)}))),r}function r0(e,t){if(!t)return e;let n=e?e.clone():new Ht;return n.update(t),n}function NS(e){if(e)return o0(e)?{captureContext:e}:s0(e)?{captureContext:e}:e}function o0(e){return e instanceof Ht||typeof e=="function"}var i0=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function s0(e){return Object.keys(e).some(t=>i0.includes(t))}function xc(e,t){return sr().captureException(e,NS(t))}function Bp(e,t){ar().setContext(e,t)}function Hp(e){ar().addEventProcessor(e)}function $p(e,t){let n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return u0(e,n)||c0(e,r)}function c0(e,t){return t?kS(e)===kS(t):!1}function u0(e,t){return t?e.includes(t.host):!1}function kS(e){return e[e.length-1]==="/"?e.slice(0,-1):e}var l0=100;function Gp(e,t){let n=Qe(),r=ar();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:i=l0}=n.getOptions();if(i<=0)return;let s=or(),a=p({timestamp:s},e),c=o?Ko(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var fe=be,mf="sentryReplaySession",d0="replay_event",hf="Unable to send Replay",p0=3e5,f0=9e5,m0=5e3,h0=5500,g0=6e4,_0=5e3,S0=3,MS=15e4,Cc=5e3,y0=3e3,E0=300,gf=2e7,T0=4999,b0=15e3,OS=36e5;function I0(e,t){return e??t()}function Nc(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var Ue=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(Ue||{});function v0(e){return e.nodeType===e.ELEMENT_NODE}function Rs(e){let t=Nc([e,"optionalAccess",n=>n.host]);return Nc([t,"optionalAccess",n=>n.shadowRoot])===e}function As(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function x0(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function C0(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function kc(e){try{let t=e.rules||e.cssRules;return t?x0(Array.from(t,XS).join("")):null}catch{return null}}function XS(e){let t;if(A0(e))try{t=kc(e.styleSheet)||C0(e)}catch{}else if(w0(e)&&e.selectorText.includes(":"))return R0(e.cssText);return t||e.cssText}function R0(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function A0(e){return"styleSheet"in e}function w0(e){return"selectorText"in e}var Mc=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let n=Nc([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return I0(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function N0(){return new Mc}function Wc({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Ns({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function ii(e){return e.toLowerCase()}function Yp(e){return e.toUpperCase()}var DS="__rrweb_original__";function k0(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=DS in i?i[DS]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function _f(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ii(t):null}function Oc(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}var M0=1,O0=new RegExp("[^a-z0-9-_:]"),ks=-2;function Sf(){return M0++}function D0(e){if(e instanceof HTMLFormElement)return"form";let t=ii(e.tagName);return O0.test(t)?"div":t}function L0(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Qo,LS,P0=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,F0=/^(?:[a-z+]+:)?\/\//i,U0=/^www\..*/i,B0=/^(data:)([^,]*),(.*)/i;function Dc(e,t){return(e||"").replace(P0,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(F0.test(c)||U0.test(c))return`url(${u}${c}${u})`;if(B0.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${L0(t)+c}${u})`;let d=t.split("/"),l=c.split("/");d.pop();for(let f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}var H0=/^[^ \t\n\r\u000c]+/,$0=/^[, \t\n\r\u000c]+/;function G0(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r($0),!(n>=t.length);){let i=r(H0);if(i.slice(-1)===",")i=ti(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=ti(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}function ti(e,t){if(!t||t.trim()==="")return t;let n=e.createElement("a");return n.href=t,n.href}function j0(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function yf(){let e=document.createElement("a");return e.href="",e.href}function ZS(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?ti(e,r):n==="srcset"?G0(e,r):n==="style"?Dc(r,yf()):t==="object"&&n==="data"?ti(e,r):typeof i=="function"?i(n,r,o):r)}function QS(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function z0(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function W0(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Vr(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Vr(e.parentNode,t,n,r+1)}function ni(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(W0(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function si(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Vr(s,ni(r,o)),c<0)return!0;a=Vr(s,ni(t,n),c>=0?c:1/0)}else{if(a=Vr(s,ni(t,n)),a<0)return!1;c=Vr(s,ni(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function Y0(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=setTimeout(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function q0(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function V0(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:g={},maskTextFn:b,maskInputFn:y,dataURLOptions:E={},inlineImages:C,recordCanvas:N,keepIframeSrcFn:x,newlyAddedElement:S=!1}=t,v=K0(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ue.Document,childNodes:[],compatMode:e.compatMode}:{type:Ue.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ue.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:v};case e.ELEMENT_NODE:return X0(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:g,maskInputFn:y,dataURLOptions:E,inlineImages:C,recordCanvas:N,keepIframeSrcFn:x,newlyAddedElement:S,rootId:v,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return J0(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:b,maskInputOptions:g,maskInputFn:y,rootId:v});case e.CDATA_SECTION_NODE:return{type:Ue.CDATA,textContent:"",rootId:v};case e.COMMENT_NODE:return{type:Ue.Comment,textContent:e.textContent||"",rootId:v};default:return!1}}function K0(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function J0(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,f=e.textContent,m=l==="STYLE"?!0:void 0,g=l==="SCRIPT"?!0:void 0,b=l==="TEXTAREA"?!0:void 0;if(m&&f){try{e.nextSibling||e.previousSibling||Nc([e,"access",E=>E.parentNode,"access",E=>E.sheet,"optionalAccess",E=>E.cssRules])&&(f=kc(e.parentNode.sheet))}catch(E){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${E}`,e)}f=Dc(f,yf())}g&&(f="SCRIPT_PLACEHOLDER");let y=si(e,r,i,o,s,n);if(!m&&!g&&!b&&f&&y&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),b&&f&&(c.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){let E=Wc({type:null,tagName:l,maskInputOptions:c});f=Ns({isMasked:si(e,r,i,o,s,E),element:e,value:f,maskInputFn:u})}return{type:Ue.Text,textContent:f||"",isStyle:m,rootId:d}}function X0(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:g=!1,rootId:b,maskAllText:y,maskTextClass:E,unmaskTextClass:C,maskTextSelector:N,unmaskTextSelector:x}=t,S=z0(e,r,o,i),v=D0(e),I={},M=e.attributes.length;for(let R=0;R<M;R++){let D=e.attributes[R];D.name&&!QS(v,D.name,D.value)&&(I[D.name]=ZS(n,v,ii(D.name),D.value,e,c))}if(v==="link"&&s){let R=Array.from(n.styleSheets).find(q=>q.href===e.href),D=null;R&&(D=kc(R)),D&&(delete I.rel,delete I.href,I._cssText=Dc(D,R.href))}if(v==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let R=kc(e.sheet);R&&(I._cssText=Dc(R,yf()))}if(v==="input"||v==="textarea"||v==="select"||v==="option"){let R=e,D=_f(R),q=Oc(R,Yp(v),D),ie=R.checked;if(D!=="submit"&&D!=="button"&&q){let oe=si(R,E,N,C,x,Wc({type:D,tagName:Yp(v),maskInputOptions:a}));I.value=Ns({isMasked:oe,element:R,value:q,maskInputFn:u})}ie&&(I.checked=ie)}if(v==="option"&&(e.selected&&!a.select?I.selected=!0:delete I.selected),v==="canvas"&&f){if(e.__context==="2d")k0(e)||(I.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let R=e.toDataURL(d.type,d.quality),D=document.createElement("canvas");D.width=e.width,D.height=e.height;let q=D.toDataURL(d.type,d.quality);R!==q&&(I.rr_dataURL=R)}}if(v==="img"&&l){Qo||(Qo=n.createElement("canvas"),LS=Qo.getContext("2d"));let R=e,D=R.crossOrigin;R.crossOrigin="anonymous";let q=()=>{R.removeEventListener("load",q);try{Qo.width=R.naturalWidth,Qo.height=R.naturalHeight,LS.drawImage(R,0,0),I.rr_dataURL=Qo.toDataURL(d.type,d.quality)}catch(ie){console.warn(`Cannot inline img src=${R.currentSrc}! Error: ${ie}`)}D?I.crossOrigin=D:R.removeAttribute("crossorigin")};R.complete&&R.naturalWidth!==0?q():R.addEventListener("load",q)}if((v==="audio"||v==="video")&&(I.rr_mediaState=e.paused?"paused":"played",I.rr_mediaCurrentTime=e.currentTime),g||(e.scrollLeft&&(I.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(I.rr_scrollTop=e.scrollTop)),S){let{width:R,height:D}=e.getBoundingClientRect();I={class:I.class,rr_width:`${R}px`,rr_height:`${D}px`}}v==="iframe"&&!m(I.src)&&(e.contentDocument||(I.rr_src=I.src),delete I.src);let P;try{customElements.get(v)&&(P=!0)}catch{}return{type:Ue.Element,tagName:v,attributes:I,childNodes:[],isSVG:j0(e)||void 0,needBlock:S,rootId:b,isCustom:P}}function pe(e){return e==null?"":e.toLowerCase()}function Z0(e,t){if(t.comment&&e.type===Ue.Comment)return!0;if(e.type===Ue.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(pe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||pe(e.attributes.name)==="application-name"||pe(e.attributes.rel)==="icon"||pe(e.attributes.rel)==="apple-touch-icon"||pe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&pe(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(pe(e.attributes.property).match(/^(og|twitter|fb):/)||pe(e.attributes.name).match(/^(og|twitter):/)||pe(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(pe(e.attributes.name)==="robots"||pe(e.attributes.name)==="googlebot"||pe(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(pe(e.attributes.name)==="author"||pe(e.attributes.name)==="generator"||pe(e.attributes.name)==="framework"||pe(e.attributes.name)==="publisher"||pe(e.attributes.name)==="progid"||pe(e.attributes.property).match(/^article:/)||pe(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(pe(e.attributes.name)==="google-site-verification"||pe(e.attributes.name)==="yandex-verification"||pe(e.attributes.name)==="csrf-token"||pe(e.attributes.name)==="p:domain_verify"||pe(e.attributes.name)==="verify-v1"||pe(e.attributes.name)==="verification"||pe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ri(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:m=!0,maskInputOptions:g={},maskAttributeFn:b,maskTextFn:y,maskInputFn:E,slimDOMOptions:C,dataURLOptions:N={},inlineImages:x=!1,recordCanvas:S=!1,onSerialize:v,onIframeLoad:I,iframeLoadTimeout:M=5e3,onStylesheetLoad:P,stylesheetLoadTimeout:R=5e3,keepIframeSrcFn:D=()=>!1,newlyAddedElement:q=!1}=t,{preserveWhiteSpace:ie=!0}=t,oe=V0(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:E,dataURLOptions:N,inlineImages:x,recordCanvas:S,keepIframeSrcFn:D,newlyAddedElement:q});if(!oe)return console.warn(e,"not serialized"),null;let de;r.hasNode(e)?de=r.getId(e):Z0(oe,C)||!ie&&oe.type===Ue.Text&&!oe.isStyle&&!oe.textContent.replace(/^\s+|\s+$/gm,"").length?de=ks:de=Sf();let Y=Object.assign(oe,{id:de});if(r.add(e,Y),de===ks)return null;v&&v(e);let me=!f;if(Y.type===Ue.Element){me=me&&!Y.needBlock,delete Y.needBlock;let J=e.shadowRoot;J&&As(J)&&(Y.isShadowHost=!0)}if((Y.type===Ue.Document||Y.type===Ue.Element)&&me){C.headWhitespace&&Y.type===Ue.Element&&Y.tagName==="head"&&(ie=!1);let J={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:E,slimDOMOptions:C,dataURLOptions:N,inlineImages:x,recordCanvas:S,preserveWhiteSpace:ie,onSerialize:v,onIframeLoad:I,iframeLoadTimeout:M,onStylesheetLoad:P,stylesheetLoadTimeout:R,keepIframeSrcFn:D};for(let ye of Array.from(e.childNodes)){let nt=ri(ye,J);nt&&Y.childNodes.push(nt)}if(v0(e)&&e.shadowRoot)for(let ye of Array.from(e.shadowRoot.childNodes)){let nt=ri(ye,J);nt&&(As(e.shadowRoot)&&(nt.isShadow=!0),Y.childNodes.push(nt))}}return e.parentNode&&Rs(e.parentNode)&&As(e.parentNode)&&(Y.isShadow=!0),Y.type===Ue.Element&&Y.tagName==="iframe"&&Y0(e,()=>{let J=e.contentDocument;if(J&&I){let ye=ri(J,{doc:J,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:E,slimDOMOptions:C,dataURLOptions:N,inlineImages:x,recordCanvas:S,preserveWhiteSpace:ie,onSerialize:v,onIframeLoad:I,iframeLoadTimeout:M,onStylesheetLoad:P,stylesheetLoadTimeout:R,keepIframeSrcFn:D});ye&&I(e,ye)}},M),Y.type===Ue.Element&&Y.tagName==="link"&&Y.attributes.rel==="stylesheet"&&q0(e,()=>{if(P){let J=ri(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:E,slimDOMOptions:C,dataURLOptions:N,inlineImages:x,recordCanvas:S,preserveWhiteSpace:ie,onSerialize:v,onIframeLoad:I,iframeLoadTimeout:M,onStylesheetLoad:P,stylesheetLoadTimeout:R,keepIframeSrcFn:D});J&&P(e,J)}},R),Y}function Q0(e,t){let{mirror:n=new Mc,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:m=!1,maskAllInputs:g=!1,maskAttributeFn:b,maskTextFn:y,maskInputFn:E,slimDOM:C=!1,dataURLOptions:N,preserveWhiteSpace:x,onSerialize:S,onIframeLoad:v,iframeLoadTimeout:I,onStylesheetLoad:M,stylesheetLoadTimeout:P,keepIframeSrcFn:R=()=>!1}=t||{};return ri(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:g===!1?{}:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:E,slimDOMOptions:C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:C==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:C===!1?{}:C,dataURLOptions:N,inlineImages:f,recordCanvas:m,preserveWhiteSpace:x,onSerialize:S,onIframeLoad:v,iframeLoadTimeout:I,onStylesheetLoad:M,stylesheetLoadTimeout:P,keepIframeSrcFn:R,newlyAddedElement:!1})}function cr(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function tt(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var ei=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,PS={map:{},getId(){return console.error(ei),-1},getNode(){return console.error(ei),null},removeNodeFromMap(){console.error(ei)},has(){return console.error(ei),!1},reset(){console.error(ei)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(PS=new Proxy(PS,{get(e,t,n){return t==="map"&&console.error(ei),Reflect.get(e,t,n)}}));function Ms(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(iR(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=Yc(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function ey(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Yc(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>ey(e,t,i||{},!0)}function Ef(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var Lc=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Lc=()=>new Date().getTime());function ty(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:cr([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||cr([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||cr([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:cr([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||cr([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||cr([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function ny(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ry(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function oy(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Qt(e,t,n,r,o){if(!e)return!1;let i=oy(e);if(!i)return!1;let s=ni(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Vr(i,s),c=-1;return a<0?!1:(r&&(c=Vr(i,ni(null,r))),a>-1&&c<0?!0:a<c)}function eR(e,t){return t.getId(e)!==-1}function jp(e,t){return t.getId(e)===ks}function iy(e,t){if(Rs(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?iy(e.parentNode,t):!0:!0}function qp(e){return!!e.changedTouches}function tR(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function sy(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function ay(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Vp(e){return!!cr([e,"optionalAccess",t=>t.shadowRoot])}var Kp=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return vp(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function cy(e){let t=null;return cr([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function nR(e){let t=e,n;for(;n=cy(t);)t=n;return t}function rR(e){let t=e.ownerDocument;if(!t)return!1;let n=nR(e);return t.contains(n)}function uy(e){let t=e.ownerDocument;return t?t.contains(e)||rR(e):!1}var FS={};function Tf(e){let t=FS[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return FS[e]=r.bind(window)}function oR(...e){return Tf("requestAnimationFrame")(...e)}function Yc(...e){return Tf("setTimeout")(...e)}function iR(...e){return Tf("clearTimeout")(...e)}var j=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(j||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),et=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(et||{}),Ln=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ln||{});function sR(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function US(e){return"__ln"in e}var Jp=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=sR([n,"optionalAccess",o=>o.next])||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&US(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&US(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},BS=(e,t)=>`${e}@${t}`,Xp=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new Jp,o=c=>{let u=c,d=ks;for(;d===ks;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!uy(c))return;let u=Rs(c.parentNode)?this.mirror.getId(cy(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);let l=ri(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{sy(f,this.mirror)&&this.iframeManager.addIframe(f),ay(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Vp(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,m)=>{this.iframeManager.attachIframe(f,m),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,m)=>{this.stylesheetManager.attachLinkElement(f,m)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)HS(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!$S(this.droppedSet,c)&&!HS(this.removes,c,this.mirror)||$S(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=o(s.value);u!==-1&&d!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{let m=d.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let g=m.parentNode.host;if(this.mirror.getId(g)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!jp(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!Qt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:si(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,oy(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=_f(n),a=n.tagName;o=Oc(n,a,s);let c=Wc({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),u=si(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Ns({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(Qt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!QS(n.tagName,r)&&(i.attributes[r]=ZS(this.doc,ii(n.tagName),ii(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||u!==s.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Qt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=Rs(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Qt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||jp(n,this.mirror)||!eR(n,this.mirror)||(this.addedSet.has(n)?(Zp(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||iy(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[BS(r,o)]?Zp(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:Rs(t.target)&&As(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(jp(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[BS(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Qt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Vp(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Zp(e,t){e.delete(t),t.childNodes.forEach(n=>Zp(e,n))}function HS(e,t,n){return e.length===0?!1:ly(e,t,n)}function ly(e,t,n){let{parentNode:r}=t;if(!r)return!1;let o=n.getId(r);return e.some(i=>i.id===o)?!0:ly(e,r,n)}function $S(e,t){return e.size===0?!1:dy(e,t)}function dy(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:dy(e,n):!1}var ws;function aR(e){ws=e}function cR(){ws=void 0}var X=e=>ws?(...n)=>{try{return e(...n)}catch(r){if(ws&&ws(r)===!0)return()=>{};throw r}}:e;function fn(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var oi=[];function Ps(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function py(e,t){let n=new Xp;oi.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=fn([window,"optionalAccess",s=>s.Zone,"optionalAccess",s=>s.__symbol__,"optionalCall",s=>s("MutationObserver")]);o&&window[o]&&(r=window[o]);let i=new r(X(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function uR({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=Ms(X(l=>{let f=Date.now()-a;e(s.map(m=>(m.timeOffset-=f,m)),l),s=[],a=null}),i),u=X(Ms(X(l=>{let f=Ps(l),{clientX:m,clientY:g}=qp(l)?l.changedTouches[0]:l;a||(a=Lc()),s.push({x:m,y:g,id:r.getId(f),timeOffset:Lc()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?z.Drag:l instanceof MouseEvent?z.MouseMove:z.TouchMove)}),o,{trailing:!1})),d=[tt("mousemove",u,n),tt("touchmove",u,n),tt("drag",u,n)];return X(()=>{d.forEach(l=>l())})}function lR({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,d=l=>f=>{let m=Ps(f);if(Qt(m,r,o,i,!0))return;let g=null,b=l;if("pointerType"in f){switch(f.pointerType){case"mouse":g=Ln.Mouse;break;case"touch":g=Ln.Touch;break;case"pen":g=Ln.Pen;break}g===Ln.Touch?et[l]===et.MouseDown?b="TouchStart":et[l]===et.MouseUp&&(b="TouchEnd"):Ln.Pen}else qp(f)&&(g=Ln.Touch);g!==null?(u=g,(b.startsWith("Touch")&&g===Ln.Touch||b.startsWith("Mouse")&&g===Ln.Mouse)&&(g=null)):et[l]===et.Click&&(g=u,u=null);let y=qp(f)?f.changedTouches[0]:f;if(!y)return;let E=n.getId(m),{clientX:C,clientY:N}=y;X(e)(p({type:et[b],id:E,x:C,y:N},g!==null&&{pointerType:g}))};return Object.keys(et).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=ii(l),m=d(l);if(window.PointerEvent)switch(et[l]){case et.MouseDown:case et.MouseUp:f=f.replace("mouse","pointer");break;case et.TouchStart:case et.TouchEnd:return}c.push(tt(f,m,t))}),X(()=>{c.forEach(l=>l())})}function fy({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=X(Ms(X(c=>{let u=Ps(c);if(!u||Qt(u,r,o,i,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=ty(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return tt("scroll",a,t)}function dR({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=X(Ms(X(()=>{let i=ny(),s=ry();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return tt("resize",o,t)}var pR=["INPUT","TEXTAREA","SELECT"],GS=new WeakMap;function fR({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:b}){function y(I){let M=Ps(I),P=I.isTrusted,R=M&&Yp(M.tagName);if(R==="OPTION"&&(M=M.parentElement),!M||!R||pR.indexOf(R)<0||Qt(M,r,o,i,!0))return;let D=M;if(D.classList.contains(s)||a&&D.matches(a))return;let q=_f(M),ie=Oc(D,R,q),oe=!1,de=Wc({maskInputOptions:c,tagName:R,type:q}),Y=si(M,f,g,m,b,de);(q==="radio"||q==="checkbox")&&(oe=M.checked),ie=Ns({isMasked:Y,element:M,value:ie,maskInputFn:u}),E(M,l?{text:ie,isChecked:oe,userTriggered:P}:{text:ie,isChecked:oe});let me=M.name;q==="radio"&&me&&oe&&t.querySelectorAll(`input[type="radio"][name="${me}"]`).forEach(J=>{if(J!==M){let ye=Ns({isMasked:Y,element:J,value:Oc(J,R,q),maskInputFn:u});E(J,l?{text:ye,isChecked:!oe,userTriggered:!1}:{text:ye,isChecked:!oe})}})}function E(I,M){let P=GS.get(I);if(!P||P.text!==M.text||P.isChecked!==M.isChecked){GS.set(I,M);let R=n.getId(I);X(e)(T(p({},M),{id:R}))}}let N=(d.input==="last"?["change"]:["input","change"]).map(I=>tt(I,X(y),t)),x=t.defaultView;if(!x)return()=>{N.forEach(I=>I())};let S=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),v=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&N.push(...v.map(I=>ey(I[0],I[1],{set(){X(y)({target:this,isTrusted:!1})}},!1,x))),X(()=>{N.forEach(I=>I())})}function Pc(e){let t=[];function n(r,o){if(Rc("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Rc("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Rc("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Rc("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function ur(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function mR({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:X((d,l,f)=>{let[m,g]=f,{id:b,styleId:y}=ur(l,t,n.styleMirror);return(b&&b!==-1||y&&y!==-1)&&e({id:b,styleId:y,adds:[{rule:m,index:g}]}),d.apply(l,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:X((d,l,f)=>{let[m]=f,{id:g,styleId:b}=ur(l,t,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,removes:[{index:m}]}),d.apply(l,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:X((d,l,f)=>{let[m]=f,{id:g,styleId:b}=ur(l,t,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,replace:m}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((d,l,f)=>{let[m]=f,{id:g,styleId:b}=ur(l,t,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,replaceSync:m}),d.apply(l,f)})}));let c={};Ac("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ac("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ac("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ac("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:X((f,m,g)=>{let[b,y]=g,{id:E,styleId:C}=ur(m.parentStyleSheet,t,n.styleMirror);return(E&&E!==-1||C&&C!==-1)&&e({id:E,styleId:C,adds:[{rule:b,index:[...Pc(m),y||0]}]}),f.apply(m,g)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:X((f,m,g)=>{let[b]=g,{id:y,styleId:E}=ur(m.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||E&&E!==-1)&&e({id:y,styleId:E,removes:[{index:[...Pc(m),b]}]}),f.apply(m,g)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function my({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?fn([n,"access",s=>s.defaultView,"optionalAccess",s=>s.Document]):fn([n,"access",s=>s.ownerDocument,"optionalAccess",s=>s.defaultView,"optionalAccess",s=>s.ShadowRoot]),i=fn([o,"optionalAccess",s=>s.prototype])?Object.getOwnPropertyDescriptor(fn([o,"optionalAccess",s=>s.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return fn([i,"access",s=>s.get,"optionalAccess",s=>s.call,"call",s=>s(this)])},set(s){let a=fn([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,s)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function hR({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:X((a,c,u)=>{let[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);let{id:m,styleId:g}=ur(fn([c,"access",b=>b.parentRule,"optionalAccess",b=>b.parentStyleSheet]),t,r.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,set:{property:d,value:l,priority:f},index:Pc(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:X((a,c,u)=>{let[d]=u;if(n.has(d))return s.apply(c,[d]);let{id:l,styleId:f}=ur(fn([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Pc(c.parentRule)}),a.apply(c,u)})}),X(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function gR({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=X(u=>Ms(X(d=>{let l=Ps(d);if(!l||Qt(l,t,n,r,!0))return;let{currentTime:f,volume:m,muted:g,playbackRate:b}=l;e({type:u,id:o.getId(l),currentTime:f,volume:m,muted:g,playbackRate:b})}),i.media||500)),c=[tt("play",a(0),s),tt("pause",a(1),s),tt("seeked",a(2),s),tt("volumechange",a(3),s),tt("ratechange",a(4),s)];return X(()=>{c.forEach(u=>u())})}function _R({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){let l=new i(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=Ef(t.fonts,"add",function(a){return function(c){return Yc(X(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),X(()=>{r.forEach(a=>a())})}function SR(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=X(()=>{let u=t.getSelection();if(!u||a&&fn([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){let m=u.getRangeAt(f),{startContainer:g,startOffset:b,endContainer:y,endOffset:E}=m;Qt(g,r,o,i,!0)||Qt(y,r,o,i,!0)||d.push({start:n.getId(g),startOffset:b,end:n.getId(y),endOffset:E})}s({ranges:d})});return c(),tt("selectionchange",c)}function yR({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Ef(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function ER(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r=py(e,e.doc),o=uR(e),i=lR(e),s=fy(e),a=dR(e,{win:n}),c=fR(e),u=gR(e),d=mR(e,{win:n}),l=my(e,e.doc),f=hR(e,{win:n}),m=e.collectFonts?_R(e):()=>{},g=SR(e),b=yR(e),y=[];for(let E of e.plugins)y.push(E.observer(E.callback,n,E.options));return X(()=>{oi.forEach(E=>E.reset()),r.disconnect(),o(),i(),s(),a(),c(),u(),d(),l(),f(),m(),g(),b(),y.forEach(E=>E())})}function Rc(e){return typeof window[e]<"u"}function Ac(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Os=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};function jS(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var Qp=class{constructor(){this.crossOriginIframeMirror=new Os(Sf),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},ef=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Os(Sf),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Os(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),jS([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case j.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:j.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case j.Meta:case j.Load:case j.DomContentLoaded:return!1;case j.Plugin:return n;case j.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case j.IncrementalSnapshot:switch(n.data.source){case z.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.Drag:case z.TouchMove:case z.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(n.data,t,["id"]),n;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case z.Font:return n;case z.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case z.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),jS([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(o=>{this.replaceStyleIds(o,t,["styleId"])})]),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ue.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},tf=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},nf=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!As(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let r=py(T(p({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(fy(T(p({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),Yc(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(my({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(Ef(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&uy(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},Fc=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}},rf=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Kp,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:XS(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},of=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){oR(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},Re,Uc,Zt=N0();function dr(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:g=!0,maskAllInputs:b,maskInputOptions:y,slimDOMOptions:E,maskAttributeFn:C,maskInputFn:N,maskTextFn:x,maxCanvasSize:S=null,packFn:v,sampling:I={},dataURLOptions:M={},mousemoveWait:P,recordCanvas:R=!1,recordCrossOriginIframes:D=!1,recordAfter:q=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:ie=!1,collectFonts:oe=!1,inlineImages:de=!1,plugins:Y,keepIframeSrcFn:me=()=>!1,ignoreCSSAttributes:J=new Set([]),errorHandler:ye,onMutation:nt,getCanvasManager:rt}=e;aR(ye);let He=D?window.parent===window:!0,tn=!1;if(!He)try{window.parent.document&&(tn=!1)}catch{tn=!0}if(He&&!t)throw new Error("emit function is required");P!==void 0&&I.mousemove===void 0&&(I.mousemove=P),Zt.reset();let eo=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},to=E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:E==="all",headMetaDescKeywords:E==="all"}:E||{};tR();let no,ro=0,oo=te=>{for(let Gt of Y||[])Gt.eventProcessor&&(te=Gt.eventProcessor(te));return v&&!tn&&(te=v(te)),te};Re=(te,Gt)=>{let ee=te;if(ee.timestamp=Lc(),Es([oi,"access",Ee=>Ee[0],"optionalAccess",Ee=>Ee.isFrozen,"call",Ee=>Ee()])&&ee.type!==j.FullSnapshot&&!(ee.type===j.IncrementalSnapshot&&ee.data.source===z.Mutation)&&oi.forEach(Ee=>Ee.unfreeze()),He)Es([t,"optionalCall",Ee=>Ee(oo(ee),Gt)]);else if(tn){let Ee={type:"rrweb",event:oo(ee),origin:window.location.origin,isCheckout:Gt};window.parent.postMessage(Ee,"*")}if(ee.type===j.FullSnapshot)no=ee,ro=0;else if(ee.type===j.IncrementalSnapshot){if(ee.data.source===z.Mutation&&ee.data.isAttachIframe)return;ro++;let Ee=r&&ro>=r,ne=n&&no&&ee.timestamp-no.timestamp>n;(Ee||ne)&&Eu(!0)}};let qs=te=>{Re({type:j.IncrementalSnapshot,data:p({source:z.Mutation},te)})},_e=te=>Re({type:j.IncrementalSnapshot,data:p({source:z.Scroll},te)}),Ae=te=>Re({type:j.IncrementalSnapshot,data:p({source:z.CanvasMutation},te)}),ot=te=>Re({type:j.IncrementalSnapshot,data:p({source:z.AdoptedStyleSheet},te)}),he=new rf({mutationCb:qs,adoptedStyleSheetCb:ot}),ve=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Qp:new ef({mirror:Zt,mutationCb:qs,stylesheetManager:he,recordCrossOriginIframes:D,wrappedEmit:Re});for(let te of Y||[])te.getMirror&&te.getMirror({nodeMirror:Zt,crossOriginIframeMirror:ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:ve.crossOriginIframeStyleMirror});let hr=new of,_n=bR(rt,{mirror:Zt,win:window,mutationCb:te=>Re({type:j.IncrementalSnapshot,data:p({source:z.CanvasMutation},te)}),recordCanvas:R,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:S,sampling:I.canvas,dataURLOptions:M,errorHandler:ye}),io=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new tf:new nf({mutationCb:qs,scrollCb:_e,bypassOptions:{onMutation:nt,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:g,maskInputOptions:eo,dataURLOptions:M,maskAttributeFn:C,maskTextFn:x,maskInputFn:N,recordCanvas:R,inlineImages:de,sampling:I,slimDOMOptions:to,iframeManager:ve,stylesheetManager:he,canvasManager:_n,keepIframeSrcFn:me,processedNodeManager:hr},mirror:Zt}),Eu=(te=!1)=>{Re({type:j.Meta,data:{href:window.location.href,width:ry(),height:ny()}},te),he.reset(),io.init(),oi.forEach(ee=>ee.lock());let Gt=Q0(document,{mirror:Zt,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:g,maskAllInputs:eo,maskAttributeFn:C,maskInputFn:N,maskTextFn:x,slimDOM:to,dataURLOptions:M,recordCanvas:R,inlineImages:de,onSerialize:ee=>{sy(ee,Zt)&&ve.addIframe(ee),ay(ee,Zt)&&he.trackLinkElement(ee),Vp(ee)&&io.addShadowRoot(ee.shadowRoot,document)},onIframeLoad:(ee,Ee)=>{ve.attachIframe(ee,Ee),io.observeAttachShadow(ee)},onStylesheetLoad:(ee,Ee)=>{he.attachLinkElement(ee,Ee)},keepIframeSrcFn:me});if(!Gt)return console.warn("Failed to snapshot the document");Re({type:j.FullSnapshot,data:{node:Gt,initialOffset:ty(window)}}),oi.forEach(ee=>ee.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&he.adoptStyleSheets(document.adoptedStyleSheets,Zt.getId(document))};Uc=Eu;try{let te=[],Gt=Ee=>X(ER)({onMutation:nt,mutationCb:qs,mousemoveCb:(ne,gr)=>Re({type:j.IncrementalSnapshot,data:{source:gr,positions:ne}}),mouseInteractionCb:ne=>Re({type:j.IncrementalSnapshot,data:p({source:z.MouseInteraction},ne)}),scrollCb:_e,viewportResizeCb:ne=>Re({type:j.IncrementalSnapshot,data:p({source:z.ViewportResize},ne)}),inputCb:ne=>Re({type:j.IncrementalSnapshot,data:p({source:z.Input},ne)}),mediaInteractionCb:ne=>Re({type:j.IncrementalSnapshot,data:p({source:z.MediaInteraction},ne)}),styleSheetRuleCb:ne=>Re({type:j.IncrementalSnapshot,data:p({source:z.StyleSheetRule},ne)}),styleDeclarationCb:ne=>Re({type:j.IncrementalSnapshot,data:p({source:z.StyleDeclaration},ne)}),canvasMutationCb:Ae,fontCb:ne=>Re({type:j.IncrementalSnapshot,data:p({source:z.Font},ne)}),selectionCb:ne=>{Re({type:j.IncrementalSnapshot,data:p({source:z.Selection},ne)})},customElementCb:ne=>{Re({type:j.IncrementalSnapshot,data:p({source:z.CustomElement},ne)})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:m,maskInputOptions:eo,inlineStylesheet:g,sampling:I,recordCanvas:R,inlineImages:de,userTriggeredOnInput:ie,collectFonts:oe,doc:Ee,maskAttributeFn:C,maskInputFn:N,maskTextFn:x,keepIframeSrcFn:me,blockSelector:i,unblockSelector:s,slimDOMOptions:to,dataURLOptions:M,mirror:Zt,iframeManager:ve,stylesheetManager:he,shadowDomManager:io,processedNodeManager:hr,canvasManager:_n,ignoreCSSAttributes:J,plugins:Es([Y,"optionalAccess",ne=>ne.filter,"call",ne=>ne(gr=>gr.observer),"optionalAccess",ne=>ne.map,"call",ne=>ne(gr=>({observer:gr.observer,options:gr.options,callback:fT=>Re({type:j.Plugin,data:{plugin:gr.name,payload:fT}})}))])||[]},{});ve.addLoadListener(Ee=>{try{te.push(Gt(Ee.contentDocument))}catch(ne){console.warn(ne)}});let ee=()=>{Eu(),te.push(Gt(document))};return document.readyState==="interactive"||document.readyState==="complete"?ee():(te.push(tt("DOMContentLoaded",()=>{Re({type:j.DomContentLoaded,data:{}}),q==="DOMContentLoaded"&&ee()})),te.push(tt("load",()=>{Re({type:j.Load,data:{}}),q==="load"&&ee()},window))),()=>{te.forEach(Ee=>Ee()),hr.destroy(),Uc=void 0,cR()}}catch(te){console.warn(te)}}function TR(e){if(!Uc)throw new Error("please take full snapshot after start recording");Uc(e)}dr.mirror=Zt;dr.takeFullSnapshot=TR;function bR(e,t){try{return e?e(t):new Fc}catch{return console.warn("Unable to initialize CanvasManager"),new Fc}}var IR=3,vR=5;function bf(e){return e>9999999999?e:e*1e3}function zp(e){return e>9999999999?e/1e3:e}function Fs(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:j.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Xt(t,10,1e3)}}),t.category==="console")))}var xR="button,a";function hy(e){return e.closest(xR)||e}function gy(e){let t=_y(e);return!t||!(t instanceof Element)?t:hy(t)}function _y(e){return CR(e)?e.target:e}function CR(e){return typeof e=="object"&&!!e&&"target"in e}var lr;function RR(e){return lr||(lr=[],AR()),lr.push(e),()=>{let t=lr?lr.indexOf(e):-1;t>-1&&lr.splice(t,1)}}function AR(){dp(fe,"open",function(e){return function(...t){if(lr)try{lr.forEach(n=>n())}catch{}return e.apply(fe,t)}})}function wR(e,t,n){e.handleClick(t,n)}var sf=class{constructor(t,n,r=Fs){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=RR(()=>{this._lastMutation=zS()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(kR(n,this._ignoreSelector)||!MR(t))return;let r={timestamp:zp(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=zp(t)}registerScroll(t=Date.now()){this._lastScroll=zp(t)}registerClick(t){let n=hy(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=zS();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:T(p({},a.data),{url:fe.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1})};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:T(p({},a.data),{url:fe.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0})};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=On(()=>this._checkClicks(),1e3)}},NR=["A","BUTTON","INPUT"];function kR(e,t){return!!(!NR.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function MR(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function zS(){return Date.now()/1e3}function OR(e,t){try{if(!DR(t))return;let{source:n}=t.data;if(n===z.Mutation&&e.registerMutation(t.timestamp),n===z.Scroll&&e.registerScroll(t.timestamp),LR(t)){let{type:r,id:o}=t.data,i=dr.mirror.getNode(o);i instanceof HTMLElement&&r===et.Click&&e.registerClick(i)}}catch{}}function DR(e){return e.type===IR}function LR(e){return e.data.source===z.MouseInteraction}function mn(e){return p({timestamp:Date.now()/1e3,type:"default"},e)}var If=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(If||{}),PR=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function FR(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(PR.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var UR=e=>t=>{if(!e.isEnabled())return;let n=BR(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&wR(e.clickDetector,n,gy(t.event)),Fs(e,n)};function Sy(e,t){let n=dr.mirror.getId(e),r=n&&dr.mirror.getNode(n),o=r&&dr.mirror.getMeta(r),i=o&&$R(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===If.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:FR(i.attributes)}}:{}}}function BR(e){let{target:t,message:n}=HR(e);return mn(p({category:`ui.${e.name}`},Sy(t,n)))}function HR(e){let t=e.name==="click",n,r=null;try{r=t?gy(e.event):_y(e.event),n=Vo(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function $R(e){return e.type===If.Element}function GR(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=jR(t);n&&Fs(e,n)}function jR(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||zR(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Vo(s,{maxStringLength:200})||"<unknown>",d=Sy(s,u);return mn({category:"ui.keyDown",message:u,data:T(p({},d.data),{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i})})}function zR(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var WR={resource:JR,paint:VR,navigation:KR};function wc(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function YR(e){return e.map(qR).filter(Boolean)}function qR(e){let t=WR[e.entryType];return t?t(e):null}function ai(e){return((mp||fe.performance.timeOrigin)+e)/1e3}function VR(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=ai(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function KR(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:m,transferSize:g,type:b}=e;return o===0?null:{type:`${t}.${b}`,start:ai(m),end:ai(i),name:n,data:{size:g,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function JR(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:ai(i),end:ai(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function XR(e){let t=e.entries[e.entries.length-1],n=t?t.element:void 0;return qc(e,"largest-contentful-paint",n)}function ZR(e){let t=e.entries[0],n=t&&t.sources&&t.sources[0]?t.sources[0].node:void 0;return qc(e,"cumulative-layout-shift",n)}function QR(e){let t=e.entries[e.entries.length-1],n=t?t.target:void 0;return qc(e,"first-input-delay",n)}function eA(e){let t=e.entries[e.entries.length-1],n=t?t.target:void 0;return qc(e,"interaction-to-next-paint",n)}function qc(e,t,n){let r=e.value,o=e.rating,i=ai(r);return{type:"web-vital",name:t,start:i,end:i,data:{value:r,size:r,rating:o,nodeId:n?dr.mirror.getId(n):void 0}}}function tA(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(Vt(o,n))}),r.push(rs(wc(XR,e)),ns(wc(ZR,e)),os(wc(QR,e)),is(wc(eA,e))),()=>{r.forEach(o=>o())}}var ce=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,nA='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function rA(){let e=new Blob([nA]);return URL.createObjectURL(e)}function ht(e,t){ce&&(K.info(e),t&&yy(e))}function Kr(e,t){ce&&(K.info(e),t&&On(()=>{yy(e)},0))}function yy(e){Gp({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var Ds=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${gf}.`)}},Bc=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(t){return F(this,null,function*(){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>gf)throw new Ds;this.events.push(t)})}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?bf(t):null}},af=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ht("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){ce&&K.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},cf=class{constructor(t){this._worker=new af(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=bf(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>gf?Promise.reject(new Ds):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{ce&&K.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}_finishRequest(){return F(this,null,function*(){let t=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t})}},uf=class{constructor(t){this._fallback=new Bc,this._compression=new cf(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}finish(){return F(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return F(this,null,function*(){try{yield this._compression.ensureReady()}catch{ht("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return F(this,null,function*(){let{events:t,hasCheckout:n}=this._fallback,r=[];for(let o of t)r.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._used=this._compression;try{yield Promise.all(r)}catch(o){ce&&K.warn("[Replay] Failed to add events when switching buffers.",o)}})}};function oA({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=iA(t);if(n)return n}return ht("[Replay] Using simple buffer"),new Bc}function iA(e){try{let t=e||sA();if(!t)return;ht(`[Replay] Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new uf(n)}catch{ht("[Replay] Failed to create compression worker")}}function sA(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?rA():""}function vf(){try{return"sessionStorage"in fe&&!!fe.sessionStorage}catch{return!1}}function aA(e){cA(),e.session=void 0}function cA(){if(vf())try{fe.sessionStorage.removeItem(mf)}catch{}}function Ey(e){return e===void 0?!1:Math.random()<e}function Ty(e){let t=Date.now(),n=e.id||mt(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function xf(e){if(vf())try{fe.sessionStorage.setItem(mf,JSON.stringify(e))}catch{}}function uA(e,t){return Ey(e)?"session":t?"buffer":!1}function WS({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=uA(e,t),i=Ty({sampled:o,previousSessionId:r});return n&&xf(i),i}function lA(e){if(!vf())return null;try{let t=fe.sessionStorage.getItem(mf);if(!t)return null;let n=JSON.parse(t);return Kr("[Replay] Loading existing session",e),Ty(n)}catch{return null}}function lf(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function by(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return lf(e.started,t,r)||lf(e.lastActivity,n,r)}function Iy(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!by(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Wp({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){let i=o.stickySession&&lA(e);return i?Iy(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Kr("[Replay] Session in sessionStorage is expired, creating new one..."),WS(o,{previousSessionId:i.id})):i:(Kr("[Replay] Creating new session",e),WS(o,{previousSessionId:r}))}function dA(e){return e.type===j.Custom}function Cf(e,t,n){return xy(e,t)?(vy(e,t,n),!0):!1}function pA(e,t,n){return xy(e,t)?vy(e,t,n):Promise.resolve(null)}function vy(e,t,n){return F(this,null,function*(){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),o=fA(t,r.beforeAddRecordingEvent);return o?yield e.eventBuffer.addEvent(o):void 0}catch(r){let o=r&&r instanceof Ds?"addEventSizeExceeded":"addEvent";ce&&K.error(r),yield e.stop({reason:o});let i=Qe();i&&i.recordDroppedEvent("internal_sdk_error","replay")}})}function xy(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=bf(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Kr(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function fA(e,t){try{if(typeof t=="function"&&dA(e))return t(e)}catch(n){return ce&&K.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function Rf(e){return!e.type}function df(e){return e.type==="transaction"}function mA(e){return e.type==="replay_event"}function YS(e){return e.type==="feedback"}function hA(e){return(t,n)=>{if(!e.isEnabled()||!Rf(t)&&!df(t))return;let r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(df(t)){gA(e,t);return}_A(e,t)}}}function gA(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function _A(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||On(()=>{e.sendBufferedReplayOrFlush()})}function SA(e){return t=>{!e.isEnabled()||!Rf(t)||yA(e,t)}}function yA(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=mn({category:"replay.hydrate-error",data:{url:ap()}});Fs(e,r)}}function EA(e){let t=Qe();t&&t.on("beforeAddBreadcrumb",n=>TA(e,n))}function TA(e,t){if(!e.isEnabled()||!Cy(t))return;let n=bA(t);n&&Fs(e,n)}function bA(e){return!Cy(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?IA(e):mn(e)}function IA(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return mn(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Cc?(n=!0,`${o.slice(0,Cc)}\u2026`):o;if(typeof o=="object")try{let i=Xt(o,7);return JSON.stringify(i).length>Cc?(n=!0,`${JSON.stringify(i,null,2).slice(0,Cc)}\u2026`):i}catch{}return o});return mn(T(p({},e),{data:p(T(p({},e.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function Cy(e){return!!e.category}function vA(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function xA(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:j.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function CA(e,t){return e.recordingMode!=="buffer"||t.message===hf||!t.exception||t.type?!1:Ey(e.getOptions().errorSampleRate)}function RA(e){return Object.assign((t,n)=>e.isEnabled()?mA(t)?(delete t.breadcrumbs,t):!Rf(t)&&!df(t)&&!YS(t)||!e.checkAndHandleExpiredSession()?t:YS(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),xA(e,t),t):vA(t,n)&&!e.getOptions()._experiments.captureExceptions?(ce&&K.log("[Replay] Ignoring error from rrweb internals",t),null):((CA(e,t)||e.recordingMode==="session")&&(t.tags=T(p({},t.tags),{replayId:e.getSessionId()})),t):t,{id:"Replay"})}function Vc(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:j.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function AA(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function wA(e){return t=>{if(!e.isEnabled())return;let n=AA(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Vc(e,[n]),!1)))}}function NA(e,t){return ce&&e.getOptions()._experiments.traceInternals?!1:$p(t,Qe())}function Ry(e,t){e.isEnabled()&&t!==null&&(NA(e,t.name)||e.addUpdate(()=>(Vc(e,[t]),!0)))}function Kc(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=ky(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Ay(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function wy(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[ky(e)];if(!e)return[void 0]}catch{return ce&&K.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ce&&K.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Hc(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n=p({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Ny(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:De({method:i,statusCode:s,request:a,response:c})}}function Ls(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function pr(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=kA(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function pf(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function ky(e){return new URLSearchParams(e).toString()}function kA(e){if(!e||typeof e!="string")return{body:e};let t=e.length>MS,n=MA(e);if(t){let r=e.slice(0,MS);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function MA(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function $c(e,t){let n=OA(e);return sp(n,t)}function OA(e,t=fe.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(fe.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function DA(e,t,n){return F(this,null,function*(){try{let r=yield PA(e,t,n),o=Ny("resource.fetch",r);Ry(n.replay,o)}catch(r){ce&&K.error("[Replay] Failed to capture fetch breadcrumb",r)}})}function LA(e,t){let{input:n,response:r}=t,o=n?My(n):void 0,i=Kc(o),s=r?Ay(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function PA(e,t,n){return F(this,null,function*(){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=$c(s,n.networkDetailAllowUrls)&&!$c(s,n.networkDetailDenyUrls),f=l?FA(n,t.input,u):Ls(u),m=yield UA(l,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:m}})}function FA({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?$A(n,t):{};if(!e)return pr(o,r,void 0);let i=My(n),[s,a]=wy(i),c=pr(o,r,s);return a?Hc(c,a):c}function UA(i,s,a,c){return F(this,arguments,function*(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return Ls(o);let u=r?Oy(r.headers,n):{};if(!r||!t&&o!==void 0)return pr(u,o,void 0);let[d,l]=yield HA(r),f=BA(d,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:u});return l?Hc(f,l):f})}function BA(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e&&e.length&&n===void 0?Kc(e):n;return r?t?pr(o,i,e):pr(o,i,void 0):Ls(i)}catch(i){return ce&&K.warn("[Replay] Failed to serialize response body",i),pr(o,n,void 0)}}function HA(e){return F(this,null,function*(){let t=GA(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[yield jA(t)]}catch(n){return ce&&K.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}})}function My(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Oy(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function $A(e,t){return e.length===1&&typeof e[0]!="string"?qS(e[0],t):e.length===2?qS(e[1],t):{}}function qS(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?Oy(n,t):Array.isArray(n)?{}:pf(n,t):{}}function GA(e){try{return e.clone()}catch(t){ce&&K.warn("[Replay] Failed to clone response body",t)}}function jA(e){return new Promise((t,n)=>{let r=On(()=>n(new Error("Timeout while trying to read response body")),500);zA(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}function zA(e){return F(this,null,function*(){return yield e.text()})}function WA(e,t,n){return F(this,null,function*(){try{let r=qA(e,t,n),o=Ny("resource.xhr",r);Ry(n.replay,o)}catch(r){ce&&K.error("[Replay] Failed to capture xhr breadcrumb",r)}})}function YA(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=Kc(r),i=n.getResponseHeader("content-length")?Ay(n.getResponseHeader("content-length")):XA(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function qA(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!$c(c,n.networkDetailAllowUrls)||$c(c,n.networkDetailDenyUrls)){let v=Ls(l),I=Ls(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:v,response:I}}let m=a[vt],g=m?pf(m.request_headers,n.networkRequestHeaders):{},b=pf(VA(a),n.networkResponseHeaders),[y,E]=n.networkCaptureBodies?wy(s):[void 0],[C,N]=n.networkCaptureBodies?KA(a):[void 0],x=pr(g,l,y),S=pr(b,f,C);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:d,request:E?Hc(x,E):x,response:N?Hc(S,N):S}}function VA(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function KA(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return JA(e.response,e.responseType)}catch(n){t.push(n)}return ce&&K.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function JA(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return ce&&K.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ce&&K.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function XA(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Kc(n)}catch{return}}function ZA(e){let t=Qe();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,u)=>QA(a,c,u))}catch{}}function QA(e,t,n){if(t.data)try{ew(t)&&nw(n)&&(YA(t,n),WA(t,n,e)),tw(t)&&rw(n)&&(LA(t,n),DA(t,n,e))}catch{ce&&K.warn("Error when enriching network breadcrumb")}}function ew(e){return e.category==="xhr"}function tw(e){return e.category==="fetch"}function nw(e){return e&&e.xhr}function rw(e){return e&&e.response}function ow(e){let t=Qe();hs(UR(e)),Mn(wA(e)),EA(e),ZA(e);let n=RA(e);Hp(n),t&&(t.on("beforeSendEvent",SA(e)),t.on("afterSendEvent",hA(e)),t.on("createDsc",r=>{let o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,o)=>{let i=e.getSessionId();o&&o.includeReplay&&e.isEnabled()&&i&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=i)}))}function iw(e){return F(this,null,function*(){try{return Promise.all(Vc(e,[sw(fe.performance.memory)]))}catch{return[]}})}function sw(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function aw(e,t,n){let r,o,i,s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function u(){return o!==void 0||i!==void 0?a():r}function d(){return o&&clearTimeout(o),o=On(a,t),s&&i===void 0&&(i=On(a,s)),r}return d.cancel=c,d.flush=u,d}function cw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){ce&&K.warn("[Replay] Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&OR(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Cf(e,n,o))return!0;if(!o)return!1;if(lw(e,o),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let i=e.eventBuffer.getEarliestTimestamp();i&&(ht(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&xf(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function uw(e){let t=e.getOptions();return{type:j.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function lw(e,t){!t||!e.session||e.session.segmentId!==0||Cf(e,uw(e),!1)}function dw(e,t,n,r){return yp(Tp(e,Ep(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function pw({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}function fw(o){return F(this,arguments,function*({client:e,scope:t,replayId:n,event:r}){let i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);let a=yield Up(e.getOptions(),r,s,t,e,ar());if(!a)return null;a.platform=a.platform||"javascript";let c=e.getSdkMetadata(),{name:u,version:d}=c&&c.sdk||{};return a.sdk=T(p({},a.sdk),{name:u||"sentry.javascript.unknown",version:d||"0.0.0"}),a})}function mw(s){return F(this,arguments,function*({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let a=pw({recordingData:e,headers:{segment_id:n}}),{urls:c,errorIds:u,traceIds:d,initialTimestamp:l}=r,f=Qe(),m=sr(),g=f&&f.getTransport(),b=f&&f.getDsn();if(!f||!g||!b||!i.sampled)return yc({});let y={type:d0,replay_start_timestamp:l/1e3,timestamp:o/1e3,error_ids:u,trace_ids:d,urls:c,replay_id:t,segment_id:n,replay_type:i.sampled},E=yield fw({scope:m,client:f,replayId:t,event:y});if(!E)return f.recordDroppedEvent("event_processor","replay",y),ht("An event processor returned `null`, will not send event."),yc({});delete E.sdkProcessingMetadata;let C=dw(E,a,b,f.getOptions().tunnel),N;try{N=yield g.send(C)}catch(S){let v=new Error(hf);try{v.cause=S}catch{}throw v}if(typeof N.statusCode=="number"&&(N.statusCode<200||N.statusCode>=300))throw new Gc(N.statusCode);let x=Ip({},N);if(bp(x,"replay"))throw new jc(x);return N})}var Gc=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},jc=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};function Dy(n){return F(this,arguments,function*(e,t={count:0,interval:_0}){let{recordingData:r,options:o}=e;if(r.length)try{return yield mw(e),!0}catch(i){if(i instanceof Gc||i instanceof jc)throw i;if(Bp("Replays",{_retryCount:t.count}),ce&&o._experiments&&o._experiments.captureExceptions&&xc(i),t.count>=S0){let s=new Error(`${hf} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,a)=>{On(()=>F(this,null,function*(){try{yield Dy(e,t),s(!0)}catch(c){a(c)}}),t.interval)})}})}var Ly="__THROTTLED",hw="__SKIPPED";function gw(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?hw:Ly}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var ff=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:p0,sessionIdleExpire:f0},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=aw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=gw((s,a)=>pA(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(y0,r),timeout:r,scrollTimeout:E0,ignoreSelector:o?o.join(","):""}:void 0;i&&(this.clickDetector=new sf(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Kr(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Kr("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();let t=Wp({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Kr("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=Wp({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=dr(p(T(p(p({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:g0}),{emit:cw(this),onMutation:this._onMutationHandler}),t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}))}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}stop(){return F(this,arguments,function*({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ht(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,aA(this)}catch(r){this._handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ht("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ht("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return F(this,arguments,function*({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();ht("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())})}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&lf(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${fe.location.pathname}${fe.location.hash}${fe.location.search}`,n=`${fe.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===Ly){let o=mn({category:"replay.throttled"});this.addUpdate(()=>!Cf(this,{type:vR,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||Pp(),n=t&&qr(t),o=(n&&pn(n).data||{})[vs];if(!(!n||!o||!["route","custom"].includes(o)))return pn(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=oA({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){ce&&K.error("[Replay]",t),ce&&this._options._experiments&&this._options._experiments.captureExceptions&&xc(t)}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Wp({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return Iy(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}_refreshSession(t){return F(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(t.id))})}_addListeners(){try{fe.document.addEventListener("visibilitychange",this._handleVisibilityChange),fe.addEventListener("blur",this._handleWindowBlur),fe.addEventListener("focus",this._handleWindowFocus),fe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(ow(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=tA(this)}_removeListeners(){try{fe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),fe.removeEventListener("blur",this._handleWindowBlur),fe.removeEventListener("focus",this._handleWindowFocus),fe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{fe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=mn({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=mn({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{GR(this,t)}}_doChangeToBackgroundTasks(t){!this.session||by(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ht("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:j.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=YR(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Vc(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}_runFlush(){return F(this,null,function*(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){ce&&K.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield iw(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=yield this.eventBuffer.finish();yield Dy({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});let r=Qe();r&&r.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...n)=>F(this,[...n],function*({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){ce&&K.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let r=this.session.started,i=Date.now()-r;this._debouncedFlush.cancel();let s=i<this._options.minReplayDuration,a=i>this._options.maxReplayDuration+5e3;if(s||a){ht(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),s&&this._debouncedFlush();return}let c=this.eventBuffer;if(c&&this.session.segmentId===0&&!c.hasCheckout&&ht("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(u){ce&&K.error(u)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&xf(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=mn({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function Cs(e,t){return[...e,...t].join(",")}function _w({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=['base[href="/"]'],s=Cs(e,[".sentry-mask","[data-sentry-mask]"]),a=Cs(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Cs(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Cs(r,[]),ignoreSelector:Cs(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Sw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var VS='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',yw=["content-length","content-type","accept"],KS=!1,Jc=e=>new zc(e),zc=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=m0,flushMaxDelay:n=h0,minReplayDuration:r=T0,maxReplayDuration:o=OS,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:m=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:b=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:E=[],networkCaptureBodies:C=!0,networkRequestHeaders:N=[],networkResponseHeaders:x=[],mask:S=[],maskAttributes:v=["title","placeholder"],unmask:I=[],block:M=[],unblock:P=[],ignore:R=[],maskFn:D,beforeAddRecordingEvent:q,beforeErrorSampling:ie}={}){this.name=e.id;let oe=_w({mask:S,unmask:I,block:M,unblock:P,ignore:R});if(this._recordingOptions=T(p({maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:D,maskInputFn:D,maskAttributeFn:(de,Y,me)=>Sw({maskAttributes:v,maskAllText:u,privacyOptions:oe,key:de,value:Y,el:me})},oe),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:de=>{try{de.__rrweb__=!0}catch{}}}),this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,b0),maxReplayDuration:Math.min(o,OS),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:m,slowClickTimeout:g,slowClickIgnoreSelectors:b,networkDetailAllowUrls:y,networkDetailDenyUrls:E,networkCaptureBodies:C,networkRequestHeaders:JS(N),networkResponseHeaders:JS(x),beforeAddRecordingEvent:q,beforeErrorSampling:ie,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${VS}`:VS),this._isInitialized&&Sc())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return KS}set _isInitialized(t){KS=t}afterAllSetup(t){!Sc()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=Ew(this._initialOptions,t);this._replay=new ff({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};zc.__initStatic();function Ew(e,t){let n=t.getOptions(),r=p({sessionSampleRate:0,errorSampleRate:0},De(e)),o=Ic(n.replaysSessionSampleRate),i=Ic(n.replaysOnErrorSampleRate);return o==null&&i==null&&Ko(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function JS(e){return[...yw,...e.map(t=>t.toLowerCase())]}function Py(){let e=Qe();return e&&e.getIntegrationByName("Replay")}function Tw(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Af(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Af(e.parentNode,t,n,r+1)}function Fy(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Tw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var ci=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Uy={map:{},getId(){return console.error(ci),-1},getNode(){return console.error(ci),null},removeNodeFromMap(){console.error(ci)},has(){return console.error(ci),!1},reset(){console.error(ci)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Uy=new Proxy(Uy,{get(e,t,n){return t==="map"&&console.error(ci),Reflect.get(e,t,n)}}));function Nf(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Yy(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Nf(e,t,i||{},!0)}function kf(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function bw(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function eu(e,t,n,r,o){if(!e)return!1;let i=bw(e);if(!i)return!1;let s=Fy(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Af(i,s),c=-1;return a<0?!1:(r&&(c=Af(i,Fy(null,r))),a>-1&&c<0?!0:a<c)}var By={};function Wy(e){let t=By[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return By[e]=r.bind(window)}function Jr(...e){return Wy("requestAnimationFrame")(...e)}function Yy(...e){return Wy("setTimeout")(...e)}var li=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(li||{}),Zc;function Iw(e){Zc=e}var Hy=e=>Zc?(...n)=>{try{return e(...n)}catch(r){if(Zc&&Zc(r)===!0)return()=>{};throw r}}:e,ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Us=0;Us<ui.length;Us++)vw[ui.charCodeAt(Us)]=Us;var Us,xw=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=ui[t[n]>>2],o+=ui[(t[n]&3)<<4|t[n+1]>>4],o+=ui[(t[n+1]&15)<<2|t[n+2]>>6],o+=ui[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},$y=new Map;function Cw(e,t){let n=$y.get(e);return n||(n=new Map,$y.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var qy=(e,t,n)=>{if(!e||!(Ky(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=Cw(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function Qc(e,t,n){if(e instanceof Array)return e.map(r=>Qc(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=xw(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Qc(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Qc(e.data,t,n),e.width,e.height]};if(Ky(e,t)||typeof e=="object"){let r=e.constructor.name,o=qy(e,t,n);return{rr_type:r,index:o}}}}return e}var Vy=(e,t,n)=>e.map(r=>Qc(r,t,n)),Ky=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function Rw(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=kf(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return eu(this.canvas,n,r,o,!0)||Yy(()=>{let l=Vy(d,t,this);e(this.canvas,{type:li["2D"],property:a,args:l})},0),u.apply(this,d)}});i.push(c)}catch{let u=Nf(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:li["2D"],property:a,args:[d],setter:!0})}});i.push(u)}return()=>{i.forEach(a=>a())}}function Aw(e){return e==="experimental-webgl"?"webgl":e}function Gy(e,t,n,r,o){let i=[];try{let s=kf(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!eu(this,t,n,r,!0)){let d=Aw(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){let l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function jy(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let l=kf(e,d,function(f){return function(...m){let g=f.apply(this,m);if(qy(g,a,this),"tagName"in this.canvas&&!eu(this.canvas,r,o,i,!0)){let b=Vy(m,a,this),y={type:t,property:d,args:b};n(this.canvas,y)}return g}});c.push(l)}catch{let f=Nf(e,d,{set(m){n(this.canvas,{type:t,property:d,args:[m],setter:!0})}});c.push(f)}return c}function ww(e,t,n,r,o,i){let s=[];return s.push(...jy(t.WebGLRenderingContext.prototype,li.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...jy(t.WebGL2RenderingContext.prototype,li.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var Nw='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function kw(){let e=new Blob([Nw]);return URL.createObjectURL(e)}var wf=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&Iw(d),!t.enableManualSnapshot&&Hy(()=>{c&&n==="all"&&this.initCanvasMutationObserver(r,o,i,s),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,o,i,s,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,n,r,o,i,s,a){let c=Gy(n,r,o,i,!0),u=this.takeSnapshot(!1,t,n,r,o,i,s,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,n,r,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let i=Gy(t,n,r,o,!1),s=Rw(this.processMutation.bind(this),t,n,r,o),a=ww(this.processMutation.bind(this),t,n,r,o,this.mirror);this.resetObservers=()=>{i(),s(),a()}}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,o,i,s,a,c,u){let d=new Map,l=new Worker(kw());l.onmessage=E=>{let C=E.data,{id:N}=C;if(d.set(N,!1),!("base64"in C))return;let{base64:x,type:S,width:v,height:I}=C;this.mutationCb({id:N,type:li["2D"],commands:[{property:"clearRect",args:[0,0,v,I]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:x}],type:S}]},0,0,v,I]}]})};let f=1e3/n,m=0,g,b=E=>{if(E)return[E];let C=[];return r.document.querySelectorAll("canvas").forEach(N=>{eu(N,o,i,s,!0)||C.push(N)}),C},y=E=>{if(m&&E-m<f){g=Jr(y);return}m=E,b(u).forEach(C=>{let N=this.mirror.getId(C);if(!d.get(N)&&!(!C.width||!C.height)){if(d.set(N,!0),!t&&["webgl","webgl2"].includes(C.__context)){let x=C.getContext(C.__context);il([x,"optionalAccess",S=>S.getContextAttributes,"call",S=>S(),"optionalAccess",S=>S.preserveDrawingBuffer])===!1&&x.clear(x.COLOR_BUFFER_BIT)}createImageBitmap(C).then(x=>{l.postMessage({id:N,bitmap:x,width:C.width,height:C.height,dataURLOptions:c,maxCanvasSize:a},[x])}).catch(x=>{Hy(()=>{throw x})()})}}),g=Jr(y)};return g=Jr(y),g}startPendingCanvasMutationFlusher(){Jr(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Jr(t)};Jr(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Jr(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let u=s,{type:a}=u;return so(u,["type"])}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}},zy={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Mw="ReplayCanvas",Xc=1280,Ow=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Xc):Xc,n?Math.min(n,Xc):Xc]},o,i=new Promise(a=>o=a);return{name:Mw,getOptions(){let{quality:a,enableManualSnapshot:c,maxCanvasSize:u}=r;return p({enableManualSnapshot:c,recordCanvas:!0,getCanvasManager:d=>{let l=new wf(T(p({},d),{enableManualSnapshot:c,maxCanvasSize:u,errorHandler:f=>{try{typeof f=="object"&&(f.__rrweb__=!0)}catch{}}}));return o(l),l}},zy[a||"medium"]||zy.medium)},snapshot(a){return F(this,null,function*(){(yield i).snapshot(a)})}}},Jy=Ow;var hn=k,ge=hn.document,Hs=hn.navigator,Dw="Report a Bug",Lw="Cancel",Pw="Send Bug Report",Fw="Confirm",Uw="Report a Bug",Bw="your.email@example.org",Hw="Email",$w="What's the bug? What did you expect?",Gw="Description",jw="Your Name",zw="Name",Ww="Thank you for your report!",Yw="(required)",qw="Add a screenshot",Vw="Remove screenshot",Kw="widget",Jw="api",Xw=5e3,Hf=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=A();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&U().setTags(e.tags);let r=Ki(p({source:Jw,url:bi()},e),t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3);n.on("afterSendEvent",(a,c)=>{if(a.event_id===r)return clearTimeout(s),c&&typeof c.statusCode=="number"&&c.statusCode>=200&&c.statusCode<300&&o(r),c&&typeof c.statusCode=="number"&&c.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},iu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Zw(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Hs.userAgent)||/Macintosh/i.test(Hs.userAgent)&&Hs.maxTouchPoints&&Hs.maxTouchPoints>1||!isSecureContext)}function tu(e,t){return T(p(p({},e),t),{tags:p(p({},e.tags),t.tags),onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:p(p({},e.themeDark),t.themeDark),themeLight:p(p({},e.themeLight),t.themeLight)})}function Qw(){let e=ge.createElement("style");return e.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e}function Ct(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var di=20,eN="http://www.w3.org/2000/svg";function tN(){let e=a=>hn.document.createElementNS(eN,a),t=Ct(e("svg"),{width:`${di}`,height:`${di}`,viewBox:`0 0 ${di} ${di}`,fill:"var(--foreground)"}),n=Ct(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Ct(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=Ct(e("clipPath"),{id:"clip0_57_80"}),s=Ct(e("rect"),{width:`${di}`,height:`${di}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function nN({triggerLabel:e,shadow:t}){let n=ge.createElement("button");if(n.type="button",n.className="widget__actor",n.ariaHidden="false",n.ariaLabel=e,n.appendChild(tN()),e){let o=ge.createElement("span");o.appendChild(ge.createTextNode(e)),n.appendChild(o)}let r=Qw();return{el:n,appendToDom(){t.appendChild(r),t.appendChild(n)},removeFromDom(){t.removeChild(n),t.removeChild(r)},show(){n.ariaHidden="false"},hide(){n.ariaHidden="true"}}}var mE="rgba(88, 74, 192, 1)",rN={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:mE,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Xy={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:mE,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Zy(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function oN({colorScheme:e,themeDark:t,themeLight:n}){let r=ge.createElement("style");return r.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Zy(e==="dark"?p(p({},Xy),t):p(p({},rN),n))}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Zy(p(p({},Xy),t))}
  }
}`:""}
}
`,r}var du=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:m,colorScheme:g="system",themeLight:b={},themeDark:y={},addScreenshotButtonLabel:E=qw,cancelButtonLabel:C=Lw,confirmButtonLabel:N=Fw,emailLabel:x=Hw,emailPlaceholder:S=Bw,formTitle:v=Uw,isRequiredLabel:I=Yw,messageLabel:M=Gw,messagePlaceholder:P=$w,nameLabel:R=zw,namePlaceholder:D=jw,removeScreenshotButtonLabel:q=Vw,submitButtonLabel:ie=Pw,successMessageText:oe=Ww,triggerLabel:de=Dw,onFormOpen:Y,onFormClose:me,onSubmitSuccess:J,onSubmitError:ye,onFormSubmitted:nt}={})=>{let rt={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:m,colorScheme:g,themeDark:y,themeLight:b,triggerLabel:de,cancelButtonLabel:C,submitButtonLabel:ie,confirmButtonLabel:N,formTitle:v,emailLabel:x,emailPlaceholder:S,messageLabel:M,messagePlaceholder:P,nameLabel:R,namePlaceholder:D,successMessageText:oe,isRequiredLabel:I,addScreenshotButtonLabel:E,removeScreenshotButtonLabel:q,onFormClose:me,onFormOpen:Y,onSubmitError:ye,onSubmitSuccess:J,onFormSubmitted:nt},He=null,tn=[],eo=_e=>{if(!He){let Ae=ge.createElement("div");Ae.id=String(_e.id),ge.body.appendChild(Ae),He=Ae.attachShadow({mode:"open"}),He.appendChild(oN(_e))}return He},to=(_e,Ae,ot)=>F(void 0,null,function*(){let he=A(),ve=he&&he.getIntegrationByName(_e);if(ve)return ve;let _n=(Ae&&Ae()||(yield e(ot)))();return he&&he.addIntegration(_n),_n}),no=_e=>F(void 0,null,function*(){let Ae=_e.enableScreenshot&&Zw(),[ot,he]=yield Promise.all([to("FeedbackModal",t,"feedbackModalIntegration"),Ae?to("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!ot)throw iu&&_.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");return Ae&&!he&&iu&&_.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots."),ot.createDialog({options:_e,screenshotIntegration:Ae?he:void 0,sendFeedback:Hf,shadow:eo(_e)})}),ro=(_e,Ae={})=>{let ot=tu(rt,Ae),he=typeof _e=="string"?ge.querySelector(_e):typeof _e.addEventListener=="function"?_e:null;if(!he)throw iu&&_.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ve=null,hr=()=>F(void 0,null,function*(){ve||(ve=yield no(T(p({},ot),{onFormClose:()=>{ve&&ve.close(),ot.onFormClose&&ot.onFormClose()},onFormSubmitted:()=>{ve&&ve.removeFromDom(),ot.onFormSubmitted&&ot.onFormSubmitted()}}))),ve.appendToDom(),ve.open()});he.addEventListener("click",hr);let _n=()=>{tn=tn.filter(io=>io!==_n),ve&&ve.removeFromDom(),ve=null,he.removeEventListener("click",hr)};return tn.push(_n),_n},oo=(_e={})=>{let Ae=tu(rt,_e),ot=eo(Ae),he=nN({triggerLabel:Ae.triggerLabel,shadow:ot});return ro(he.el,T(p({},Ae),{onFormOpen(){he.hide()},onFormClose(){he.show()},onFormSubmitted(){he.show()}})),he};return{name:"Feedback",setupOnce(){!ju()||!rt.autoInject||(ge.readyState==="loading"?ge.addEventListener("DOMContentLoaded",()=>oo().appendToDom):oo().appendToDom())},attachTo:ro,createWidget(_e={}){let Ae=oo(tu(rt,_e));return Ae.appendToDom(),Ae},createForm(){return F(this,arguments,function*(_e={}){return no(tu(rt,_e))})},remove(){He&&(He.parentElement&&He.parentElement.remove(),He=null),tn.forEach(_e=>_e()),tn=[]}}};function hE(){let e=A();return e&&e.getIntegrationByName("Feedback")}var pu,le,gE,Xr,Qy,_E,Pf,Gs={},$f=[],iN=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Gf=Array.isArray;function mr(e,t){for(var n in t)e[n]=t[n];return e}function SE(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?pu.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return su(e,s,r,o,null)}function su(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++gE,__i:-1,__u:0};return o==null&&le.vnode!=null&&le.vnode(i),i}function js(e){return e.children}function au(e,t){this.props=e,this.context=t}function mi(e,t){if(t==null)return e.__?mi(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?mi(e):null}function sN(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=mr({},o)).__v=o.__v+1,le.vnode&&le.vnode(r),jf(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??mi(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&yE(r),r}function yE(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return yE(e)}}function eE(e){(!e.__d&&(e.__d=!0)&&Xr.push(e)&&!lu.__r++||Qy!==le.debounceRendering)&&((Qy=le.debounceRendering)||_E)(lu)}function lu(){var e,t,n,r=[],o=[];for(Xr.sort(Pf);e=Xr.shift();)e.__d&&(n=Xr.length,t=sN(e,r,o)||t,n===0||Xr.length>n?(Ff(r,t,o),o.length=r.length=0,t=void 0,Xr.sort(Pf)):t&&le.__c&&le.__c(t,$f));t&&Ff(r,t,o),lu.__r=0}function EE(e,t,n,r,o,i,s,a,c,u,d){var l,f,m,g,b,y=r&&r.__k||$f,E=t.length;for(n.__d=c,aN(n,t,y),c=n.__d,l=0;l<E;l++)(m=n.__k[l])!=null&&typeof m!="boolean"&&typeof m!="function"&&(f=m.__i===-1?Gs:y[m.__i]||Gs,m.__i=l,jf(e,m,f,o,i,s,a,c,u,d),g=m.__e,m.ref&&f.ref!=m.ref&&(f.ref&&zf(f.ref,null,m),d.push(m.ref,m.__c||g,m)),b==null&&g!=null&&(b=g),65536&m.__u||f.__k===m.__k?c=TE(m,c,e):typeof m.type=="function"&&m.__d!==void 0?c=m.__d:g&&(c=g.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=c,n.__e=b}function aN(e,t,n){var r,o,i,s,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?su(null,o,null,null,o):Gf(o)?su(js,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?su(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=cN(o,n,s=r+l,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?l++:a>s?d>c-s?l+=a-s:l--:l=a<s&&a==s-1?a-s:0,a!==r+l&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=mi(i)),Uf(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=mi(i)),Uf(i,i))}function TE(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=TE(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function cN(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function tE(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||iN.test(t)?n:n+"px"}function nu(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||tE(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||tE(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?rE:nE,i)):e.removeEventListener(t,i?rE:nE,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function nE(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(le.event?le.event(e):e)}}function rE(e){if(this.l)return this.l[e.type+!0](le.event?le.event(e):e)}function jf(e,t,n,r,o,i,s,a,c,u){var d,l,f,m,g,b,y,E,C,N,x,S,v,I,M,P=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=le.__b)&&d(t);e:if(typeof P=="function")try{if(E=t.props,C=(d=P.contextType)&&r[d.__c],N=d?C?C.props.value:d.__:r,n.__c?y=(l=t.__c=n.__c).__=l.__E:("prototype"in P&&P.prototype.render?t.__c=l=new P(E,N):(t.__c=l=new au(E,N),l.constructor=P,l.render=lN),C&&C.sub(l),l.props=E,l.state||(l.state={}),l.context=N,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),P.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=mr({},l.__s)),mr(l.__s,P.getDerivedStateFromProps(E,l.__s))),m=l.props,g=l.state,l.__v=t,f)P.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(P.getDerivedStateFromProps==null&&E!==m&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(E,N),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(E,l.__s,N)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=E,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(R){R&&(R.__=t)}),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(E,l.__s,N),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(m,g,b)})}if(l.context=N,l.props=E,l.__P=e,l.__e=!1,S=le.__r,v=0,"prototype"in P&&P.prototype.render){for(l.state=l.__s,l.__d=!1,S&&S(t),d=l.render(l.props,l.state,l.context),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[]}else do l.__d=!1,S&&S(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++v<25);l.state=l.__s,l.getChildContext!=null&&(r=mr(mr({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(b=l.getSnapshotBeforeUpdate(m,g)),EE(e,Gf(M=d!=null&&d.type===js&&d.key==null?d.props.children:d)?M:[M],t,n,r,o,i,s,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&s.push(l),y&&(l.__E=l.__=null)}catch(R){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),le.__e(R,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=uN(n.__e,t,n,r,o,i,s,c,u);(d=le.diffed)&&d(t)}function Ff(e,t,n){for(var r=0;r<n.length;r++)zf(n[r],n[++r],n[++r]);le.__c&&le.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){le.__e(i,o.__v)}})}function uN(e,t,n,r,o,i,s,a,c){var u,d,l,f,m,g,b,y=n.props,E=t.props,C=t.type;if(C==="svg"&&(o=!0),i!=null){for(u=0;u<i.length;u++)if((m=i[u])&&"setAttribute"in m==!!C&&(C?m.localName===C:m.nodeType===3)){e=m,i[u]=null;break}}if(e==null){if(C===null)return document.createTextNode(E);e=o?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,E.is&&E),i=null,a=!1}if(C===null)y===E||a&&e.data===E||(e.data=E);else{if(i=i&&pu.call(e.childNodes),y=n.props||Gs,!a&&i!=null)for(y={},u=0;u<e.attributes.length;u++)y[(m=e.attributes[u]).name]=m.value;for(u in y)m=y[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=m:u==="key"||u in E||nu(e,u,null,m,o));for(u in E)m=E[u],u=="children"?f=m:u=="dangerouslySetInnerHTML"?d=m:u=="value"?g=m:u=="checked"?b=m:u==="key"||a&&typeof m!="function"||y[u]===m||nu(e,u,m,y[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),EE(e,Gf(f)?f:[f],t,n,r,o&&C!=="foreignObject",i,s,i?i[0]:n.__k&&mi(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&SE(i[u]);a||(u="value",g!==void 0&&(g!==e[u]||C==="progress"&&!g||C==="option"&&g!==y[u])&&nu(e,u,g,y[u],!1),u="checked",b!==void 0&&b!==e[u]&&nu(e,u,b,y[u],!1))}return e}function zf(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){le.__e(r,n)}}function Uf(e,t,n){var r,o;if(le.unmount&&le.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||zf(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){le.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Uf(r[o],t,n||typeof e.type!="function");n||e.__e==null||SE(e.__e),e.__=e.__e=e.__d=void 0}function lN(e,t,n){return this.constructor(e,n)}function dN(e,t,n){var r,o,i,s;le.__&&le.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],s=[],jf(t,e=(!r&&n||t).__k=W(js,null,[e]),o||Gs,Gs,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?pu.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),e.__d=void 0,Ff(i,e,s)}pu=$f.slice,le={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},gE=0,au.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=mr({},this.state),typeof e=="function"&&(e=e(mr({},n),this.props)),e&&mr(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),eE(this))},au.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),eE(this))},au.prototype.render=js,Xr=[],_E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pf=function(e,t){return e.__v.__b-t.__v.__b},lu.__r=0;var Un,ue,Mf,oE,hi=0,bE=[],cu=[],Ie=le,iE=Ie.__b,sE=Ie.__r,aE=Ie.diffed,cE=Ie.__c,uE=Ie.unmount,lE=Ie.__;function Zr(e,t){Ie.__h&&Ie.__h(ue,e,hi||t),hi=0;var n=ue.__H||(ue.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:cu}),n.__[e]}function pi(e){return hi=1,IE(xE,e)}function IE(e,t,n){var r=Zr(Un++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):xE(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ue,!ue.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var m=f.__[0];f.__=f.__N,f.__N=void 0,m!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};ue.u=!0;var i=ue.shouldComponentUpdate,s=ue.componentWillUpdate;ue.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},ue.shouldComponentUpdate=o}return r.__N||r.__}function pN(e,t){var n=Zr(Un++,3);!Ie.__s&&Wf(n.__H,t)&&(n.__=e,n.i=t,ue.__H.__h.push(n))}function vE(e,t){var n=Zr(Un++,4);!Ie.__s&&Wf(n.__H,t)&&(n.__=e,n.i=t,ue.__h.push(n))}function fN(e){return hi=5,zs(function(){return{current:e}},[])}function mN(e,t,n){hi=6,vE(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function zs(e,t){var n=Zr(Un++,7);return Wf(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function fi(e,t){return hi=8,zs(function(){return e},t)}function hN(e){var t=ue.context[e.__c],n=Zr(Un++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ue)),t.props.value):e.__}function gN(e,t){Ie.useDebugValue&&Ie.useDebugValue(t?t(e):e)}function _N(e){var t=Zr(Un++,10),n=pi();return t.__=e,ue.componentDidCatch||(ue.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function SN(){var e=Zr(Un++,11);if(!e.__){for(var t=ue.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function yN(){for(var e;e=bE.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(uu),e.__H.__h.forEach(Bf),e.__H.__h=[]}catch(t){e.__H.__h=[],Ie.__e(t,e.__v)}}Ie.__b=function(e){ue=null,iE&&iE(e)},Ie.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),lE&&lE(e,t)},Ie.__r=function(e){sE&&sE(e),Un=0;var t=(ue=e.__c).__H;t&&(Mf===ue?(t.__h=[],ue.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=cu,n.__N=n.i=void 0})):(t.__h.forEach(uu),t.__h.forEach(Bf),t.__h=[],Un=0)),Mf=ue},Ie.diffed=function(e){aE&&aE(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(bE.push(t)!==1&&oE===Ie.requestAnimationFrame||((oE=Ie.requestAnimationFrame)||EN)(yN)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==cu&&(n.__=n.__V),n.i=void 0,n.__V=cu})),Mf=ue=null},Ie.__c=function(e,t){t.some(function(n){try{n.__h.forEach(uu),n.__h=n.__h.filter(function(r){return!r.__||Bf(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Ie.__e(r,n.__v)}}),cE&&cE(e,t)},Ie.unmount=function(e){uE&&uE(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{uu(r)}catch(o){t=o}}),n.__H=void 0,t&&Ie.__e(t,n.__v))};var dE=typeof requestAnimationFrame=="function";function EN(e){var t,n=function(){clearTimeout(r),dE&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);dE&&(t=requestAnimationFrame(n))}function uu(e){var t=ue,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ue=t}function Bf(e){var t=ue;e.__c=e.__(),ue=t}function Wf(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function xE(e,t){return typeof t=="function"?t(e):t}var TN={__proto__:null,useCallback:fi,useContext:hN,useDebugValue:gN,useEffect:pN,useErrorBoundary:_N,useId:SN,useImperativeHandle:mN,useLayoutEffect:vE,useMemo:zs,useReducer:IE,useRef:fN,useState:pi},bN="http://www.w3.org/2000/svg";function IN(){let e=r=>ge.createElementNS(bN,r),t=Ct(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Ct(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}var pE="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function vN({options:e}){let t=zs(()=>({__html:IN().outerHTML}),[]);return W("h2",{class:"dialog__header",__self:this,__source:{fileName:pE,lineNumber:16}},e.formTitle,e.showBranding?W("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t,__self:this,__source:{fileName:pE,lineNumber:19}}):null)}function xN(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}var Se="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function Of(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function CN({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:u}){let{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:m,emailLabel:g,emailPlaceholder:b,isEmailRequired:y,isNameRequired:E,messageLabel:C,messagePlaceholder:N,nameLabel:x,namePlaceholder:S,submitButtonLabel:v,isRequiredLabel:I}=e,[M,P]=pi(null),[R,D]=pi(!1),q=u&&u.input,[ie,oe]=pi(null),de=fi(J=>{oe(J),D(!1)},[]),Y=fi(J=>{let ye=xN(J,{emailLabel:g,isEmailRequired:y,isNameRequired:E,messageLabel:C,nameLabel:x});return ye.length>0?P(`Please enter in the following required fields: ${ye.join(", ")}`):P(null),ye.length===0},[g,y,E,C,x]),me=fi(J=>F(this,null,function*(){try{if(J.preventDefault(),!(J.target instanceof HTMLFormElement))return;let ye=new FormData(J.target),nt=yield u&&R?u.value():void 0,rt={name:Of(ye,"name"),email:Of(ye,"email"),message:Of(ye,"message"),attachments:nt?[nt]:void 0};if(!Y(rt))return;try{yield o({name:rt.name,email:rt.email,message:rt.message,source:Kw,tags:d},{attachments:rt.attachments}),i(rt)}catch(He){iu&&_.error(He),P(He),s(He)}}catch{}}),[u&&R,i,s]);return W("form",{class:"form",onSubmit:me,__self:this,__source:{fileName:Se,lineNumber:144}},q&&R?W(q,{onError:de,__self:this,__source:{fileName:Se,lineNumber:146}}):null,W("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:Se,lineNumber:149}},W("div",{class:"form__top",__self:this,__source:{fileName:Se,lineNumber:150}},M?W("div",{class:"form__error-container",__self:this,__source:{fileName:Se,lineNumber:151}},M):null,c?W("label",{for:"name",class:"form__label",__self:this,__source:{fileName:Se,lineNumber:154}},W(Df,{label:x,isRequiredLabel:I,isRequired:E,__self:this,__source:{fileName:Se,lineNumber:155}}),W("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:S,required:E,type:"text",__self:this,__source:{fileName:Se,lineNumber:156}})):W("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:Se,lineNumber:167}}),a?W("label",{for:"email",class:"form__label",__self:this,__source:{fileName:Se,lineNumber:171}},W(Df,{label:g,isRequiredLabel:I,isRequired:y,__self:this,__source:{fileName:Se,lineNumber:172}}),W("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:b,required:y,type:"email",__self:this,__source:{fileName:Se,lineNumber:173}})):W("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden",__self:this,__source:{fileName:Se,lineNumber:184}}),W("label",{for:"message",class:"form__label",__self:this,__source:{fileName:Se,lineNumber:187}},W(Df,{label:C,isRequiredLabel:I,isRequired:!0,__self:this,__source:{fileName:Se,lineNumber:188}}),W("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:N,required:!0,rows:5,__self:this,__source:{fileName:Se,lineNumber:189}})),q?W("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:Se,lineNumber:201}},W("button",{class:"btn btn--default",type:"button",onClick:()=>{oe(null),D(J=>!J)},__self:this,__source:{fileName:Se,lineNumber:202}},R?f:l),ie?W("div",{class:"form__error-container",__self:this,__source:{fileName:Se,lineNumber:212}},ie.message):null):null),W("div",{class:"btn-group",__self:this,__source:{fileName:Se,lineNumber:216}},W("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:Se,lineNumber:217}},v),W("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:Se,lineNumber:220}},m))))}function Df({label:e,isRequired:t,isRequiredLabel:n}){return W("span",{class:"form__label__text",__self:this,__source:{fileName:Se,lineNumber:239}},e,t&&W("span",{class:"form__label__text--required",__self:this,__source:{fileName:Se,lineNumber:241}},n))}var ru=16,fE=17,RN="http://www.w3.org/2000/svg";function AN(){let e=c=>hn.document.createElementNS(RN,c),t=Ct(e("svg"),{width:`${ru}`,height:`${fE}`,viewBox:`0 0 ${ru} ${fE}`,fill:"inherit"}),n=Ct(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Ct(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=Ct(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=Ct(e("clipPath"),{id:"clip0_57_156"}),a=Ct(e("rect"),{width:`${ru}`,height:`${ru}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}var Pn="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function wN(r){var o=r,{open:e,onFormSubmitted:t}=o,n=so(o,["open","onFormSubmitted"]);let i=n.options,s=zs(()=>({__html:AN().outerHTML}),[]),[a,c]=pi(null),u=fi(()=>{a&&(clearTimeout(a),c(null)),t()},[a]),d=fi(l=>{n.onSubmitSuccess(l),c(setTimeout(()=>{t(),c(null)},Xw))},[t]);return W(js,{__self:this,__source:{fileName:Pn,lineNumber:48}},a?W("div",{class:"success__position",onClick:u,__self:this,__source:{fileName:Pn,lineNumber:50}},W("div",{class:"success__content",__self:this,__source:{fileName:Pn,lineNumber:51}},i.successMessageText,W("span",{class:"success__icon",dangerouslySetInnerHTML:s,__self:this,__source:{fileName:Pn,lineNumber:53}}))):W("dialog",{class:"dialog",onClick:i.onFormClose,open:e,__self:this,__source:{fileName:Pn,lineNumber:57}},W("div",{class:"dialog__position",__self:this,__source:{fileName:Pn,lineNumber:58}},W("div",{class:"dialog__content",onClick:l=>{l.stopPropagation()},__self:this,__source:{fileName:Pn,lineNumber:59}},W(vN,{options:i,__self:this,__source:{fileName:Pn,lineNumber:66}}),W(CN,T(p({},n),{onSubmitSuccess:d,__self:this,__source:{fileName:Pn,lineNumber:67}}))))))}var NN=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}
`,kN=`
.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}

.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,MN=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 var(--form-width, 272px);
  width: var(--form-width, 272px);
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
}

@media (max-width: 600px) {
  .form__right {
    width: auto;
  }
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,ON=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,DN=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function LN(){let e=ge.createElement("style");return e.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${NN}
${kN}
${MN}
${ON}
${DN}
`,e}var PN="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx";function FN(){let e=U().getUser(),t=re().getUser(),n=Cr().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var CE=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=FN(),a=ge.createElement("div"),c=LN(),u="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){o.removeChild(a),o.removeChild(c),ge.body.style.overflow=u},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=ge.body.style.overflow,ge.body.style.overflow="hidden"},close(){f(!1),ge.body.style.overflow=u}},l=t&&t.createInput({h:W,hooks:TN,dialog:d,options:e}),f=m=>{dN(W(wN,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:g=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(g)},onSubmitError:g=>{e.onSubmitError&&e.onSubmitError(g)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:m,__self:void 0,__source:{fileName:PN,lineNumber:67}}),a)};return d}});function UN(){let e=ge.createElement("style"),t="#1A141F",n="#302735";return e.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${t};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${t} 8px,
      ${t} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${n} 15px,
      ${n} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e}function BN({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:o,onError:i}){e.useEffect(()=>{F(this,null,function*(){n();let a=yield Hs.mediaDevices.getDisplayMedia({video:{width:hn.innerWidth*hn.devicePixelRatio,height:hn.innerHeight*hn.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=ge.createElement("video");yield new Promise((u,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(l=>l.stop()),u()},c.play().catch(d)}),o()}).catch(i)},[])}}var xt="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",$s=30,Fn=3,fr=$s+Fn,$t=hn.devicePixelRatio,Bs=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Lf=e=>{let t=e.clientHeight,n=e.clientWidth,r=e.width/e.height,o=t*r,i=t;o>n&&(o=n,i=n/r);let s=(n-o)/2,a=(t-i)/2;return{startX:s,startY:a,endX:o+s,endY:i+a}};function HN({h:e,hooks:t,imageBuffer:n,dialog:r,options:o}){let i=BN({hooks:t});return function({onError:a}){let c=t.useMemo(()=>({__html:UN().innerText}),[]),u=t.useRef(null),d=t.useRef(null),l=t.useRef(null),[f,m]=t.useState({startX:0,startY:0,endX:0,endY:0}),[g,b]=t.useState(!1);t.useEffect(()=>{hn.addEventListener("resize",y,!1)},[]);function y(){let x=l.current,S=Bs(Lf(n));if(x){x.width=S.width*$t,x.height=S.height*$t,x.style.width=`${S.width}px`,x.style.height=`${S.height}px`;let I=x.getContext("2d");I&&I.scale($t,$t)}let v=d.current;v&&(v.style.width=`${S.width}px`,v.style.height=`${S.height}px`),m({startX:0,startY:0,endX:S.width,endY:S.height})}t.useEffect(()=>{let x=l.current;if(!x)return;let S=x.getContext("2d");if(!S)return;let v=Bs(Lf(n)),I=Bs(f);S.clearRect(0,0,v.width,v.height),S.fillStyle="rgba(0, 0, 0, 0.5)",S.fillRect(0,0,v.width,v.height),S.clearRect(I.x,I.y,I.width,I.height),S.strokeStyle="#ffffff",S.lineWidth=3,S.strokeRect(I.x+1,I.y+1,I.width-2,I.height-2),S.strokeStyle="#000000",S.lineWidth=1,S.strokeRect(I.x+3,I.y+3,I.width-6,I.height-6)},[f]);function E(x,S){b(!1);let v=C(S),I=()=>{ge.removeEventListener("mousemove",v),ge.removeEventListener("mouseup",I),b(!0)};ge.addEventListener("mouseup",I),ge.addEventListener("mousemove",v)}let C=t.useCallback(x=>function(S){if(!l.current)return;let v=l.current,I=v.getBoundingClientRect(),M=S.clientX-I.x,P=S.clientY-I.y;switch(x){case"top-left":m(R=>T(p({},R),{startX:Math.min(Math.max(0,M),R.endX-fr),startY:Math.min(Math.max(0,P),R.endY-fr)}));break;case"top-right":m(R=>T(p({},R),{endX:Math.max(Math.min(M,v.width/$t),R.startX+fr),startY:Math.min(Math.max(0,P),R.endY-fr)}));break;case"bottom-left":m(R=>T(p({},R),{startX:Math.min(Math.max(0,M),R.endX-fr),endY:Math.max(Math.min(P,v.height/$t),R.startY+fr)}));break;case"bottom-right":m(R=>T(p({},R),{endX:Math.max(Math.min(M,v.width/$t),R.startX+fr),endY:Math.max(Math.min(P,v.height/$t),R.startY+fr)}));break}},[]);function N(){let x=ge.createElement("canvas"),S=Bs(Lf(n)),v=Bs(f);x.width=v.width*$t,x.height=v.height*$t;let I=x.getContext("2d");I&&n&&I.drawImage(n,v.x/S.width*n.width,v.y/S.height*n.height,v.width/S.width*n.width,v.height/S.height*n.height,0,0,x.width,x.height);let M=n.getContext("2d");M&&(M.clearRect(0,0,n.width,n.height),n.width=x.width,n.height=x.height,n.style.width=`${v.width}px`,n.style.height=`${v.height}px`,M.drawImage(x,0,0),y())}return i({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(x=>{let S=n.getContext("2d");if(!S)throw new Error("Could not get canvas context");n.width=x.videoWidth,n.height=x.videoHeight,n.style.width="100%",n.style.height="100%",S.drawImage(x,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";let x=u.current;x&&x.appendChild(n),y()},[]),onError:t.useCallback(x=>{r.el.style.display="block",a(x)},[])}),e("div",{class:"editor",__self:this,__source:{fileName:xt,lineNumber:258}},e("style",{dangerouslySetInnerHTML:c,__self:this,__source:{fileName:xt,lineNumber:259}}),e("div",{class:"editor__canvas-container",ref:u,__self:this,__source:{fileName:xt,lineNumber:260}},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:d,__self:this,__source:{fileName:xt,lineNumber:261}},e("canvas",{style:{position:"absolute"},ref:l,__self:this,__source:{fileName:xt,lineNumber:262}}),e(ou,{left:f.startX-Fn,top:f.startY-Fn,onGrabButton:E,corner:"top-left",__self:this,__source:{fileName:xt,lineNumber:263}}),e(ou,{left:f.endX-$s+Fn,top:f.startY-Fn,onGrabButton:E,corner:"top-right",__self:this,__source:{fileName:xt,lineNumber:269}}),e(ou,{left:f.startX-Fn,top:f.endY-$s+Fn,onGrabButton:E,corner:"bottom-left",__self:this,__source:{fileName:xt,lineNumber:275}}),e(ou,{left:f.endX-$s+Fn,top:f.endY-$s+Fn,onGrabButton:E,corner:"bottom-right",__self:this,__source:{fileName:xt,lineNumber:281}}),e("div",{style:{left:Math.max(0,f.endX-191),top:Math.max(0,f.endY+8),display:g?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:xt,lineNumber:287}},e("button",{onClick:x=>{x.preventDefault(),l.current&&m({startX:0,startY:0,endX:l.current.width/$t,endY:l.current.height/$t}),b(!1)},class:"btn btn--default",__self:this,__source:{fileName:xt,lineNumber:295}},o.cancelButtonLabel),e("button",{onClick:x=>{x.preventDefault(),N(),b(!1)},class:"btn btn--primary",__self:this,__source:{fileName:xt,lineNumber:312}},o.confirmButtonLabel)))))}}function ou({top:e,left:t,corner:n,onGrabButton:r}){return h("button",{class:`editor__crop-corner editor__crop-corner--${n} `,style:{top:e,left:t},onMouseDown:o=>{o.preventDefault(),r(o,n)},onClick:o=>{o.preventDefault()},__self:this,__source:{fileName:xt,lineNumber:342}})}var RE=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=ge.createElement("canvas");return{input:HN({h:e,hooks:t,imageBuffer:o,dialog:n,options:r}),value:()=>F(void 0,null,function*(){let i=yield new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(yield i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}})}}});var AE=du({lazyLoadIntegration:zo});var Yf=du({lazyLoadIntegration:zo,getModalIntegration:()=>CE,getScreenshotIntegration:()=>RE});function $N(e,t=1,n){Pr.increment(Cn,e,t,n)}function GN(e,t,n){Pr.distribution(Cn,e,t,n)}function jN(e,t,n){Pr.set(Cn,e,t,n)}function zN(e,t,n){Pr.gauge(Cn,e,t,n)}function WN(e,t,n="second",r){return Pr.timing(Cn,e,t,n,r)}var wE={increment:$N,distribution:GN,set:jN,gauge:zN,timing:WN};var gi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function fu(e){let{traceFetch:t,traceXHR:n,shouldCreateSpanForRequest:r,enableHTTPTimings:o,tracePropagationTargets:i}=p({traceFetch:gi.traceFetch,traceXHR:gi.traceXHR},e),s=typeof r=="function"?r:u=>!0,a=u=>KN(u,i),c={};t&&br(u=>{let d=rd(u,s,a,c);if(d){let l=kE(u.fetchData.url),f=l?an(l).host:void 0;d.setAttributes({"http.url":l,"server.address":f})}o&&d&&NE(d)}),n&&Wr(u=>{let d=JN(u,s,a,c);o&&d&&NE(d)})}function YN(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function NE(e){let{url:t}=B(e).data||{};if(!t||typeof t!="string")return;let n=Vt("resource",({entries:r})=>{r.forEach(o=>{YN(o)&&o.name.endsWith(t)&&(VN(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function qN(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function gn(e=0){return((sn||performance.timeOrigin)+e)/1e3}function VN(e){let{name:t,version:n}=qN(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),sn?[...r,["http.request.redirect_start",gn(e.redirectStart)],["http.request.fetch_start",gn(e.fetchStart)],["http.request.domain_lookup_start",gn(e.domainLookupStart)],["http.request.domain_lookup_end",gn(e.domainLookupEnd)],["http.request.connect_start",gn(e.connectStart)],["http.request.secure_connection_start",gn(e.secureConnectionStart)],["http.request.connection_end",gn(e.connectEnd)],["http.request.request_start",gn(e.requestStart)],["http.request.response_start",gn(e.responseStart)],["http.request.response_end",gn(e.responseEnd)]]:r}function KN(e,t){let n=w.location&&w.location.href;if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?nn(r.toString(),t)||i&&nn(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?nn(e,t):r}}function JN(e,t,n,r){let o=e.xhr,i=o&&o[vt];if(!o||o.__sentry_own_request__||!i)return;let s=lt()&&t(i.url);if(e.endTimestamp&&s){let f=o.__sentry_xhr_span_id__;if(!f)return;let m=r[f];m&&i.status_code!==void 0&&(Ar(m,i.status_code),m.end(),delete r[f]);return}let a=kE(i.url),c=a?an(a).host:void 0,u=!!ae(),d=s&&u?dt({name:`${i.method} ${i.url}`,attributes:{type:"xhr","http.method":i.method,"http.url":a,url:i.url,"server.address":c,[xe]:"auto.http.browser",[Dt]:"http.client"}}):new Je;o.__sentry_xhr_span_id__=d.spanContext().spanId,r[o.__sentry_xhr_span_id__]=d;let l=A();return o.setRequestHeader&&n(i.url)&&l&&XN(o,l,lt()&&u?d:void 0),d}function XN(e,t,n){let r=U(),o=re(),{traceId:i,spanId:s,sampled:a,dsc:c}=p(p({},o.getPropagationContext()),r.getPropagationContext()),u=n&&lt()?Nr(n):vr(i,s,a),d=Ir(c||(n?ze(n):Wn(i,t)));ZN(e,u,d)}function ZN(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(_o,n)}catch{}}function kE(e){try{return new URL(e,w.location.origin).href}catch{return}}function ME(){w&&w.document?w.document.addEventListener("visibilitychange",()=>{let e=ae();if(!e)return;let t=Q(e);if(w.document.hidden&&t){let n="cancelled",{op:r,status:o}=B(t);H&&_.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):H&&_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var QN="BrowserTracing",ek=p(T(p({},Io),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{}}),gi),qf=(e={})=>{kr();let{enableInp:t,enableLongTask:n,_experiments:{enableInteractions:r},beforeStartSpan:o,idleTimeout:i,finalTimeout:s,childSpanTimeout:a,markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:l,enableHTTPTimings:f,instrumentPageLoad:m,instrumentNavigation:g}=p(p({},ek),e),b=Hd();t&&qd(),n&&$d(),r&&Gd();let y={name:void 0,source:void 0};function E(C,N){let x=N.op==="pageload",S=o?o(N):N,v=S.attributes||{};N.name!==S.name&&(v[ke]="custom",S.attributes=v),y.name=S.name,y.source=v[ke];let I=ka(S,{idleTimeout:i,finalTimeout:s,childSpanTimeout:a,disableAutoFinish:x,beforeSpanEnd:P=>{b(),jd(P)}});function M(){["interactive","complete"].includes(w.document.readyState)&&C.emit("idleSpanEnableAutoFinish",I)}return x&&w.document&&(w.document.addEventListener("readystatechange",()=>{M()}),M()),I}return{name:QN,afterAllSetup(C){let N,x=w.location&&w.location.href;C.on("startNavigationSpan",S=>{A()===C&&(N&&(H&&_.log(`[Tracing] Finishing current root span with op: ${B(N).op}`),N.end()),N=E(C,p({op:"navigation"},S)))}),C.on("startPageLoadSpan",(S,v={})=>{if(A()!==C)return;N&&(H&&_.log(`[Tracing] Finishing current root span with op: ${B(N).op}`),N.end());let I=v.sentryTrace||OE("sentry-trace"),M=v.baggage||OE("baggage"),P=Oi(I,M);U().setPropagationContext(P),N=E(C,p({op:"pageload"},S))}),C.on("spanEnd",S=>{let v=B(S).op;if(S!==Q(S)||v!=="navigation"&&v!=="pageload")return;let I=U(),M=I.getPropagationContext();I.setPropagationContext(T(p({},M),{sampled:M.sampled!==void 0?M.sampled:Lt(S),dsc:M.dsc||ze(S)}))}),w.location&&(m&&Vf(C,{name:w.location.pathname,startTime:sn?sn/1e3:void 0,attributes:{[ke]:"url",[xe]:"auto.pageload.browser"}}),g&&Mn(({to:S,from:v})=>{if(v===void 0&&x&&x.indexOf(S)!==-1){x=void 0;return}v!==S&&(x=void 0,Ws(C,{name:w.location.pathname,attributes:{[ke]:"url",[xe]:"auto.navigation.browser"}}))})),c&&ME(),r&&tk(i,s,a,y),t&&Vd(y),fu({traceFetch:u,traceXHR:d,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:l,enableHTTPTimings:f})}}};function Vf(e,t,n){e.emit("startPageLoadSpan",t,n),U().setTransactionName(t.name);let r=ae();return(r&&B(r).op)==="pageload"?r:void 0}function Ws(e,t){re().setPropagationContext(yn()),U().setPropagationContext(yn()),e.emit("startNavigationSpan",t),U().setTransactionName(t.name);let n=ae();return(n&&B(n).op)==="navigation"?n:void 0}function OE(e){let t=ku(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function tk(e,t,n,r){let o,i=()=>{let s="ui.action.click",a=ae(),c=a&&Q(a);if(c){let u=B(c).op;if(["navigation","pageload"].includes(u)){H&&_.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Eo,"interactionInterrupted"),o.end(),o=void 0),!r.name){H&&_.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}o=ka({name:r.name,op:s,attributes:{[ke]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};w.document&&addEventListener("click",i,{once:!1,capture:!0})}function _i(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function nk(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=_i(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Kf(e){return _i(e.getAllKeys())}function rk(e,t,n){return e(r=>Kf(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),_i(r.transaction)}))}function ok(e,t,n){return e(r=>Kf(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),_i(r.transaction)}))}function ik(e){return e(t=>Kf(t).then(n=>{let r=n[0];if(r!=null)return _i(t.get(r)).then(o=>(t.delete(r),_i(t.transaction).then(()=>o)))}))}function sk(e){let t;function n(){return t==null&&(t=nk(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:r=>F(this,null,function*(){try{let o=yield So(r);yield rk(n(),o,e.maxQueueSize||30)}catch{}}),unshift:r=>F(this,null,function*(){try{let o=yield So(r);yield ok(n(),o,e.maxQueueSize||30)}catch{}}),shift:()=>F(this,null,function*(){try{let r=yield ik(n());if(r)return Zu(r)}catch{}})}}function ak(e){return t=>e(T(p({},t),{createStore:sk}))}function DE(e=Uo){return ak(Bl(e))}var LE=1e6,mu=String(0),ck="main",UE="",BE="",HE="",Jf=w.navigator&&w.navigator.userAgent||"",$E="",uk=w.navigator&&w.navigator.language||w.navigator&&w.navigator.languages&&w.navigator.languages[0]||"";function lk(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var PE=w.navigator&&w.navigator.userAgentData;lk(PE)&&PE.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(UE=e.platform||"",HE=e.architecture||"",$E=e.model||"",BE=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];Jf=`${t.brand} ${t.version}`}}).catch(e=>{});function dk(e){return!("thread_metadata"in e)}function pk(e){return dk(e)?hk(e):e}function fk(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&H&&_.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function mk(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=fk(r),i=pk(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Z()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:Z()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||vn,runtime:{name:"javascript",version:w.navigator.userAgent},os:{name:UE,version:BE,build_number:Jf},device:{locale:uk,model:$E,manufacturer:Jf,architecture:HE,is_emulator:!1},debug_meta:{images:gk(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||V(),trace_id:o,active_thread_id:mu,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function hu(e){return B(e).op==="pageload"}function hk(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[mu]:{name:ck}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=typeof performance.timeOrigin=="number"?performance.timeOrigin:sn||0,a=s-(sn||s);return e.samples.forEach((c,u)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[u]={elapsed_since_start_ns:((c.timestamp+a-i)*LE).toFixed(0),stack_id:t,thread_id:mu};return}let d=e.stacks[c.stackId],l=[];for(;d;){l.push(d.frameId);let m=e.frames[d.frameId];m&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}let f={elapsed_since_start_ns:((c.timestamp+a-i)*LE).toFixed(0),stack_id:n,thread_id:mu};r.stacks[n]=l,r.samples[u]=f,n++}),r}function GE(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function jE(e){let t=[];return bt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}var FE=new WeakMap;function gk(e){let t=k._sentryDebugIds;if(!t)return[];let n=A(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let i,s=FE.get(o);s?i=s:(i=new Map,FE.set(o,i));let a=Object.keys(t).reduce((u,d)=>{let l,f=i.get(d);f?l=f:(l=o(d),i.set(d,l));for(let m=l.length-1;m>=0;m--){let g=l[m],b=g&&g.filename;if(g&&b){u[b]=t[d];break}}return u},{}),c=[];for(let u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function _k(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(H&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(H&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Sk(e){return e.samples.length<2?(H&&_.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(H&&_.log("[Profiling] Discarding profile because it contains no frames"),!1)}var zE=!1,Xf=3e4;function yk(e){return typeof e=="function"}function WE(){let e=w.Profiler;if(!yk(e)){H&&_.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Xf/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{H&&(_.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),_.log("[Profiling] Disabling profiling for current user session.")),zE=!0}}function Zf(e){if(zE)return H&&_.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return H&&_.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=A(),n=t&&t.getOptions();if(!n)return H&&_.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return _k(r)?r?(r===!0?!0:Math.random()<r)?!0:(H&&_.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(H&&_.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(H&&_.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function YE(e,t,n,r){return Sk(n)?mk(e,t,n,r):null}var Qr=new Map;function qE(){return Qr.size}function VE(e){let t=Qr.get(e);return t&&Qr.delete(e),t}function KE(e,t){if(Qr.set(e,t),Qr.size>30){let n=Qr.keys().next().value;Qr.delete(n)}}function Qf(e){let t;hu(e)&&(t=Z()*1e3);let n=WE();if(!n)return;H&&_.log(`[Profiling] started profiling span: ${B(e).description}`);let r=V();U().setContext("profile",{profile_id:r,start_timestamp:t});function o(){return F(this,null,function*(){if(e&&n)return n.stop().then(c=>{if(i&&(w.clearTimeout(i),i=void 0),H&&_.log(`[Profiling] stopped profiling of span: ${B(e).description}`),!c){H&&_.log(`[Profiling] profiler returned null profile for: ${B(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}KE(r,c)}).catch(c=>{H&&_.log("[Profiling] error while stopping profiler:",c)})})}let i=w.setTimeout(()=>{H&&_.log("[Profiling] max profile duration elapsed, stopping profiling for:",B(e).description),o()},Xf),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var Ek="BrowserProfiling",Tk=()=>({name:Ek,setup(e){let t=ae(),n=t&&Q(t);n&&hu(n)&&Zf(n)&&Qf(n),e.on("spanStart",r=>{r===Q(r)&&Zf(r)&&Qf(r)}),e.on("beforeEnvelope",r=>{if(!qE())return;let o=jE(r);if(!o.length)return;let i=[];for(let s of o){let a=s&&s.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){H&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){H&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;let d=VE(c);if(!d){H&&_.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let l=YE(c,u,d,s);l&&i.push(l)}GE(r,i)})}}),JE=Tk;var XE=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;function ZE(){return[Dr(),Or(),Ho(),$o(),jo(),Lr(),Go()]}function Ik(e){let t=p({defaultIntegrations:ZE()},e);return Vi(t,"angular"),vk(),Zd(t)}function vk(){let t=Zs&&Zs.major?parseInt(Zs.major,10):void 0;t&&(t<14&&XE&&_.warn(`This Sentry SDK does not officially support Angular ${t}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),Mr("angular",{version:t}))}var xk=typeof Zone<"u"&&Zone.root&&Zone.root.run;function en(e){return xk?Zone.root.run(e):e()}function Ck(e){return e&&e.ngOriginalError?e.ngOriginalError:e}function Rk(e){return QE(e.error)?e.error:e.error instanceof ErrorEvent&&e.error.message?e.error.message:typeof e.error=="string"?`Server returned code ${e.status} with body "${e.error}"`:e.message}function QE(e){if(e instanceof Error)return!0;if(e===null||typeof e!="object")return!1;let t=e;return at(t.name)&&at(t.message)&&(t.stack===void 0||at(t.stack))}var eT=(()=>{class e{constructor(n){this._registeredAfterSendEventHandler=!1,this._options=p({logErrors:!0},n)}handleError(n){let r=this._extractError(n)||"Handled unknown error",o=en(()=>xn(r,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(r),this._options.showDialog){let i=A();i&&!this._registeredAfterSendEventHandler?(i.on("afterSendEvent",s=>{!s.type&&s.event_id&&en(()=>{gs(T(p({},this._options.dialogOptions),{eventId:s.event_id}))})}),this._registeredAfterSendEventHandler=!0):i||en(()=>{gs(T(p({},this._options.dialogOptions),{eventId:o}))})}}_extractError(n){if(this._options.extractor){let r=this._defaultExtractor.bind(this);return this._options.extractor(n,r)}return this._defaultExtractor(n)}_defaultExtractor(n){let r=Ck(n);return r instanceof Im?Rk(r):typeof r=="string"||QE(r)?r:null}}return e.\u0275fac=function(n){return new(n||e)(Tu("errorHandlerOptions"))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function em(e){return new eT(e)}var Ak="ui.angular.routing",tT="ui.angular.init",wk="ui.angular",nT;function tm(e={}){return e.instrumentNavigation!==!1&&(nT=!0),qf(T(p({},e),{instrumentNavigation:!1}))}function Nk(e,t){let n=t&&B(t).data||{};t&&n[ke]==="url"&&(t.updateName(e),t.setAttribute(ke,"route"),t.setAttribute(xe,`auto.${B(t).op}.angular`))}var gu=(()=>{class e{constructor(n){this._router=n,this.navStart$=this._router.events.pipe(Vs(r=>r instanceof Dm),Ks(r=>{if(!nT){XE&&_.error("Angular integration has tracing enabled, but Tracing integration is not configured");return}this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);let o=A(),i=Ni(r.url);if(o){this._isPageloadOngoing()?this._pageloadOngoing=!1:en(()=>{Ws(o,{name:i,attributes:{[xe]:"auto.navigation.angular",[ke]:"url"}})}),this._routingSpan=en(()=>dt({name:`${r.url}`,op:Ak,attributes:p({[xe]:"auto.ui.angular",[ke]:"url",url:i},r.navigationTrigger&&{navigationTrigger:r.navigationTrigger})}))||null;return}})),this.resEnd$=this._router.events.pipe(Vs(r=>r instanceof Um),Ks(r=>{let o=Pk(r.state.root);o&&U().setTransactionName(o);let i=ae(),s=i&&Q(i);Nk(o,s)})),this.navEnd$=this._router.events.pipe(Vs(r=>r instanceof Lm||r instanceof Pm||r instanceof Fm),Ks(()=>{this._routingSpan&&(en(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new rm,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;let n=ae();if(!n)return this._pageloadOngoing=!1,!1;let r=Q(n);return this._pageloadOngoing=B(r).op==="pageload",this._pageloadOngoing}}return e.\u0275fac=function(n){return new(n||e)(Tu(ta))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kk="unknown",Mk=(()=>{class e{ngOnInit(){this.componentName||(this.componentName=kk),ae()&&(this._tracingSpan=en(()=>dt({name:`<${this.componentName}>`,op:tT,attributes:{[xe]:"auto.ui.angular.trace_directive"}})))}ngAfterViewInit(){this._tracingSpan&&en(()=>this._tracingSpan.end())}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=cm({type:e,selectors:[["","trace",""]],inputs:{componentName:[0,"trace","componentName"]}}),e})(),Ok=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=am({type:e}),e.\u0275inj=sm({}),e})();function Dk(e){let t;return n=>{let r=n.prototype.ngOnInit;n.prototype.ngOnInit=function(...i){if(t=en(()=>dt({onlyIfParent:!0,name:`<${e&&e.name?e.name:"unnamed"}>`,op:tT,attributes:{[xe]:"auto.ui.angular.trace_class_decorator"}})),r)return r.apply(this,i)};let o=n.prototype.ngAfterViewInit;n.prototype.ngAfterViewInit=function(...i){if(t&&en(()=>t.end()),o)return o.apply(this,i)}}}function Lk(e){return(t,n,r)=>{let o=r.value;return r.value=function(...i){let s=Z();if(en(()=>{dt({onlyIfParent:!0,name:`<${e&&e.name?e.name:"unnamed"}>`,op:`${wk}.${String(n)}`,startTime:s,attributes:{[xe]:"auto.ui.angular.trace_method_decorator"}}).end(s)}),o)return o.apply(this,i)},r}}function Pk(e){let t=[],n=e&&e.firstChild;for(;n;){let o=n&&n.routeConfig&&n.routeConfig.path;if(o==null)break;t.push(o),n=n.firstChild}let r=t.filter(o=>o).join("/");return r?`/${r}/`:"/"}var rT={production:!0,sentryDsn:"https://7b20ecf3d06cb95b5dafe7c61147ef7c@o813548.ingest.us.sentry.io/4507293571219456",sentryEnvironment:"production",sentryEnabled:!0,sentrySampleRate:.08,enableConsoleLogging:!1,gtmId:"GTM-5XDRZP",optimizelySdkKey:"NuYQtf1YftXoXLBhJU8H1",fullStoryOrgId:"o-1N5X16-na1"};var Su=(()=>{let t=class t{constructor(){this.meta=$(ea),this.revision=$(km,{optional:!0})}getRevision(){return this.revision||this.meta.getTag('name="revision"')?.content||void 0}getRevisionMetaTagContent(){return this.revision?{name:"revision",content:this.revision}:null}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var oT=(()=>{let t=class t{constructor(){this.isBrowser=$(Oe),this.window=$(Hn),this.environment=$(co),this.revisionService=$(Su),this.ngZone=$(dm),this.isInitialized=!1,this.sentry=_u,this.init()}init(){!this.environment.sentryEnabled||!this.isBrowser||this.window?.Cypress||(this.errorHandler=em({showDialog:!1}),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sentry.init({dsn:this.environment.sentryDsn,release:this.revisionService.getRevision(),environment:this.environment.sentryEnvironment,integrations:[tm(),Jc()],sampleRate:this.environment.sentrySampleRate,tracesSampleRate:this.environment.sentrySampleRate,replaysSessionSampleRate:0,replaysOnErrorSampleRate:this.environment.sentrySampleRate,debug:!this.environment.production}),this.isInitialized=!0},10)}))}handleError(r){/Loading chunk [\d]+ failed/.test(r.message)&&this.window?.location.reload(),this.isInitialized&&this.errorHandler?.handleError(r),this.environment.enableConsoleLogging&&console.error(r)}captureError(r){this.sentry.captureException(r),this.environment.enableConsoleLogging&&console.error(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var iT=(()=>{let t=class t{constructor(){this.isBrowser=$(Oe),this.rendererFactory=$(ao),this.renderer=this.rendererFactory.createRenderer(null,null),this.document=$(it),this.preConnectUrls=["https://www.redditstatic.com","https://pixel-config.reddit.com","https://alb.reddit.com","https://rollout.ada.support","https://printify.ada.support","https://static.ada.support","https://cdn.segment.com","https://static.ada.support","https://cdn.heapanalytics.com","https://heapanalytics.com","https://www.facebook.com","https://connect.facebook.net","https://consent-eu.cookiefirst.com","https://consent.cookiefirst.com","https://snap.licdn.com","https://px.ads.linkedin.com","https://s.pinimg.com","https://www.googletagmanager.com","https://region1.google-analytics.com","https://analytics.tiktok.com","https://rs.fullstory.com","https://edge.fullstory.com","https://bat.bing.com","https://logx.optimizely.com"],this.linkTags=[{rel:"profile",href:"https://gmpg.org/xfn/11"},{rel:"shortcut icon",href:"https://printify.com/wp-content/themes/printify/assets/favicon-48.png",sizes:"48x48",type:"image/png"},{rel:"shortcut icon",href:"https://printify.com/wp-content/themes/printify/assets/favicon-96.png",sizes:"96x96",type:"image/png"},{rel:"shortcut icon",href:"https://printify.com/wp-content/themes/printify/assets/favicon-144.png",sizes:"144x144",type:"image/png"}]}setup(){this.isBrowser||(this.linkTags.forEach(r=>this.addLinkTag(r)),this.preConnectUrls.forEach(r=>this.addLinkTag({rel:"preconnect",crossorigin:"anonymous",href:r})))}addLinkTag(r){let o=this.renderer.createElement("link");this.renderer.setAttribute(o,"rel",r.rel),this.renderer.setAttribute(o,"href",r.href),r.crossorigin&&this.renderer.setAttribute(o,"crossorigin",r.crossorigin),r.sizes&&this.renderer.setAttribute(o,"sizes",r.sizes),r.type&&this.renderer.setAttribute(o,"type",r.type),this.renderer.appendChild(this.document.head,o)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ys="Printify Drop Shipping & Printing Service for E-commerce",yu="Sell custom t-shirts, phone cases, and 900+ products with your designs printed on demand. We will handle printing and shipping to your customers.",nm="https://printify.com/wp-content/uploads/2024/01/Printify-thumbnail.webp";var sT=(()=>{let t=class t{constructor(){this.revisionService=$(Su),this.meta=$(ea),this.metaTags=[{name:"description",content:yu},{name:"robots",content:"follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large"},{name:"google-site-verification",content:"pFLUjlN9qz7ix69bRBY9nk7ClIjtL9OZ3H0rf-a6qHk"},...this.getOgMetaTags(Ys,yu,nm),...this.getTwitterMetaTags(Ys,yu,nm)]}setup(){let r=this.revisionService.getRevisionMetaTagContent();this.meta.addTags(this.metaTags),r&&this.meta.addTag(r)}getOgMetaTags(r,o,i){return[{name:"og:locale",content:"en_US"},{name:"og:type",content:"website"},{name:"og:title",content:r},{name:"og:description",content:o},{name:"og:url",content:"https://printify.com/"},{name:"og:site_name",content:"Printify"},{name:"og:updated_time",content:"2022-04-28T06:28:11+00:00"},{name:"og:image",content:i},{name:"og:image:secure_url",content:i},{name:"og:image:width",content:"1200"},{name:"og:image:height",content:"630"},{name:"og:image:alt",content:"Printify thumbnail"},{name:"og:image:type",content:"image/webp"}]}getTwitterMetaTags(r,o,i){return[{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:r},{name:"twitter:description",content:o},{name:"twitter:site",content:"@printify"},{name:"twitter:creator",content:"@printify"},{name:"twitter:image",content:i}]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var aT={"@context":"https://schema.org","@graph":[{"@type":"Place","@id":"https://printify.com/#place",address:{"@type":"PostalAddress",streetAddress:"108 West 13th Street",addressLocality:"Wilmington",addressRegion:"Delaware",postalCode:"19801",addressCountry:"United States of America"}},{"@type":"Organization","@id":"https://printify.com/#organization",name:"Printify",url:"https://printify.com",sameAs:["https://www.facebook.com/Printify/","https://twitter.com/printify"],address:{"@type":"PostalAddress",streetAddress:"108 West 13th Street",addressLocality:"Wilmington",addressRegion:"Delaware",postalCode:"19801",addressCountry:"United States of America"},location:{"@id":"https://printify.com/#place"}},{"@type":"WebSite","@id":"https://printify.com/#website",url:"https://printify.com",name:"Printify",publisher:{"@id":"https://printify.com/#organization"},inLanguage:"en-US",potentialAction:{"@type":"SearchAction",target:"https://printify.com/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"https://printify.com/wp-content/uploads/2024/01/Printify-thumbnail.webp",url:"https://printify.com/wp-content/uploads/2024/01/Printify-thumbnail.webp",width:"1200",height:"630",caption:"Printify thumbnail",inLanguage:"en-US"},{"@type":"WebPage","@id":"https://printify.com/#webpage",url:"https://printify.com/",name:"Printify Drop Shipping &amp; Printing Service for E-commerce",datePublished:"2021-03-03T06:02:37+00:00",dateModified:"2022-04-28T06:28:11+00:00",about:{"@id":"https://printify.com/#organization"},isPartOf:{"@id":"https://printify.com/#website"},primaryImageOfPage:{"@id":"https://printify.com/wp-content/uploads/2024/01/Printify-thumbnail.webp"},inLanguage:"en-US"}]};var cT=(()=>{let t=class t{constructor(){this.isBrowser=$(Oe),this.rendererFactory=$(ao),this.renderer=this.rendererFactory.createRenderer(null,null),this.document=$(it)}setup(){this.isBrowser||this.setStructuredData(aT)}setStructuredData(r){let o=this.renderer.createElement("script");this.renderer.setAttribute(o,"type","application/ld+json"),this.renderer.setAttribute(o,"innerHTML",JSON.stringify(r)),this.renderer.appendChild(this.document.head,o)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var uT=(()=>{let t=class t{constructor(){this.title=$(Am),this.document=$(it),this.rendererFactory=$(ao),this.renderer=this.rendererFactory.createRenderer(null,null),this.metaTagsService=$(sT),this.linkTagsService=$(iT),this.structuredDataService=$(cT)}setup(){this.title.setTitle(Ys),this.setCanonicalLink("https://printify.com/"),this.metaTagsService.setup(),this.linkTagsService.setup(),this.structuredDataService.setup()}setCanonicalLink(r){let o=this.document.querySelector('link[rel="canonical"]');o||(o=this.renderer.createElement("link"),this.renderer.setAttribute(o,"rel","canonical"),this.renderer.appendChild(this.document.head,o)),this.renderer.setAttribute(o,"href",r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Bn=function(e){return e.FirstReferrer="firstReferrer",e.LastReferrer="lastReferrer",e.FirstLandingPage="firstLandingPage",e.FirstQuery="firstQuery",e.LastQuery="lastQuery",e}(Bn||{}),lT=20;var dT=(()=>{let t=class t{constructor(){this.window=$(Hn),this.document=$(it),this.storageService=$(uo),this.isBrowser=$(Oe)}storeAnalyticsAttributes(){if(this.isBrowser){if(this.document.referrer){let r=new URLSearchParams(this.document.referrer.split("?")[1]),o=this.document.referrer.match(/^https?:\/\/.+\.shopify\.com/);this.addAmccItem(o?{channel:"Shopify",campaign:"Referral"}:{channel:r.get("amcc_channel"),campaign:r.get("amcc_campaign")})}this.setGclid(),this.setReferralOrigins(),this.setFirstLandingPage()}}setGclid(){if(!this.window)return;let o=new URLSearchParams(this.window.location.search).get("gclid");o&&this.storageService.set("gclid",o,$e.Local)}setReferralOrigins(){if(!this.window)return;let r=this.document.referrer;(!r||r.includes(this.window.location.origin))&&(r="direct");let o=this.storageService.getString(Bn.FirstReferrer,"",$e.Local),i=this.window.location.search;o||(this.storageService.set(Bn.FirstReferrer,r,$e.Local),i&&this.storageService.set(Bn.FirstQuery,i,$e.Local)),this.storageService.set(Bn.LastReferrer,r,$e.Local),i&&this.storageService.set(Bn.LastQuery,i,$e.Local)}setFirstLandingPage(){this.storageService.getString(Bn.FirstLandingPage,"",$e.Local)||this.storageService.set(Bn.FirstLandingPage,this.document.URL,$e.Local)}addAmccItem(r){let o=this.storageService.getNonPrimitive("amcc",[],$e.Local);Array.isArray(o)||(o=[]);let i=o[o.length-1],s=i&&i.channel===r.channel&&i.campaign===r.campaign;r.channel&&r.campaign&&!s&&(o.push(r),this.storageService.set("amcc",o.slice(-lT),$e.Local))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var pT={providers:[Sm({eventCoalescing:!0}),Bm([{path:"",component:zm}]),{provide:ym,useValue:"/"},{provide:co,useValue:rT},{provide:Hn,useFactory:e=>e.get(Oe)?window:null,deps:[Si]},{provide:Mm,useFactory:e=>!e.get(Oe)||!vu($e.Local)?null:localStorage,deps:[Si]},{provide:Om,useFactory:e=>!e.get(Oe)||!vu($e.Session)?null:sessionStorage,deps:[Si]},{provide:Oe,useFactory:e=>{let t=e.get(lm);return bm(t)},deps:[Si]},uo,{provide:um,useClass:oT},{provide:gu,deps:[ta]},{provide:Qs,useFactory:()=>()=>{},deps:[gu],multi:!0},jm,{provide:Qs,multi:!0,deps:[dT],useFactory(e){return()=>e.storeAnalyticsAttributes()}},{provide:Qs,multi:!0,deps:[uT],useFactory(e){return()=>e.setup()}},Nm(wm()),vm(xm(),Cm())]};Rm(Km,pT).catch(e=>console.error(e));
